<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>员工管理 - 中国牛产业数智云平台</title>
  <link rel="stylesheet" href="../../assets/css/variables.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/mobile.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
      background: #F5F5F5;
      min-height: 100vh;
      padding-bottom: 80px;
    }

    /* 顶部Header */
    .header {
      background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
      padding: 48px 16px 20px;
      color: white;
    }

    .header-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .back-btn {
      font-size: 22px;
      text-decoration: none;
      color: white;
      padding: 4px;
    }

    .header-title {
      font-size: 17px;
      font-weight: 600;
    }

    .header-action {
      font-size: 14px;
      color: white;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* 统计卡片 */
    .stats-card {
      background: white;
      margin: -20px 16px 16px;
      border-radius: 12px;
      padding: 16px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      position: relative;
      z-index: 1;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 600;
      color: #2E7D32;
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 12px;
      color: #757575;
    }

    /* 角色筛选 */
    .role-tabs {
      display: flex;
      gap: 8px;
      padding: 0 16px;
      margin-bottom: 16px;
      overflow-x: auto;
    }

    .role-tab {
      padding: 8px 16px;
      background: white;
      border: 1px solid #E0E0E0;
      border-radius: 20px;
      font-size: 13px;
      color: #424242;
      cursor: pointer;
      white-space: nowrap;
    }

    .role-tab.active {
      background: #E8F5E9;
      border-color: #4CAF50;
      color: #2E7D32;
      font-weight: 500;
    }

    /* 员工列表 */
    .staff-list {
      padding: 0 16px;
    }

    .staff-card {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
    }

    .staff-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .staff-avatar {
      width: 48px;
      height: 48px;
      border-radius: 24px;
      background: linear-gradient(135deg, #81C784, #4CAF50);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
      font-weight: 500;
    }

    .staff-avatar.female {
      background: linear-gradient(135deg, #F48FB1, #E91E63);
    }

    .staff-info {
      flex: 1;
    }

    .staff-name {
      font-size: 15px;
      font-weight: 600;
      color: #212121;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .staff-role {
      display: inline-block;
      padding: 2px 8px;
      background: #E8F5E9;
      border-radius: 10px;
      font-size: 11px;
      color: #2E7D32;
      font-weight: 400;
    }

    .staff-role.admin {
      background: #FFF3E0;
      color: #E65100;
    }

    .staff-phone {
      font-size: 13px;
      color: #757575;
    }

    .staff-status {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .staff-status.active {
      background: #E8F5E9;
      color: #2E7D32;
    }

    .staff-status.inactive {
      background: #FFEBEE;
      color: #C62828;
    }

    .staff-meta {
      display: flex;
      justify-content: space-between;
      padding-top: 12px;
      border-top: 1px solid #F5F5F5;
      margin-bottom: 12px;
    }

    .meta-item {
      text-align: center;
    }

    .meta-value {
      font-size: 14px;
      font-weight: 600;
      color: #212121;
    }

    .meta-label {
      font-size: 11px;
      color: #9E9E9E;
      margin-top: 2px;
    }

    /* 权限标签 */
    .permission-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 12px;
    }

    .permission-tag {
      padding: 4px 10px;
      background: #F5F5F5;
      border-radius: 12px;
      font-size: 11px;
      color: #616161;
    }

    .permission-tag i {
      margin-right: 4px;
      font-size: 12px;
    }

    /* 操作按钮 */
    .staff-actions {
      display: flex;
      gap: 8px;
    }

    .action-btn {
      flex: 1;
      padding: 10px;
      border: 1px solid #E0E0E0;
      border-radius: 8px;
      background: white;
      font-size: 13px;
      color: #424242;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      cursor: pointer;
    }

    .action-btn.primary {
      background: #4CAF50;
      border-color: #4CAF50;
      color: white;
    }

    .action-btn i {
      font-size: 16px;
    }

    /* 添加员工按钮 */
    .add-btn {
      position: fixed;
      bottom: calc(20px + env(safe-area-inset-bottom, 0px));
      right: max(20px, calc(50% - 194px));
      width: 56px;
      height: 56px;
      border-radius: 28px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 28px;
      cursor: pointer;
      z-index: 100;
    }

    /* 空状态 */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }

    .empty-icon {
      font-size: 64px;
      color: #E0E0E0;
      margin-bottom: 16px;
    }

    .empty-title {
      font-size: 16px;
      color: #9E9E9E;
      margin-bottom: 8px;
    }

    .empty-desc {
      font-size: 13px;
      color: #BDBDBD;
    }

    /* 弹窗 */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      display: none;
      align-items: flex-end;
      justify-content: center;
    }

    .modal-overlay.show {
      display: flex;
    }

    .modal-content {
      background: white;
      width: 100%;
      max-width: 428px;
      border-radius: 16px 16px 0 0;
      padding: 24px 16px calc(24px + env(safe-area-inset-bottom, 0px));
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        transform: translateY(100%);
      }
      to {
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .modal-title {
      font-size: 17px;
      font-weight: 600;
      color: #212121;
    }

    .modal-close {
      font-size: 24px;
      color: #9E9E9E;
      cursor: pointer;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      font-size: 14px;
      color: #424242;
      margin-bottom: 8px;
      display: block;
    }

    .form-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #E0E0E0;
      border-radius: 8px;
      font-size: 14px;
      color: #212121;
    }

    .form-input:focus {
      outline: none;
      border-color: #4CAF50;
    }

    .form-select {
      width: 100%;
      padding: 12px;
      border: 1px solid #E0E0E0;
      border-radius: 8px;
      font-size: 14px;
      color: #212121;
      background: white;
    }

    .permission-checkboxes {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      background: #F5F5F5;
      border-radius: 8px;
      cursor: pointer;
    }

    .checkbox-item.checked {
      background: #E8F5E9;
    }

    .checkbox-item input {
      display: none;
    }

    .checkbox-item i {
      font-size: 18px;
      color: #9E9E9E;
    }

    .checkbox-item.checked i {
      color: #4CAF50;
    }

    .checkbox-item span {
      font-size: 13px;
      color: #424242;
    }

    .submit-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      margin-top: 20px;
    }

    /* Toast */
    .toast {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.75);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 1100;
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
    }

    .toast.show {
      opacity: 1;
    }
  </style>
</head>

<body class="theme-green">
  <!-- 顶部Header -->
  <header class="header">
    <div class="header-bar">
      <a href="center.html" class="back-btn"><i class="mdi mdi-arrow-left"></i></a>
      <span class="header-title">员工管理</span>
      <a href="#" class="header-action" onclick="showInviteCode()"><i class="mdi mdi-qrcode"></i> 邀请码</a>
    </div>
  </header>

  <!-- 统计卡片 -->
  <div class="stats-card">
    <div class="stat-item">
      <div class="stat-value">12</div>
      <div class="stat-label">总员工数</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">10</div>
      <div class="stat-label">在职员工</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">2</div>
      <div class="stat-label">待审批</div>
    </div>
  </div>

  <!-- 角色筛选 -->
  <div class="role-tabs">
    <div class="role-tab active" onclick="filterRole('all')">全部</div>
    <div class="role-tab" onclick="filterRole('admin')">管理员</div>
    <div class="role-tab" onclick="filterRole('sales')">销售</div>
    <div class="role-tab" onclick="filterRole('purchase')">采购</div>
    <div class="role-tab" onclick="filterRole('warehouse')">仓管</div>
    <div class="role-tab" onclick="filterRole('driver')">司机</div>
  </div>

  <!-- 员工列表 -->
  <div class="staff-list">
    <!-- 管理员 -->
    <div class="staff-card">
      <div class="staff-header">
        <div class="staff-avatar">李</div>
        <div class="staff-info">
          <div class="staff-name">
            李明辉
            <span class="staff-role admin">管理员</span>
          </div>
          <div class="staff-phone">138****8888</div>
        </div>
        <span class="staff-status active">在职</span>
      </div>
      <div class="staff-meta">
        <div class="meta-item">
          <div class="meta-value">2023-01-15</div>
          <div class="meta-label">入职日期</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">365</div>
          <div class="meta-label">在职天数</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">156</div>
          <div class="meta-label">操作记录</div>
        </div>
      </div>
      <div class="permission-tags">
        <span class="permission-tag"><i class="mdi mdi-cog"></i>系统设置</span>
        <span class="permission-tag"><i class="mdi mdi-account-multiple"></i>员工管理</span>
        <span class="permission-tag"><i class="mdi mdi-chart-line"></i>数据报表</span>
        <span class="permission-tag"><i class="mdi mdi-file-document"></i>订单管理</span>
      </div>
      <div class="staff-actions">
        <button class="action-btn" onclick="viewStaff(1)"><i class="mdi mdi-eye"></i>查看</button>
        <button class="action-btn" onclick="editStaff(1)"><i class="mdi mdi-pencil"></i>编辑</button>
        <button class="action-btn primary" onclick="callStaff('13888888888')"><i class="mdi mdi-phone"></i>联系</button>
      </div>
    </div>

    <!-- 销售 -->
    <div class="staff-card">
      <div class="staff-header">
        <div class="staff-avatar female">王</div>
        <div class="staff-info">
          <div class="staff-name">
            王小红
            <span class="staff-role">销售</span>
          </div>
          <div class="staff-phone">139****6666</div>
        </div>
        <span class="staff-status active">在职</span>
      </div>
      <div class="staff-meta">
        <div class="meta-item">
          <div class="meta-value">2023-06-20</div>
          <div class="meta-label">入职日期</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">180</div>
          <div class="meta-label">在职天数</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">89</div>
          <div class="meta-label">成交订单</div>
        </div>
      </div>
      <div class="permission-tags">
        <span class="permission-tag"><i class="mdi mdi-file-document"></i>订单管理</span>
        <span class="permission-tag"><i class="mdi mdi-account-group"></i>客户管理</span>
        <span class="permission-tag"><i class="mdi mdi-message-text"></i>询价报价</span>
      </div>
      <div class="staff-actions">
        <button class="action-btn" onclick="viewStaff(2)"><i class="mdi mdi-eye"></i>查看</button>
        <button class="action-btn" onclick="editStaff(2)"><i class="mdi mdi-pencil"></i>编辑</button>
        <button class="action-btn primary" onclick="callStaff('13966666666')"><i class="mdi mdi-phone"></i>联系</button>
      </div>
    </div>

    <!-- 采购 -->
    <div class="staff-card">
      <div class="staff-header">
        <div class="staff-avatar">张</div>
        <div class="staff-info">
          <div class="staff-name">
            张建国
            <span class="staff-role">采购</span>
          </div>
          <div class="staff-phone">137****5555</div>
        </div>
        <span class="staff-status active">在职</span>
      </div>
      <div class="staff-meta">
        <div class="meta-item">
          <div class="meta-value">2023-03-10</div>
          <div class="meta-label">入职日期</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">290</div>
          <div class="meta-label">在职天数</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">45</div>
          <div class="meta-label">采购订单</div>
        </div>
      </div>
      <div class="permission-tags">
        <span class="permission-tag"><i class="mdi mdi-cart"></i>采购管理</span>
        <span class="permission-tag"><i class="mdi mdi-account-tie"></i>供应商管理</span>
        <span class="permission-tag"><i class="mdi mdi-package-variant"></i>库存查看</span>
      </div>
      <div class="staff-actions">
        <button class="action-btn" onclick="viewStaff(3)"><i class="mdi mdi-eye"></i>查看</button>
        <button class="action-btn" onclick="editStaff(3)"><i class="mdi mdi-pencil"></i>编辑</button>
        <button class="action-btn primary" onclick="callStaff('13755555555')"><i class="mdi mdi-phone"></i>联系</button>
      </div>
    </div>

    <!-- 待审批员工 -->
    <div class="staff-card" style="border-left: 3px solid #FF9800;">
      <div class="staff-header">
        <div class="staff-avatar">陈</div>
        <div class="staff-info">
          <div class="staff-name">
            陈小明
            <span class="staff-role">销售</span>
          </div>
          <div class="staff-phone">136****4444</div>
        </div>
        <span class="staff-status" style="background: #FFF3E0; color: #E65100;">待审批</span>
      </div>
      <div class="staff-meta">
        <div class="meta-item">
          <div class="meta-value">2024-12-20</div>
          <div class="meta-label">申请日期</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">销售</div>
          <div class="meta-label">申请岗位</div>
        </div>
        <div class="meta-item">
          <div class="meta-value">邀请码</div>
          <div class="meta-label">加入方式</div>
        </div>
      </div>
      <div class="staff-actions">
        <button class="action-btn" onclick="rejectStaff(4)"><i class="mdi mdi-close"></i>拒绝</button>
        <button class="action-btn primary" onclick="approveStaff(4)"><i class="mdi mdi-check"></i>通过</button>
      </div>
    </div>
  </div>

  <!-- 添加按钮 -->
  <div class="add-btn" onclick="showAddModal()">
    <i class="mdi mdi-plus"></i>
  </div>

  <!-- 添加员工弹窗 -->
  <div class="modal-overlay" id="addModal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-title">添加员工</span>
        <i class="mdi mdi-close modal-close" onclick="closeModal()"></i>
      </div>

      <div class="form-group">
        <label class="form-label">员工姓名</label>
        <input type="text" class="form-input" placeholder="请输入员工姓名">
      </div>

      <div class="form-group">
        <label class="form-label">手机号码</label>
        <input type="tel" class="form-input" placeholder="请输入手机号码">
      </div>

      <div class="form-group">
        <label class="form-label">岗位角色</label>
        <select class="form-select">
          <option value="">请选择岗位</option>
          <option value="admin">管理员</option>
          <option value="sales">销售</option>
          <option value="purchase">采购</option>
          <option value="warehouse">仓管</option>
          <option value="driver">司机</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">权限设置</label>
        <div class="permission-checkboxes">
          <label class="checkbox-item checked">
            <input type="checkbox" checked>
            <i class="mdi mdi-checkbox-marked"></i>
            <span>订单管理</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <i class="mdi mdi-checkbox-blank-outline"></i>
            <span>客户管理</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <i class="mdi mdi-checkbox-blank-outline"></i>
            <span>供应商管理</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <i class="mdi mdi-checkbox-blank-outline"></i>
            <span>库存管理</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <i class="mdi mdi-checkbox-blank-outline"></i>
            <span>数据报表</span>
          </label>
        </div>
      </div>

      <button class="submit-btn" onclick="submitAddStaff()">确认添加</button>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <script>
    function filterRole(role) {
      document.querySelectorAll('.role-tab').forEach(tab => tab.classList.remove('active'));
      event.target.classList.add('active');
      showToast('筛选: ' + getRoleName(role));
    }

    function getRoleName(role) {
      const names = {
        'all': '全部',
        'admin': '管理员',
        'sales': '销售',
        'purchase': '采购',
        'warehouse': '仓管',
        'driver': '司机'
      };
      return names[role] || role;
    }

    function viewStaff(id) {
      showToast('查看员工详情');
    }

    function editStaff(id) {
      showToast('编辑员工信息');
    }

    function callStaff(phone) {
      showToast('拨打: ' + phone);
    }

    function approveStaff(id) {
      showToast('已通过审批');
    }

    function rejectStaff(id) {
      showToast('已拒绝申请');
    }

    function showInviteCode() {
      showToast('显示员工邀请二维码');
    }

    function showAddModal() {
      document.getElementById('addModal').classList.add('show');
    }

    function closeModal() {
      document.getElementById('addModal').classList.remove('show');
    }

    function submitAddStaff() {
      closeModal();
      showToast('员工添加成功');
    }

    // 权限复选框交互
    document.querySelectorAll('.checkbox-item').forEach(item => {
      item.addEventListener('click', function() {
        const checkbox = this.querySelector('input');
        checkbox.checked = !checkbox.checked;
        this.classList.toggle('checked', checkbox.checked);

        const icon = this.querySelector('i');
        if (checkbox.checked) {
          icon.className = 'mdi mdi-checkbox-marked';
        } else {
          icon.className = 'mdi mdi-checkbox-blank-outline';
        }
      });
    });

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }
  </script>
</body>

</html>
