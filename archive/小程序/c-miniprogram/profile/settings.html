<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>è®¾ç½® - æº¯æºå•†åŸ</title>
  <link rel="stylesheet" href="../../assets/css/variables.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/mobile.css">
  <style>
    .settings-group {
      background: var(--bg-white);
      margin-bottom: var(--spacing-md);
    }
    .group-title {
      padding: var(--spacing-md) var(--spacing-lg);
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
      background: var(--bg-gray);
    }
    .settings-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid var(--border-color);
      cursor: pointer;
    }
    .settings-item:last-child {
      border-bottom: none;
    }
    .item-left {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      flex: 1;
    }
    .item-icon {
      font-size: var(--font-size-xl);
    }
    .item-content {
      flex: 1;
    }
    .item-title {
      font-size: var(--font-size-base);
      margin-bottom: 2px;
    }
    .item-desc {
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
    }
    .item-right {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      font-size: var(--font-size-sm);
      color: var(--text-tertiary);
    }
    .item-arrow {
      color: var(--text-tertiary);
    }
    .switch {
      position: relative;
      width: 48px;
      height: 28px;
      background: var(--bg-gray);
      border-radius: 14px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .switch.active {
      background: var(--primary-color);
    }
    .switch::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      transition: left 0.3s;
    }
    .switch.active::after {
      left: 22px;
    }
    .version-info {
      text-align: center;
      padding: var(--spacing-xl);
      color: var(--text-tertiary);
      font-size: var(--font-size-sm);
    }
    .logout-btn {
      margin: var(--spacing-xl) var(--spacing-lg);
      padding: var(--spacing-md);
      background: var(--bg-white);
      color: var(--error-color);
      border: 1px solid var(--error-color);
      border-radius: var(--radius-md);
      font-size: var(--font-size-base);
      cursor: pointer;
      width: calc(100% - var(--spacing-lg) * 2);
    }
  </style>
</head>
<body>
  <div class="mobile-container">
    <div class="mobile-header">
      <div class="mobile-header-back" onclick="window.history.back()">â†</div>
      <div class="mobile-header-title">è®¾ç½®</div>
    </div>
    <div class="mobile-content">
      <!-- è´¦å·è®¾ç½® -->
      <div class="settings-group">
        <div class="group-title">è´¦å·è®¾ç½®</div>
        <div class="settings-item" onclick="goToProfile()">
          <div class="item-left">
            <div class="item-icon"></div>
            <div class="item-content">
              <div class="item-title">ä¸ªäººä¿¡æ¯</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="changePassword()">
          <div class="item-left">
            <div class="item-icon">ğŸ”</div>
            <div class="item-content">
              <div class="item-title">ä¿®æ”¹å¯†ç </div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="manageAddress()">
          <div class="item-left">
            <div class="item-icon">ğŸ“</div>
            <div class="item-content">
              <div class="item-title">æ”¶è´§åœ°å€</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
      </div>

      <!-- é€šçŸ¥è®¾ç½® -->
      <div class="settings-group">
        <div class="group-title">é€šçŸ¥è®¾ç½®</div>
        <div class="settings-item">
          <div class="item-left">
            <div class="item-icon">ğŸ””</div>
            <div class="item-content">
              <div class="item-title">è®¢å•é€šçŸ¥</div>
              <div class="item-desc">æ¥æ”¶è®¢å•çŠ¶æ€æ›´æ–°æé†’</div>
            </div>
          </div>
          <div class="item-right">
            <div class="switch active" onclick="toggleSwitch(event)"></div>
          </div>
        </div>
        <div class="settings-item">
          <div class="item-left">
            <div class="item-icon"></div>
            <div class="item-content">
              <div class="item-title">æ¶ˆæ¯é€šçŸ¥</div>
              <div class="item-desc">æ¥æ”¶ç³»ç»Ÿæ¶ˆæ¯å’Œæ´»åŠ¨æ¨é€</div>
            </div>
          </div>
          <div class="item-right">
            <div class="switch active" onclick="toggleSwitch(event)"></div>
          </div>
        </div>
        <div class="settings-item">
          <div class="item-left">
            <div class="item-icon">ğŸ“¢</div>
            <div class="item-content">
              <div class="item-title">è¥é”€æ¨é€</div>
              <div class="item-desc">æ¥æ”¶ä¼˜æƒ å’Œä¿ƒé”€ä¿¡æ¯</div>
            </div>
          </div>
          <div class="item-right">
            <div class="switch" onclick="toggleSwitch(event)"></div>
          </div>
        </div>
      </div>

      <!-- éšç§ä¸å®‰å…¨ -->
      <div class="settings-group">
        <div class="group-title">éšç§ä¸å®‰å…¨</div>
        <div class="settings-item" onclick="privacySettings()">
          <div class="item-left">
            <div class="item-icon">ğŸ”’</div>
            <div class="item-content">
              <div class="item-title">éšç§è®¾ç½®</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="accountSecurity()">
          <div class="item-left">
            <div class="item-icon">ğŸ›¡ï¸</div>
            <div class="item-content">
              <div class="item-title">è´¦å·å®‰å…¨</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item">
          <div class="item-left">
            <div class="item-icon">ğŸ‘†</div>
            <div class="item-content">
              <div class="item-title">ç”Ÿç‰©è¯†åˆ«</div>
              <div class="item-desc">ä½¿ç”¨æŒ‡çº¹/é¢å®¹ç™»å½•</div>
            </div>
          </div>
          <div class="item-right">
            <div class="switch active" onclick="toggleSwitch(event)"></div>
          </div>
        </div>
      </div>

      <!-- é€šç”¨è®¾ç½® -->
      <div class="settings-group">
        <div class="group-title">é€šç”¨è®¾ç½®</div>
        <div class="settings-item" onclick="languageSettings()">
          <div class="item-left">
            <div class="item-icon">ğŸŒ</div>
            <div class="item-content">
              <div class="item-title">è¯­è¨€</div>
            </div>
          </div>
          <div class="item-right">
            <span>ç®€ä½“ä¸­æ–‡</span>
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="clearCache()">
          <div class="item-left">
            <div class="item-icon">ğŸ—‘ï¸</div>
            <div class="item-content">
              <div class="item-title">æ¸…é™¤ç¼“å­˜</div>
            </div>
          </div>
          <div class="item-right">
            <span>32.5 MB</span>
            <span class="item-arrow">â€º</span>
          </div>
        </div>
      </div>

      <!-- å…³äº -->
      <div class="settings-group">
        <div class="group-title">å…³äº</div>
        <div class="settings-item" onclick="aboutUs()">
          <div class="item-left">
            <div class="item-icon">â„¹ï¸</div>
            <div class="item-content">
              <div class="item-title">å…³äºæˆ‘ä»¬</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="checkUpdate()">
          <div class="item-left">
            <div class="item-icon">ğŸ”„</div>
            <div class="item-content">
              <div class="item-title">æ£€æŸ¥æ›´æ–°</div>
            </div>
          </div>
          <div class="item-right">
            <span>v1.0.0</span>
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="userAgreement()">
          <div class="item-left">
            <div class="item-icon">ğŸ“„</div>
            <div class="item-content">
              <div class="item-title">ç”¨æˆ·åè®®</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
        <div class="settings-item" onclick="privacyPolicy()">
          <div class="item-left">
            <div class="item-icon">ğŸ“‹</div>
            <div class="item-content">
              <div class="item-title">éšç§æ”¿ç­–</div>
            </div>
          </div>
          <div class="item-right">
            <span class="item-arrow">â€º</span>
          </div>
        </div>
      </div>

      <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
      <div class="version-info">
        æº¯æºå•†åŸç³»ç»Ÿ v1.0.0
        <br>
        Â© 2025 Cretas. All rights reserved.
      </div>

      <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
      <button class="logout-btn" onclick="logout()">é€€å‡ºç™»å½•</button>
    </div>
  </div>

  <script src="../../assets/js/utils.js"></script>
  <script>
    function toggleSwitch(event) {
      event.stopPropagation();
      const switchEl = event.currentTarget;
      switchEl.classList.toggle('active');
      const isActive = switchEl.classList.contains('active');
      Utils.showToast(isActive ? 'å·²å¼€å¯' : 'å·²å…³é—­');
    }

    function goToProfile() {
      window.location.href = 'index.html';
    }

    function changePassword() {
      Utils.showToast('ä¿®æ”¹å¯†ç åŠŸèƒ½å¼€å‘ä¸­');
    }

    function manageAddress() {
      Utils.showToast('åœ°å€ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­');
    }

    function privacySettings() {
      Utils.showToast('éšç§è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­');
    }

    function accountSecurity() {
      Utils.showToast('è´¦å·å®‰å…¨åŠŸèƒ½å¼€å‘ä¸­');
    }

    function languageSettings() {
      Utils.showToast('è¯­è¨€è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­');
    }

    async function clearCache() {
      const confirmed = await Utils.confirm('ç¡®è®¤æ¸…é™¤ç¼“å­˜ï¼Ÿ\næ¸…é™¤åéœ€è¦é‡æ–°åŠ è½½æ•°æ®', 'æ¸…é™¤ç¼“å­˜');
      if (!confirmed) return;

      Utils.showLoading('æ¸…é™¤ä¸­...');
      await Utils.sleep(1500);
      Utils.hideLoading();
      Utils.showToast('ç¼“å­˜å·²æ¸…é™¤', 'success');
    }

    function aboutUs() {
      Utils.showToast('å…³äºæˆ‘ä»¬é¡µé¢å¼€å‘ä¸­');
    }

    async function checkUpdate() {
      Utils.showLoading('æ£€æŸ¥ä¸­...');
      await Utils.sleep(1500);
      Utils.hideLoading();
      Utils.showToast('å·²æ˜¯æœ€æ–°ç‰ˆæœ¬', 'success');
    }

    function userAgreement() {
      Utils.showToast('ç”¨æˆ·åè®®é¡µé¢å¼€å‘ä¸­');
    }

    function privacyPolicy() {
      Utils.showToast('éšç§æ”¿ç­–é¡µé¢å¼€å‘ä¸­');
    }

    async function logout() {
      const confirmed = await Utils.confirm('ç¡®è®¤é€€å‡ºç™»å½•ï¼Ÿ', 'é€€å‡ºç™»å½•');
      if (!confirmed) return;

      Utils.showLoading('é€€å‡ºä¸­...');
      await Utils.sleep(1000);
      Utils.hideLoading();

      // æ¸…é™¤ç”¨æˆ·çŠ¶æ€
      localStorage.clear();

      Utils.showToast('å·²é€€å‡ºç™»å½•', 'success');
      await Utils.sleep(500);

      // è·³è½¬åˆ°ç™»å½•é¡µ
      window.location.href = '../auth/login.html';
    }
  </script>
</body>
</html>
