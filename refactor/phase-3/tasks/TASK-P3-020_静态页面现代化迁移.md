# TASK-P3-020: é™æ€é¡µé¢ç°ä»£åŒ–è¿ç§»

**ä»»åŠ¡ID**: TASK-P3-020  
**ä»»åŠ¡ç±»å‹**: ğŸ“„ é¡µé¢ç°ä»£åŒ–è¿ç§»  
**ä¼˜å…ˆçº§**: P0 (é«˜) **ã€å·²è°ƒæ•´ã€‘**  
**é¢„ä¼°å·¥æœŸ**: 18ä¸ªå·¥ä½œæ—¥ **ã€å·²è°ƒæ•´ã€‘**  
**çŠ¶æ€**: ğŸ“ è§„åˆ’ä¸­  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-15  
**æœ€åæ›´æ–°**: 2025-01-15  
**ä¾èµ–ä»»åŠ¡**: TASK-P3-015 (ç°ä»£åŒ–ç»„ä»¶åº“) âœ… å·²å®Œæˆ

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

å°†web-appä¸­çš„**84ä¸ªé¡µé¢**(26ä¸»é¡µé¢+58äºŒçº§é¡µé¢)è¿ç§»åˆ°web-app-nextçš„Next.jsç°ä»£åŒ–æ¶æ„ä¸­ï¼Œ**å®Œæ•´ä¿ç•™æ‰€æœ‰é¡µé¢é—´è·³è½¬å…³ç³»å’Œç”¨æˆ·æµç¨‹**ã€‚ç¡®ä¿ä¸¥æ ¼éµå¾ªPhase-3æŠ€æœ¯æ ˆè§„èŒƒå’ŒNeo Minimal iOS-Styleè®¾è®¡ç³»ç»Ÿã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ ‡

1. **æŠ€æœ¯æ ˆç°ä»£åŒ–**: HTML/CSS/JS â†’ Next.js 14 + TypeScript 5
2. **å®Œæ•´è·³è½¬ä¿ç•™**: æ‰€æœ‰84ä¸ªé¡µé¢çš„è·³è½¬é€»è¾‘å’Œç”¨æˆ·æµç¨‹
3. **é¢„è§ˆç³»ç»Ÿå‡çº§**: ç°ä»£åŒ–`index.html`ä¸ºäº¤äº’å¼é¢„è§ˆå¹³å°
4. **ç»„ä»¶åŒ–é‡æ„**: ä½¿ç”¨å·²å®Œæˆçš„15ä¸ªç°ä»£åŒ–ç»„ä»¶åº“
5. **æ€§èƒ½ä¼˜åŒ–**: SSG/SSR + é¦–å±<2ç§’

## ğŸ“Š è¿ç§»èŒƒå›´ **ã€æ·±åº¦åˆ†æç»“æœã€‘**

### æ ¸å¿ƒå‘ç°
- **ä¸»é¡µé¢**: 26ä¸ª (åŸä¼°è®¡)  
- **äºŒçº§é¡µé¢**: 58ä¸ª (æ–°å‘ç°)
- **æ€»è®¡**: **84ä¸ªé¡µé¢** (å·¥æœŸä»7-10å¤©è°ƒæ•´ä¸º18å¤©)

### é¡µé¢åˆ†ç±»
- **P0æ ¸å¿ƒé¡µé¢** (7ä¸»+15äºŒçº§): ç™»å½•ã€é¦–é¡µã€æº¯æºæŸ¥è¯¢/è¯¦æƒ…/åˆ—è¡¨/è¯ä¹¦
- **P1ä¸šåŠ¡æ¨¡å—** (12ä¸»+25äºŒçº§): å…»æ®–ã€ç”Ÿäº§ã€ç‰©æµã€ç¼–è¾‘åŠŸèƒ½
- **P2ç®¡ç†é¡µé¢** (7ä¸»+18äºŒçº§): ç”¨æˆ·ä¸­å¿ƒã€ç®¡ç†åå°ç³»ç»Ÿ

## ğŸš€ å®æ–½è®¡åˆ’ **ã€Phase-3è§„èŒƒã€‘**

### é˜¶æ®µä¸€: åŸºç¡€è®¾æ–½æ¶æ„ (2å¤©)
- [ ] é¡µé¢è·³è½¬å…³ç³»å›¾æ„å»º
- [ ] Next.jsè·¯ç”±æ¶æ„è®¾è®¡
- [ ] äº¤äº’å¼é¢„è§ˆç³»ç»Ÿæ¶æ„

### é˜¶æ®µäºŒ: P0æ ¸å¿ƒé¡µé¢ (3å¤©)
- [ ] è®¤è¯ç³»ç»Ÿ + å¯¼èˆªæ¢çº½è¿ç§»
- [ ] æº¯æºæŸ¥è¯¢é“¾è·¯å®Œæ•´è¿ç§»
- [ ] å¤šæ ‡ç­¾é¡µç»“æ„å®ç°

### é˜¶æ®µä¸‰: P1ä¸šåŠ¡æ¨¡å— (5å¤©)
- [ ] å…»æ®–ç®¡ç†æ¨¡å— (5ä¸»+8äºŒçº§)
- [ ] ç”Ÿäº§åŠ å·¥æ¨¡å— (4ä¸»+12äºŒçº§)
- [ ] ç‰©æµç¼–è¾‘æ¨¡å— (3ä¸»+5äºŒçº§)
- [ ] è·³è½¬å…³ç³»é›†æˆæµ‹è¯•

### é˜¶æ®µå››: P2ç®¡ç†é¡µé¢ (3å¤©)
- [ ] ç”¨æˆ·ä¸­å¿ƒæ¨¡å— (3ä¸»+8äºŒçº§)
- [ ] ç®¡ç†åå°æ¨¡å— (4ä¸»+10äºŒçº§)
- [ ] å¤æ‚è·³è½¬é€»è¾‘éªŒè¯

### é˜¶æ®µäº”: é¢„è§ˆç³»ç»Ÿå¼€å‘ (3å¤©)
- [ ] 5ç§é¢„è§ˆæ¨¡å¼å®ç°
- [ ] ç”¨æˆ·æµç¨‹æ¼”ç¤ºç³»ç»Ÿ
- [ ] é¡µé¢å…³ç³»å¯è§†åŒ–

### é˜¶æ®µå…­: éªŒæ”¶ä¸ä¼˜åŒ– (2å¤©)
- [ ] å®Œæ•´ç”¨æˆ·æµç¨‹E2Eæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–å’ŒåŸºå‡†æµ‹è¯•

## ğŸ“‹ æŠ€æœ¯å®æ–½æ–¹æ¡ˆ **ã€è¡¥å……ç»†èŠ‚ã€‘**

### 1. Next.jsè·¯ç”±ç»“æ„è®¾è®¡
```
web-app-next/src/app/
â”œâ”€â”€ (auth)/
â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â””â”€â”€ admin/login/page.tsx
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ home/page.tsx
â”‚   â”œâ”€â”€ selector/page.tsx
â”‚   â””â”€â”€ [module]/page.tsx
â”œâ”€â”€ (trace)/
â”‚   â”œâ”€â”€ query/page.tsx
â”‚   â”œâ”€â”€ detail/[id]/page.tsx
â”‚   â”œâ”€â”€ list/page.tsx
â”‚   â””â”€â”€ certificate/[id]/page.tsx
â”œâ”€â”€ (farming)/
â”‚   â”œâ”€â”€ monitor/page.tsx
â”‚   â”œâ”€â”€ vaccine/page.tsx
â”‚   â””â”€â”€ indicator/[id]/page.tsx
â”œâ”€â”€ (processing)/
â”‚   â”œâ”€â”€ reports/page.tsx
â”‚   â”œâ”€â”€ quality/page.tsx
â”‚   â””â”€â”€ detail/[id]/page.tsx
â”œâ”€â”€ (admin)/
â”‚   â”œâ”€â”€ dashboard/page.tsx
â”‚   â”œâ”€â”€ users/page.tsx
â”‚   â””â”€â”€ logs/page.tsx
â””â”€â”€ preview/
    â”œâ”€â”€ page.tsx          # ç°ä»£åŒ–é¢„è§ˆç³»ç»Ÿ
    â””â”€â”€ [category]/page.tsx
```

### 2. é¡µé¢ç»„ä»¶åŒ–ç­–ç•¥
```typescript
// é¡µé¢ç»„ä»¶ç»“æ„
interface PageProps {
  title: string;
  metadata?: PageMetadata;
  jumpTargets?: string[];
}

// ä½¿ç”¨ç°ä»£åŒ–ç»„ä»¶åº“ (TASK-P3-015å·²å®Œæˆ)
import { PageLayout, Card, Button, Modal } from '@/components/ui';

export default function TracePage({ title, jumpTargets }: PageProps) {
  return (
    <PageLayout title={title}>
      <Card className="trace-card">
        {/* é¡µé¢å†…å®¹ */}
      </Card>
    </PageLayout>
  );
}
```

### 3. é¡µé¢è·³è½¬å…³ç³»æ˜ å°„
```typescript
// å®Œæ•´è·³è½¬å…³ç³»é…ç½®
const pageJumps = {
  'trace-list': {
    detailJump: 'trace-detail',
    createJump: 'trace-edit?mode=new',
    scanJump: 'trace-detail?source=scan'
  },
  'trace-detail': {
    certificateJump: 'trace-certificate',
    editJump: 'trace-edit?id={id}',
    returnJump: 'trace-list'
  },
  'home-selector': {
    farmingJump: 'farming/monitor',
    processingJump: 'processing/reports',
    logisticsJump: 'logistics/tracking',
    traceJump: 'trace/query'
  }
  // ... 84ä¸ªé¡µé¢çš„å®Œæ•´è·³è½¬é…ç½®
};
```

### 4. ç°ä»£åŒ–é¢„è§ˆç³»ç»Ÿ
```typescript
// äº¤äº’å¼é¢„è§ˆç»„ä»¶
export function InteractivePagePreview({ 
  pages, 
  mode = 'grid',
  showJumps = true,
  deviceMode = 'mobile'
}) {
  const [currentPage, setCurrentPage] = useState(null);
  const [previewMode, setPreviewMode] = useState<PreviewMode>(mode);
  
  return (
    <div className="preview-container">
      <PreviewControls 
        mode={previewMode} 
        onModeChange={setPreviewMode}
        deviceMode={deviceMode}
      />
      <PageGrid 
        pages={pages} 
        showJumps={showJumps}
        onPageSelect={setCurrentPage}
      />
      {currentPage && (
        <PagePreviewFrame 
          page={currentPage}
          deviceMode={deviceMode}
        />
      )}
    </div>
  );
}
```

### 5. SSG/SSRä¼˜åŒ–ç­–ç•¥
```typescript
// é™æ€é¡µé¢ç”Ÿæˆ
export async function generateStaticParams() {
  return [
    { category: 'auth', page: 'login' },
    { category: 'trace', page: 'query' },
    { category: 'trace', page: 'detail', id: 'TR001' },
    // ... 84ä¸ªé¡µé¢çš„é™æ€è·¯å¾„
  ];
}

// æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŒ–
export async function generateMetadata({ params }): Promise<Metadata> {
  return {
    title: `${params.page} - é£Ÿå“æº¯æºç³»ç»Ÿ`,
    description: `${params.category}æ¨¡å— - ç°ä»£åŒ–æº¯æºç®¡ç†å¹³å°`,
  };
}
```

## âœ… éªŒæ”¶æ ‡å‡†

### å®Œæ•´æ€§éªŒæ”¶ **ğŸ”¥ å…³é”®**
- [ ] æ‰€æœ‰84ä¸ªé¡µé¢æˆåŠŸè¿ç§»å¹¶å¯è®¿é—®
- [ ] æ‰€æœ‰é¡µé¢è·³è½¬å…³ç³»æ­£å¸¸å·¥ä½œ
- [ ] å®Œæ•´ç”¨æˆ·æµç¨‹å¯æ¼”ç¤º (ç™»å½•â†’æ¨¡å—â†’è¯¦æƒ…â†’è¿”å›)
- [ ] é¢„è§ˆç³»ç»Ÿæ”¯æŒ5ç§æ¨¡å¼å±•ç¤º

### æŠ€æœ¯éªŒæ”¶ **ã€Phase-3æ ‡å‡†ã€‘**
- [ ] TypeScriptç¼–è¯‘0é”™è¯¯
- [ ] Neo Minimal iOS-Styleè®¾è®¡ç³»ç»Ÿ100%åˆè§„
- [ ] é¡µé¢åŠ è½½æ€§èƒ½<2ç§’
- [ ] SSG/SSRæ­£ç¡®é…ç½®

### äº¤äº’éªŒæ”¶
- [ ] ç°ä»£åŒ–é¢„è§ˆç³»ç»ŸåŠŸèƒ½å®Œæ•´
- [ ] ç§»åŠ¨ç«¯å’ŒPCç«¯é¢„è§ˆæ­£å¸¸
- [ ] ç”¨æˆ·æµç¨‹æ¼”ç¤ºåŠŸèƒ½æ­£å¸¸

## ğŸ“ å˜æ›´è®°å½•

| æ—¥æœŸ | å˜æ›´ç±»å‹ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | çŠ¶æ€ |
|------|---------|---------|------|------|
| 2025-01-15 | ä»»åŠ¡åˆ›å»º | TASK-P3-020_é™æ€é¡µé¢ç°ä»£åŒ–è¿ç§».md | åˆå§‹ä»»åŠ¡åˆ›å»º | âœ… |
| 2025-01-15 | é‡å¤§è°ƒæ•´ | TASK-P3-020_é™æ€é¡µé¢ç°ä»£åŒ–è¿ç§».md | å‘ç°58ä¸ªäºŒçº§é¡µé¢ï¼Œè°ƒæ•´å·¥æœŸè‡³18å¤© | âœ… |
| 2025-01-15 | æŠ€æœ¯è¡¥å…… | TASK-P3-020_é™æ€é¡µé¢ç°ä»£åŒ–è¿ç§».md | è¡¥å……è·¯ç”±è®¾è®¡ã€ç»„ä»¶ç­–ç•¥ç­‰æŠ€æœ¯æ–¹æ¡ˆ | âœ… |

## ğŸ”— ç›¸å…³èµ„æº

- [TASK-P3-015ç°ä»£åŒ–ç»„ä»¶åº“](./TASK-P3-015_ç°ä»£åŒ–ç»„ä»¶åº“è¿ç§».md) âœ… å·²å®Œæˆ
- [Phase-3å·¥ä½œè®¡åˆ’](../PHASE-3-WORK-PLAN.md)
- [ç»„ä»¶è¿ç§»æŒ‡å¯¼](../docs/COMPONENT-MIGRATION-GUIDE.md)

---

**ä»»åŠ¡çŠ¶æ€**: ğŸ“ è§„åˆ’ä¸­  
**é¢„è®¡å®Œæˆ**: 18ä¸ªå·¥ä½œæ—¥  
**æŠ€æœ¯æ ˆ**: Next.js 14 + TypeScript 5 + Zustand + React Query 