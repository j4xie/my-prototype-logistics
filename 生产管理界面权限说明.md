# 🔐 生产管理界面 - 权限说明

**最后更新**: 2025-10-06
**适用版本**: v1.0

---

## 📋 功能概述

**生产管理界面** 用于创建和管理工厂的生产计划,包括:
- 创建生产计划
- 管理生产流程 (开始→生产中→完成→出货)
- 查看原料库存
- 记录原料消耗
- 跟踪生产进度

---

## 👤 谁可以使用? (详细权限说明)

### 1️⃣ **平台管理员** (platform_admin) - 只读权限 👁️

```
账号: platform_admin
密码: 123456
```

**访问权限**: ✅ 可以访问

**操作权限**:
- ✅ 查看所有工厂的生产计划
- ✅ 查看生产统计数据
- ✅ 查看原料库存
- ✅ 导出数据
- ❌ **不能创建生产计划** (按钮隐藏)
- ❌ **不能修改任何数据** (所有操作按钮禁用)
- ❌ **不能删除计划**

**界面显示**:
- 右下角显示 "👁️ 只读模式" 而不是"创建生产计划"按钮
- 每个计划卡片下方显示 "👁️ 平台管理员只读模式 - 无法修改数据"
- 所有"开始生产"、"记录消耗"、"完成生产"按钮不显示

**使用场景**:
- 平台运营查看各工厂生产情况
- 平台数据分析和统计
- 跨工厂生产监控

---

### 2️⃣ **超级工厂管理员** (super_admin) - 完全权限 ⭐⭐⭐

```
账号: super_admin
密码: 123456
```

**访问权限**: ✅ 可以访问

**操作权限**:
- ✅ 创建生产计划
- ✅ 开始生产
- ✅ 记录原料消耗
- ✅ 完成生产
- ✅ 记录成品出货
- ✅ 修改计划
- ✅ 删除计划
- ✅ 查看所有数据
- ✅ 管理产品类型
- ✅ 管理商家信息

**界面显示**:
- 右下角显示 "➕ 创建生产计划" FAB按钮
- 所有操作按钮正常显示

**使用场景**:
- 工厂日常运营管理
- 生产计划制定和执行
- 测试所有功能

**目前实现**: ✅ 所有功能

---

### 3️⃣ **加工部门管理员** (dept_admin) - 完全权限 ⭐⭐

```
账号: dept_admin
密码: 123456
```

**访问权限**: ✅ 可以访问

**操作权限**:
- ✅ 创建生产计划
- ✅ 开始生产
- ✅ 记录原料消耗
- ✅ 完成生产
- ✅ 记录成品出货
- ✅ 修改本部门计划
- ✅ 查看本部门数据

**与超级管理员的区别**:
- **目前**: 暂无区别 (因为只实现了加工部功能)
- **未来**: 当实现其他部门(物流、质检)后,只能管理加工部数据

**界面显示**:
- 与超级管理员相同
- 所有操作按钮正常显示

**使用场景**:
- 加工部日常管理
- 生产计划制定
- 部门数据管理

**目前实现**: ✅ 与超级管理员功能相同

---

### 4️⃣ **加工部员工** (operator1) - 不访问此界面 ❌

```
账号: operator1
密码: 123456
```

**访问权限**: ❌ 不访问生产管理界面

**职责说明**:
- ✅ 每日打卡签到
- ✅ 报告工作情况
- ✅ 记录加工数据 (在其他界面)
- ✅ 执行生产任务
- ❌ 不参与生产计划制定

**使用的界面** (员工专用):
1. **打卡签到界面** (TimeClockScreen)
   - 上班打卡
   - 下班打卡
   - 查看打卡记录

2. **工作报告界面** (WorkReportScreen)
   - 填写每日工作内容
   - 上传工作照片
   - 记录工作时长

3. **加工记录界面** (ProcessingRecordScreen)
   - 扫描批次二维码
   - 记录加工数据
   - 更新批次状态

**说明**: 员工角色不需要访问"生产计划管理",他们的工作是执行任务,不是制定计划

---

## 📱 访问路径

### 管理员访问 (super_admin / dept_admin):

```
登录
  ↓
首页 (HomeScreen)
  ↓
底部Tab: 点击 "管理" 🏭
  ↓
管理中心 (ManagementScreen)
  ↓
生产配置分组
  ↓
点击 "生产计划管理" 📋 (NEW标签)
  ↓
✅ 生产计划管理界面
```

### 平台管理员访问 (platform_admin):

```
登录
  ↓
平台管理首页 (PlatformScreen)
  ↓
工厂列表
  ↓
选择工厂
  ↓
查看工厂生产计划 (只读模式)
```

### 员工不访问 (operator1):

```
登录
  ↓
首页 (HomeScreen)
  ↓
底部Tab: "打卡" ⏰ 或 "工作" 📝
  ↓
员工专用界面:
  - 打卡签到
  - 工作报告
  - 加工记录
```

---

## 🔧 权限对照表

| 功能 | 平台管理员 | 超级工厂管理员 | 部门管理员 | 员工 |
|-----|-----------|--------------|-----------|------|
| **访问界面** | ✅ 可以 | ✅ 可以 | ✅ 可以 | ❌ 不访问 |
| **查看计划列表** | ✅ 是 | ✅ 是 | ✅ 是 | - |
| **创建生产计划** | ❌ 否 | ✅ 是 | ✅ 是 | - |
| **开始生产** | ❌ 否 | ✅ 是 | ✅ 是 | - |
| **记录消耗** | ❌ 否 | ✅ 是 | ✅ 是 | - |
| **完成生产** | ❌ 否 | ✅ 是 | ✅ 是 | - |
| **记录出货** | ❌ 否 | ✅ 是 | ✅ 是 | - |
| **查看库存** | ✅ 是 | ✅ 是 | ✅ 是 | - |
| **导出数据** | ✅ 是 | ✅ 是 | ✅ 是 | - |

**图例**:
- ✅ 有权限
- ❌ 无权限
- `-` 不访问该界面

---

## 📊 角色职责说明

### 平台管理员 (platform_admin)
**主要职责**:
- 管理所有工厂
- 审核工厂申请
- 平台系统配置
- 查看跨工厂数据

**不负责**:
- 工厂日常运营
- 生产计划制定
- 数据录入

**访问生产管理界面**: ✅ 可以 (只读监控)

---

### 超级工厂管理员 (super_admin)
**主要职责**:
- 工厂全局管理
- 生产计划制定
- 资源调配
- 数据统计分析

**访问生产管理界面**: ✅ 可以 (完全权限)

---

### 加工部门管理员 (dept_admin)
**主要职责**:
- 加工部日常管理
- 生产计划执行
- 部门数据管理
- 员工管理 (加工部)

**与超级管理员区别**:
- **目前**: 无区别 (只实现了加工功能)
- **未来**: 仅限加工部数据访问

**访问生产管理界面**: ✅ 可以 (完全权限)

---

### 加工部员工 (operator1)
**主要职责**:
- ⏰ 每日打卡签到
- 📝 报告工作情况
- 🏭 执行加工任务
- 📊 记录生产数据

**不负责**:
- 制定生产计划
- 管理用户
- 系统配置

**访问生产管理界面**: ❌ 不访问

**使用的界面**:
1. 打卡签到界面 (TimeClockScreen)
2. 工作报告界面 (WorkReportScreen)
3. 加工记录界面 (ProcessingRecordScreen)

---

## 🎯 使用建议

### 日常使用推荐账号:

1. **工厂日常运营**: `super_admin` / `123456`
2. **部门管理**: `dept_admin` / `123456`
3. **平台监控**: `platform_admin` / `123456` (只读)
4. **员工操作**: `operator1` / `123456` (打卡+工作报告)

---

## ⚠️ 重要说明

### 当前实现状态:

- ✅ **平台管理员**: 只读权限已实现
- ✅ **超级管理员**: 完全权限已实现
- ✅ **部门管理员**: 完全权限已实现 (目前与超级管理员相同)
- ✅ **员工**: 不访问生产管理界面

### 未来扩展:

当实现其他部门功能后:
- **部门管理员**: 将只能访问本部门数据
- **员工**: 可能增加"查看本人相关的生产计划"权限

---

**权限配置已完成!** ✅
