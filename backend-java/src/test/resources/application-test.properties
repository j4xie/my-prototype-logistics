# ==========================================
# AI 功能测试环境配置
# ==========================================

# 应用配置
spring.application.name=Cretas AI Test
server.port=0

# 使用 H2 内存数据库
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=MySQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA 配置
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=true

# 禁用 SQL 初始化
spring.sql.init.mode=never

# 日志配置
logging.level.root=WARN
logging.level.com.cretas.aims=DEBUG
logging.level.com.cretas.aims.test=DEBUG

# JWT 配置 (测试用)
cretas.jwt.secret=test-secret-key-for-unit-tests-only
cretas.jwt.expiration=3600000
cretas.jwt.refresh-expiration=86400000

# ==========================================
# AI 复杂度路由配置
# ==========================================
ai.complexity.lambda=0.7
ai.complexity.fast-threshold=0.3
ai.complexity.analysis-threshold=0.6
ai.complexity.multi-agent-threshold=0.8

# ==========================================
# AI Agent 编排配置
# ==========================================
ai.agent.complexity-threshold=0.6
ai.agent.max-retry-rounds=3
ai.agent.enable-human-review=true

# ==========================================
# CRAG 检索评估配置
# ==========================================
ai.retrieval.correct-threshold=0.8
ai.retrieval.ambiguous-threshold=0.5
ai.retrieval.enable-fallback=true

# ==========================================
# 知识反馈配置
# ==========================================
ai.feedback.batch-size=50
ai.feedback.enable-auto-learning=false

# ==========================================
# DJL Embedding 配置 (测试时禁用实际模型加载)
# ==========================================
embedding.model-path=
embedding.enabled=false

# ==========================================
# DashScope 配置 (测试时使用 Mock)
# ==========================================
dashscope.api-key=test-api-key
dashscope.enabled=false
