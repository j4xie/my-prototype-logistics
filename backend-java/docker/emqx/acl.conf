## Cretas EMQX ACL 规则
## 文档: https://www.emqx.io/docs/zh/latest/access-control/authz/authz.html

## 允许所有客户端订阅系统主题 (只读)
{allow, all, subscribe, ["$SYS/#"]}.

## 允许边缘网关发布设备数据
## 主题格式: cretas/{factoryId}/device/{deviceId}/data
{allow, all, publish, ["cretas/+/device/+/data"]}.
{allow, all, publish, ["cretas/+/device/+/status"]}.
{allow, all, publish, ["cretas/+/device/+/heartbeat"]}.

## 允许后端订阅所有设备主题
{allow, all, subscribe, ["cretas/#"]}.

## 允许后端下发指令
{allow, all, publish, ["cretas/+/device/+/command"]}.

## 默认拒绝其他操作 (生产环境启用)
## {deny, all}.
