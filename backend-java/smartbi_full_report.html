<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBI å…¨ç»´åº¦åˆ†ææŠ¥å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
        }
        .header h1 { font-size: 28px; margin-bottom: 8px; }
        .header .meta { opacity: 0.9; font-size: 14px; }
        .container { max-width: 1600px; margin: 0 auto; padding: 20px; }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .kpi-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .kpi-card .label { color: #666; font-size: 13px; margin-bottom: 8px; }
        .kpi-card .value { font-size: 28px; font-weight: 700; color: #1a1a2e; }
        .kpi-card .change { font-size: 12px; margin-top: 6px; }
        .kpi-card .change.up { color: #10b981; }
        .kpi-card .change.down { color: #ef4444; }
        .kpi-card.highlight { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .kpi-card.highlight .label, .kpi-card.highlight .value { color: white; }

        /* Section */
        .section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .section h2 {
            font-size: 16px;
            color: #1a1a2e;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section h2 .icon { font-size: 20px; }

        /* Grid layouts */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }

        /* Chart containers */
        .chart { height: 320px; }
        .chart-lg { height: 400px; }
        .chart-sm { height: 260px; }

        /* Tables */
        .data-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .data-table th, .data-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #f0f0f0; }
        .data-table th { background: #f8fafc; color: #666; font-weight: 600; }
        .data-table tr:hover { background: #f8fafc; }
        .rank-badge {
            display: inline-flex; align-items: center; justify-content: center;
            width: 24px; height: 24px; border-radius: 50%; font-weight: 700; font-size: 12px;
        }
        .rank-1 { background: #fef3c7; color: #d97706; }
        .rank-2 { background: #e5e7eb; color: #6b7280; }
        .rank-3 { background: #fed7aa; color: #c2410c; }
        .rank-other { background: #f3f4f6; color: #9ca3af; }

        /* Status badges */
        .badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 500; }
        .badge-success { background: #d1fae5; color: #059669; }
        .badge-warning { background: #fef3c7; color: #d97706; }
        .badge-danger { background: #fee2e2; color: #dc2626; }
        .badge-info { background: #e0e7ff; color: #4f46e5; }

        /* Progress bars */
        .progress { height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden; }
        .progress-bar { height: 100%; border-radius: 4px; transition: width 0.3s; }
        .progress-green { background: linear-gradient(90deg, #10b981, #34d399); }
        .progress-yellow { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .progress-red { background: linear-gradient(90deg, #ef4444, #f87171); }

        /* Dimension tags */
        .dim-summary {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .dim-tag {
            background: #f0f2f5;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
        }
        .dim-tag strong { color: #6366f1; margin-right: 4px; }

        /* Alerts section */
        .alert-item {
            display: flex;
            padding: 14px;
            background: #fef2f2;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #ef4444;
        }
        .alert-item.warning { background: #fffbeb; border-left-color: #f59e0b; }
        .alert-item.info { background: #eff6ff; border-left-color: #3b82f6; }
        .alert-icon { width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold; font-size: 14px; }
        .alert-danger .alert-icon { background: #fee2e2; color: #dc2626; }
        .alert-warning .alert-icon { background: #fef3c7; color: #d97706; }
        .alert-title { font-weight: 600; font-size: 14px; color: #1a1a2e; }
        .alert-msg { font-size: 13px; color: #666; margin-top: 4px; }

        /* NL Test results */
        .nl-test {
            background: #f8fafc;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 4px solid #10b981;
        }
        .nl-query { font-weight: 600; color: #1a1a2e; margin-bottom: 10px; }
        .nl-meta { display: flex; gap: 10px; margin-bottom: 10px; }
        .nl-response {
            background: white;
            padding: 12px;
            border-radius: 6px;
            font-size: 13px;
            color: #374151;
            white-space: pre-line;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-size: 13px;
        }

        @media (max-width: 1200px) {
            .kpi-grid { grid-template-columns: repeat(3, 1fr); }
            .grid-3 { grid-template-columns: 1fr 1fr; }
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 768px) {
            .kpi-grid { grid-template-columns: repeat(2, 1fr); }
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>SmartBI å…¨ç»´åº¦å•†ä¸šåˆ†ææŠ¥å‘Š</h1>
        <div class="meta">
            æŠ¥å‘Šå‘¨æœŸ: 2026å¹´1æœˆ | å·¥å‚: F001 | ç”Ÿæˆæ—¶é—´: 2026-01-21 08:50:00 |
            æ•°æ®ç»´åº¦: <strong>13</strong> äº§å“ç±»åˆ« Â· <strong>10</strong> å®¢æˆ·ç±»å‹ Â· <strong>17</strong> çœä»½ Â· <strong>8</strong> é”€å”®å‘˜
        </div>
    </div>

    <div class="container">
        <!-- æ ¸å¿ƒKPI -->
        <div class="kpi-grid">
            <div class="kpi-card highlight">
                <div class="label">æ€»é”€å”®é¢</div>
                <div class="value">1,400,000</div>
                <div class="change">æœ¬æœˆç´¯è®¡ (å…ƒ)</div>
            </div>
            <div class="kpi-card">
                <div class="label">æ¯›åˆ©é¢</div>
                <div class="value">499,050</div>
                <div class="change up">æ¯›åˆ©ç‡ 35.65%</div>
            </div>
            <div class="kpi-card">
                <div class="label">å‡€åˆ©æ¶¦</div>
                <div class="value">349,335</div>
                <div class="change up">å‡€åˆ©ç‡ 24.95%</div>
            </div>
            <div class="kpi-card">
                <div class="label">è®¢å•æ•°</div>
                <div class="value">53</div>
                <div class="change">å®¢å•ä»· 26,415å…ƒ</div>
            </div>
            <div class="kpi-card">
                <div class="label">ç›®æ ‡å®Œæˆç‡</div>
                <div class="value" style="color:#f59e0b">22.4%</div>
                <div class="change down">éœ€åŠ é€Ÿè¿½èµ¶</div>
            </div>
            <div class="kpi-card">
                <div class="label">å›æ¬¾ç‡</div>
                <div class="value" style="color:#ef4444">53.5%</div>
                <div class="change down">åº”æ”¶ä½™é¢ 20ä¸‡</div>
            </div>
        </div>

        <!-- æ•°æ®ç»´åº¦æ¦‚è§ˆ -->
        <div class="section">
            <h2><span class="icon">ğŸ“Š</span> æ•°æ®ç»´åº¦æ¦‚è§ˆ</h2>
            <div class="dim-summary">
                <div class="dim-tag"><strong>13</strong> äº§å“ç±»åˆ«</div>
                <div class="dim-tag"><strong>10</strong> å®¢æˆ·ç±»å‹</div>
                <div class="dim-tag"><strong>4</strong> é”€å”®åŒºåŸŸ</div>
                <div class="dim-tag"><strong>17</strong> çœä»½</div>
                <div class="dim-tag"><strong>28</strong> åŸå¸‚</div>
                <div class="dim-tag"><strong>8</strong> é”€å”®å‘˜</div>
                <div class="dim-tag"><strong>4</strong> é”€å”®éƒ¨é—¨</div>
                <div class="dim-tag"><strong>20</strong> äº§å“SKU</div>
            </div>
        </div>

        <!-- é”€å”®è¶‹åŠ¿ -->
        <div class="section">
            <h2><span class="icon">ğŸ“ˆ</span> é”€å”®è¶‹åŠ¿åˆ†æ (æ—¥ç»´åº¦)</h2>
            <div id="trendChart" class="chart-lg"></div>
        </div>

        <!-- å¤šç»´åº¦åˆ†æ - ç¬¬ä¸€è¡Œ -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ·ï¸</span> äº§å“ç±»åˆ«é”€å”®åˆ†å¸ƒ</h2>
                <div id="productChart" class="chart"></div>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ‘¥</span> å®¢æˆ·ç±»å‹é”€å”®åˆ†å¸ƒ</h2>
                <div id="customerChart" class="chart"></div>
            </div>
        </div>

        <!-- å¤šç»´åº¦åˆ†æ - ç¬¬äºŒè¡Œ -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ—ºï¸</span> åŒºåŸŸé”€å”®å¯¹æ¯”</h2>
                <div id="regionChart" class="chart"></div>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ¢</span> éƒ¨é—¨ä¸šç»©å¯¹æ¯”</h2>
                <div id="deptChart" class="chart"></div>
            </div>
        </div>

        <!-- çœä»½çƒ­åŠ›å›¾ -->
        <div class="section">
            <h2><span class="icon">ğŸ“</span> çœä»½é”€å”®TOP10</h2>
            <div id="provinceChart" class="chart"></div>
        </div>

        <!-- é”€å”®å‘˜æ’å -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ†</span> é”€å”®å‘˜ä¸šç»©æ’å</h2>
                <table class="data-table">
                    <thead>
                        <tr><th>æ’å</th><th>é”€å”®å‘˜</th><th>éƒ¨é—¨</th><th>é”€å”®é¢</th><th>åˆ©æ¶¦</th><th>å®Œæˆç‡</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="rank-badge rank-1">1</span></td>
                            <td>ç‹äº”</td><td>é”€å”®äºŒéƒ¨</td>
                            <td>296,000</td><td>91,700</td>
                            <td><span class="badge badge-warning">24.7%</span></td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-2">2</span></td>
                            <td>å¼ ä¸‰</td><td>é”€å”®ä¸€éƒ¨</td>
                            <td>211,000</td><td>71,700</td>
                            <td><span class="badge badge-warning">17.6%</span></td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-3">3</span></td>
                            <td>å­™ä¸ƒ</td><td>é”€å”®ä¸‰éƒ¨</td>
                            <td>180,000</td><td>62,100</td>
                            <td><span class="badge badge-warning">20.0%</span></td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-other">4</span></td>
                            <td>æå››</td><td>é”€å”®ä¸€éƒ¨</td>
                            <td>208,000</td><td>73,700</td>
                            <td><span class="badge badge-warning">28.9%</span></td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-other">5</span></td>
                            <td>å´ä¹</td><td>é”€å”®å››éƒ¨</td>
                            <td>154,500</td><td>54,750</td>
                            <td><span class="badge badge-warning">21.5%</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ’°</span> è´¢åŠ¡æŒ‡æ ‡æ¦‚è§ˆ</h2>
                <div id="financeChart" class="chart"></div>
            </div>
        </div>

        <!-- äº§å“åˆ©æ¶¦åˆ†æ -->
        <div class="section">
            <h2><span class="icon">ğŸ“¦</span> äº§å“ç±»åˆ«åˆ©æ¶¦è´¡çŒ®</h2>
            <div id="profitChart" class="chart"></div>
        </div>

        <!-- è‡ªç„¶è¯­è¨€æŸ¥è¯¢æµ‹è¯• -->
        <div class="section">
            <h2><span class="icon">ğŸ¤–</span> è‡ªç„¶è¯­è¨€æŸ¥è¯¢æµ‹è¯•ç»“æœ <span class="badge badge-success">7/7 é€šè¿‡</span></h2>
            <div class="grid-2">
                <div class="nl-test">
                    <div class="nl-query">"æœ¬æœˆé”€å”®é¢æ˜¯å¤šå°‘ï¼Ÿ"</div>
                    <div class="nl-meta">
                        <span class="badge badge-info">QUERY_SALES_OVERVIEW</span>
                        <span class="badge badge-success">ç½®ä¿¡åº¦ 100%</span>
                    </div>
                    <div class="nl-response">é”€å”®æƒ…å†µï¼š
- æ€»é”€å”®é¢: 1,400,000.00 å…ƒ
- è®¢å•æ•°: 53 å•
- å®¢å•ä»·: 26,415.00 å…ƒ</div>
                </div>
                <div class="nl-test">
                    <div class="nl-query">"å„åŒºåŸŸé”€å”®å¯¹æ¯”"</div>
                    <div class="nl-meta">
                        <span class="badge badge-info">QUERY_REGION_ANALYSIS</span>
                        <span class="badge badge-success">ç½®ä¿¡åº¦ 100%</span>
                    </div>
                    <div class="nl-response">åŒºåŸŸé”€å”®ï¼š
1. åä¸œåŒº: 419,000 å…ƒ
2. ååŒ—åŒº: 380,500 å…ƒ
3. åå—åŒº: 323,000 å…ƒ
4. è¥¿éƒ¨åŒº: 277,500 å…ƒ</div>
                </div>
                <div class="nl-test">
                    <div class="nl-query">"å„éƒ¨é—¨é”€å”®ä¸šç»©å¦‚ä½•ï¼Ÿ"</div>
                    <div class="nl-meta">
                        <span class="badge badge-info">QUERY_DEPARTMENT_PERFORMANCE</span>
                        <span class="badge badge-success">ç½®ä¿¡åº¦ 85%</span>
                    </div>
                    <div class="nl-response">éƒ¨é—¨ä¸šç»©ï¼š
1. é”€å”®ä¸€éƒ¨: 419,000 å…ƒ (ç›®æ ‡å®Œæˆç‡ 82.6%)
2. é”€å”®äºŒéƒ¨: 380,500 å…ƒ (ç›®æ ‡å®Œæˆç‡ 79.6%)
3. é”€å”®ä¸‰éƒ¨: 323,000 å…ƒ (ç›®æ ‡å®Œæˆç‡ 62.1%)
4. é”€å”®å››éƒ¨: 277,500 å…ƒ (ç›®æ ‡å®Œæˆç‡ 54.3%)</div>
                </div>
                <div class="nl-test">
                    <div class="nl-query">"æœ¬æœˆåˆ©æ¶¦æƒ…å†µå¦‚ä½•ï¼Ÿ"</div>
                    <div class="nl-meta">
                        <span class="badge badge-info">QUERY_PROFIT_ANALYSIS</span>
                        <span class="badge badge-success">ç½®ä¿¡åº¦ 90%</span>
                    </div>
                    <div class="nl-response">åˆ©æ¶¦åˆ†æï¼š
- æ¯›åˆ©é¢: 499,050 å…ƒ
- æ¯›åˆ©ç‡: 35.65%
- å‡€åˆ©æ¶¦: 349,335 å…ƒ
- å‡€åˆ©ç‡: 24.95%</div>
                </div>
            </div>
        </div>

        <!-- é¢„è­¦ä¸å»ºè®® -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">âš ï¸</span> ç³»ç»Ÿé¢„è­¦</h2>
                <div class="alert-item alert-danger">
                    <div class="alert-icon">!</div>
                    <div>
                        <div class="alert-title">é”€å”®ç›®æ ‡ä¸¥é‡æ»å</div>
                        <div class="alert-msg">å½“å‰å®Œæˆç‡ä»…ä¸º 22.4%ï¼Œè¿œä½äº 60% çš„é¢„æœŸæ°´å¹³</div>
                    </div>
                </div>
                <div class="alert-item alert-warning warning">
                    <div class="alert-icon">!</div>
                    <div>
                        <div class="alert-title">å›æ¬¾ç‡åä½</div>
                        <div class="alert-msg">å›æ¬¾ç‡ 53.5%ï¼Œåº”æ”¶è´¦æ¬¾ä½™é¢ 20ä¸‡å…ƒ</div>
                    </div>
                </div>
                <div class="alert-item alert-warning warning">
                    <div class="alert-icon">!</div>
                    <div>
                        <div class="alert-title">äº§å“ç»“æ„é›†ä¸­</div>
                        <div class="alert-msg">ä¹³åˆ¶å“å æ¯” 43.5%ï¼Œéœ€ä¼˜åŒ–äº§å“ç»„åˆåˆ†æ•£é£é™©</div>
                    </div>
                </div>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ’¡</span> AI æ™ºèƒ½å»ºè®®</h2>
                <div class="alert-item info" style="background:#eff6ff;border-left-color:#3b82f6">
                    <div class="alert-icon" style="background:#dbeafe;color:#2563eb">1</div>
                    <div>
                        <div class="alert-title">åŠ å¼ºç”µå•†æ¸ é“æ‹“å±•</div>
                        <div class="alert-msg">ç”µå•†æ¸ é“é”€å”®å æ¯” 12.9%ï¼Œå¢é•¿æ½œåŠ›å¤§ï¼Œå»ºè®®å¢åŠ å¤©çŒ«ã€äº¬ä¸œæŠ•å…¥</div>
                    </div>
                </div>
                <div class="alert-item info" style="background:#eff6ff;border-left-color:#3b82f6">
                    <div class="alert-icon" style="background:#dbeafe;color:#2563eb">2</div>
                    <div>
                        <div class="alert-title">æ‹“å±•è¥¿éƒ¨å¸‚åœº</div>
                        <div class="alert-msg">è¥¿éƒ¨åŒºå æ¯” 19.8%ï¼Œå¯å¼€å‘äº‘å—ã€è´µå·ã€æ–°ç–†ç­‰æ–°å¸‚åœº</div>
                    </div>
                </div>
                <div class="alert-item info" style="background:#eff6ff;border-left-color:#3b82f6">
                    <div class="alert-icon" style="background:#dbeafe;color:#2563eb">3</div>
                    <div>
                        <div class="alert-title">æ¨å¹¿é«˜æ¯›åˆ©äº§å“</div>
                        <div class="alert-msg">é…’ç±»ã€ç³–æœæ¯›åˆ©ç‡ 40%ï¼Œå»ºè®®é‡ç‚¹æ¨å¹¿ä»¥æå‡æ•´ä½“åˆ©æ¶¦</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŠ¨æ€é…ç½®çŠ¶æ€ -->
        <div class="section">
            <h2><span class="icon">âš™ï¸</span> SmartBI åŠ¨æ€é…ç½®ç³»ç»ŸçŠ¶æ€</h2>
            <div class="grid-4">
                <div style="text-align:center;padding:20px;background:#f8fafc;border-radius:10px">
                    <div style="font-size:36px;font-weight:700;color:#6366f1">146</div>
                    <div style="color:#666;font-size:13px;margin-top:5px">æ„å›¾é…ç½®</div>
                </div>
                <div style="text-align:center;padding:20px;background:#f8fafc;border-radius:10px">
                    <div style="font-size:36px;font-weight:700;color:#10b981">33</div>
                    <div style="color:#666;font-size:13px;margin-top:5px">å‘Šè­¦é˜ˆå€¼</div>
                </div>
                <div style="text-align:center;padding:20px;background:#f8fafc;border-radius:10px">
                    <div style="font-size:36px;font-weight:700;color:#f59e0b">21</div>
                    <div style="color:#666;font-size:13px;margin-top:5px">æ¿€åŠ±è§„åˆ™</div>
                </div>
                <div style="text-align:center;padding:20px;background:#f8fafc;border-radius:10px">
                    <div style="font-size:36px;font-weight:700;color:#8b5cf6">46</div>
                    <div style="color:#666;font-size:13px;margin-top:5px">å­—æ®µæ˜ å°„</div>
                </div>
            </div>
        </div>

        <!-- å›¾è¡¨æ¨¡æ¿é…ç½® API æµ‹è¯• -->
        <div class="section">
            <h2><span class="icon">ğŸ“Š</span> å›¾è¡¨æ¨¡æ¿é…ç½® API æµ‹è¯• <span class="badge badge-success">10/10 é€šè¿‡</span></h2>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width:5%">#</th>
                        <th style="width:25%">æµ‹è¯•ç”¨ä¾‹</th>
                        <th style="width:35%">API ç«¯ç‚¹</th>
                        <th style="width:25%">éªŒè¯ç»“æœ</th>
                        <th style="width:10%">çŠ¶æ€</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>è·å–æ‰€æœ‰å›¾è¡¨æ¨¡æ¿</td>
                        <td><code>GET /chart-templates</code></td>
                        <td>è¿”å› 8 æ¡æ¨¡æ¿æ•°æ®</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>æŒ‰åˆ†ç±»ç­›é€‰æ¨¡æ¿</td>
                        <td><code>GET /chart-templates?category=FINANCE</code></td>
                        <td>è¿”å› 8 æ¡è´¢åŠ¡æ¨¡æ¿</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>è·å–å•ä¸ªæ¨¡æ¿è¯¦æƒ…</td>
                        <td><code>GET /chart-templates/finance_health_radar</code></td>
                        <td>æ¨¡æ¿åç§°: è´¢åŠ¡å¥åº·åº¦é›·è¾¾å›¾, ç±»å‹: RADAR</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>å›¾è¡¨ç±»å‹æ™ºèƒ½æ¨è</td>
                        <td><code>GET /chart-templates/recommend?metricCode=roe</code></td>
                        <td>æ¨èç±»å‹: LINE_BAR (æœ‰æ—¶é—´ç»´åº¦)</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>æŒ‰æŒ‡æ ‡è·å–é€‚ç”¨æ¨¡æ¿</td>
                        <td><code>GET /chart-templates/for-metric/roe</code></td>
                        <td>è¿”å› 3 æ¡å…³è”æ¨¡æ¿</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>åˆ›å»ºæ–°æ¨¡æ¿</td>
                        <td><code>POST /chart-templates</code></td>
                        <td>æˆåŠŸåˆ›å»º test_template_001</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>æ›´æ–°æ¨¡æ¿</td>
                        <td><code>PUT /chart-templates/{id}</code></td>
                        <td>åç§°æ›´æ–°ä¸º: æµ‹è¯•æ¨¡æ¿-å·²æ›´æ–°</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>çƒ­é‡è½½ç¼“å­˜</td>
                        <td><code>POST /chart-templates/reload</code></td>
                        <td>æ¶ˆæ¯: é‡è½½æˆåŠŸ</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>åˆ é™¤æ¨¡æ¿</td>
                        <td><code>DELETE /chart-templates/{id}</code></td>
                        <td>æˆåŠŸåˆ é™¤æµ‹è¯•æ¨¡æ¿</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>åˆ é™¤åéªŒè¯è®¡æ•°</td>
                        <td><code>GET /chart-templates</code></td>
                        <td>ç¡®è®¤å‰©ä½™ 8 æ¡æ¨¡æ¿</td>
                        <td><span class="badge badge-success">é€šè¿‡</span></td>
                    </tr>
                </tbody>
            </table>

        </div>

        <!-- é¢„ç½®å›¾è¡¨æ¨¡æ¿å±•ç¤º - è´¢åŠ¡åˆ†æä¸“åŒº -->
        <div class="section">
            <h2><span class="icon">ğŸ’¼</span> Phase 8: è´¢åŠ¡åˆ†æå›¾è¡¨æ¨¡æ¿ <span class="badge badge-info">8 ä¸ªé¢„ç½®æ¨¡æ¿</span></h2>
            <p style="color:#666;font-size:13px;margin-bottom:20px">ä»¥ä¸‹å›¾è¡¨å±•ç¤º SmartBI ç³»ç»Ÿé€šè¿‡åŠ¨æ€é…ç½®ç”Ÿæˆçš„è´¢åŠ¡åˆ†æå¯è§†åŒ–ï¼Œæ”¯æŒé›¶ä»£ç æ‰©å±•</p>
        </div>

        <!-- è´¢åŠ¡å¥åº·åº¦é›·è¾¾å›¾ -->
        <div class="section">
            <h2><span class="icon">ğŸ“ˆ</span> è´¢åŠ¡å¥åº·åº¦é›·è¾¾å›¾</h2>
            <div id="tplRadarChart" class="chart"></div>
            <div class="nl-response" style="margin-top:16px">
                <strong>ğŸ¤– AI åˆ†æ:</strong> ä¼ä¸šè´¢åŠ¡å¥åº·åº¦ç»¼åˆè¯„åˆ† <strong>78.5åˆ†</strong>ï¼ˆè‰¯å¥½ï¼‰<br><br>
                <strong>äº”ç»´åˆ†æç»“æœï¼š</strong><br>
                â€¢ ç›ˆåˆ©èƒ½åŠ›ï¼š85åˆ† - æ¯›åˆ©ç‡35.6%ï¼Œé«˜äºè¡Œä¸šå¹³å‡ï¼ˆ28%ï¼‰ï¼Œç›ˆåˆ©æ°´å¹³ä¼˜ç§€<br>
                â€¢ æµåŠ¨æ€§ï¼š72åˆ† - æµåŠ¨æ¯”ç‡1.8ï¼Œç•¥ä½äºç†æƒ³å€¼2.0ï¼Œéœ€å…³æ³¨çŸ­æœŸå¿å€ºèƒ½åŠ›<br>
                â€¢ å¿å€ºèƒ½åŠ›ï¼š68åˆ† - èµ„äº§è´Ÿå€ºç‡52%ï¼Œå¤„äºåˆç†åŒºé—´ï¼Œæ æ†é€‚ä¸­<br>
                â€¢ æˆé•¿èƒ½åŠ›ï¼š88åˆ† - è¥æ”¶åŒæ¯”å¢é•¿24.7%ï¼Œå¸‚åœºæ‰©å¼ åŠ¿å¤´è‰¯å¥½<br>
                â€¢ è¿è¥æ•ˆç‡ï¼š80åˆ† - å­˜è´§å‘¨è½¬ç‡6.8æ¬¡ï¼Œèµ„é‡‘è¿è½¬æ•ˆç‡è¾ƒé«˜<br><br>
                <strong>å»ºè®®ï¼š</strong>é‡ç‚¹ä¼˜åŒ–æµåŠ¨èµ„äº§é…ç½®ï¼Œå»ºè®®ä¿æŒç°é‡‘å‚¨å¤‡ä¸ä½äºæµåŠ¨è´Ÿå€ºçš„25%
            </div>
        </div>

        <!-- æœé‚¦åˆ†æå›¾ -->
        <div class="section">
            <h2><span class="icon">ğŸ“Š</span> æœé‚¦åˆ†æ - ROE åˆ†è§£</h2>
            <div id="tplDupontChart" class="chart"></div>
            <div class="nl-response" style="margin-top:16px">
                <strong>ğŸ¤– AI åˆ†æ:</strong> ROEï¼ˆå‡€èµ„äº§æ”¶ç›Šç‡ï¼‰= <strong>21.6%</strong>ï¼Œè¾ƒä¸Šå­£åº¦æå‡3.2ä¸ªç™¾åˆ†ç‚¹<br><br>
                <strong>æœé‚¦åˆ†è§£ï¼š</strong> ROE = å‡€åˆ©ç‡ Ã— èµ„äº§å‘¨è½¬ç‡ Ã— æƒç›Šä¹˜æ•°<br>
                â€¢ Q4 ROE: 8.2% Ã— 1.2 Ã— 2.2 = <strong>21.6%</strong><br>
                â€¢ Q3 ROE: 7.5% Ã— 1.1 Ã— 2.2 = 18.4%<br><br>
                <strong>é©±åŠ¨å› ç´ ï¼š</strong><br>
                âœ… å‡€åˆ©ç‡æå‡ 0.7% - æˆæœ¬æ§åˆ¶è§æ•ˆï¼Œé”€å”®è´¹ç”¨ç‡ä¸‹é™<br>
                âœ… èµ„äº§å‘¨è½¬ç‡æå‡ 0.1 - å­˜è´§å‘¨è½¬åŠ å¿«ï¼Œåº”æ”¶å›æ¬¾æ”¹å–„<br>
                â†’ æƒç›Šä¹˜æ•°ç¨³å®š - è´¢åŠ¡æ æ†ä¿æŒåˆç†æ°´å¹³<br><br>
                <strong>å»ºè®®ï¼š</strong>ç»§ç»­ä¼˜åŒ–å­˜è´§ç®¡ç†ï¼Œç›®æ ‡å°†èµ„äº§å‘¨è½¬ç‡æå‡è‡³1.4
            </div>
        </div>

        <!-- ç¬¬ä¸€è¡Œ: ç°é‡‘æµé‡ + ç›ˆäºå¹³è¡¡ -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ’§</span> ç°é‡‘æµé‡ç€‘å¸ƒå›¾</h2>
                <div id="tplWaterfallChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> æœ¬æœŸç°é‡‘å‡€æµå…¥ <strong>650ä¸‡å…ƒ</strong><br><br>
                    <strong>ç°é‡‘æµæ„æˆï¼š</strong><br>
                    â€¢ æœŸåˆä½™é¢ï¼š500ä¸‡å…ƒ<br>
                    â€¢ ç»è¥æ´»åŠ¨ï¼š+150ä¸‡å…ƒï¼ˆä¸»è¥æ”¶å…¥å¢é•¿ï¼‰<br>
                    â€¢ æŠ•èµ„æ´»åŠ¨ï¼š-100ä¸‡å…ƒï¼ˆè®¾å¤‡é‡‡è´­ï¼‰<br>
                    â€¢ ç­¹èµ„æ´»åŠ¨ï¼š+100ä¸‡å…ƒï¼ˆçŸ­æœŸå€Ÿæ¬¾ï¼‰<br>
                    â€¢ æœŸæœ«ä½™é¢ï¼š650ä¸‡å…ƒ<br><br>
                    <strong>å»ºè®®ï¼š</strong>ç»è¥ç°é‡‘æµä¸ºæ­£ï¼Œè´¢åŠ¡çŠ¶å†µå¥åº·ï¼›æŠ•èµ„æ”¯å‡ºç¬¦åˆäº§èƒ½æ‰©å¼ è®¡åˆ’
                </div>
            </div>
            <div class="section">
                <h2><span class="icon">âš–ï¸</span> ç›ˆäºå¹³è¡¡åˆ†æå›¾</h2>
                <div id="tplBreakevenChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> ç›ˆäºå¹³è¡¡ç‚¹é”€é‡ <strong>400å•ä½</strong>ï¼Œå½“å‰é”€é‡800å•ä½<br><br>
                    <strong>CVPåˆ†æç»“æœï¼š</strong><br>
                    â€¢ å›ºå®šæˆæœ¬ï¼š200ä¸‡å…ƒ/æœˆ<br>
                    â€¢ å•ä½å˜åŠ¨æˆæœ¬ï¼š0.5ä¸‡å…ƒ<br>
                    â€¢ å•ä½å”®ä»·ï¼š1.0ä¸‡å…ƒ<br>
                    â€¢ è¾¹é™…è´¡çŒ®ç‡ï¼š50%<br>
                    â€¢ å®‰å…¨è¾¹é™…ç‡ï¼š<strong>50%</strong>ï¼ˆä¼˜ç§€ï¼Œ>30%ä¸ºè‰¯å¥½ï¼‰<br><br>
                    <strong>å»ºè®®ï¼š</strong>å®‰å…¨è¾¹é™…å……è¶³ï¼Œå¯é€‚åº¦å¢åŠ å›ºå®šèµ„äº§æŠ•èµ„ä»¥æ‰©å¤§äº§èƒ½
                </div>
            </div>
        </div>

        <!-- ç¬¬äºŒè¡Œ: æˆæœ¬ç»“æ„ + è´¢åŠ¡æ¯”ç‡è¶‹åŠ¿ -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ¥§</span> æˆæœ¬ç»“æ„åˆ†æå›¾</h2>
                <div id="tplCostPieChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> æ€»æˆæœ¬ <strong>980ä¸‡å…ƒ</strong>ï¼Œæˆæœ¬ç‡64.3%<br><br>
                    <strong>æˆæœ¬æ„æˆæ˜ç»†ï¼š</strong><br>
                    â€¢ åŸææ–™ï¼š420ä¸‡å…ƒï¼ˆ42.9%ï¼‰â† æœ€å¤§æˆæœ¬é¡¹<br>
                    â€¢ äººå·¥ï¼š230ä¸‡å…ƒï¼ˆ23.5%ï¼‰<br>
                    â€¢ åˆ¶é€ è´¹ï¼š150ä¸‡å…ƒï¼ˆ15.3%ï¼‰<br>
                    â€¢ ç®¡ç†è´¹ï¼š100ä¸‡å…ƒï¼ˆ10.2%ï¼‰<br>
                    â€¢ é”€å”®è´¹ï¼š50ä¸‡å…ƒï¼ˆ5.1%ï¼‰<br>
                    â€¢ è´¢åŠ¡è´¹ï¼š30ä¸‡å…ƒï¼ˆ3.1%ï¼‰<br><br>
                    <strong>å»ºè®®ï¼š</strong>åŸææ–™å æ¯”åé«˜ï¼Œå»ºè®®ä¼˜åŒ–ä¾›åº”å•†è®®ä»·æˆ–å¯»æ‰¾æ›¿ä»£ææ–™
                </div>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ“‰</span> è´¢åŠ¡æ¯”ç‡è¶‹åŠ¿å›¾</h2>
                <div id="tplRatioTrendChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> å„é¡¹è´¢åŠ¡æ¯”ç‡å‘ˆ<strong>ç¨³æ­¥æ”¹å–„</strong>è¶‹åŠ¿<br><br>
                    <strong>åŠå¹´è¶‹åŠ¿åˆ†æï¼š</strong><br>
                    â€¢ æµåŠ¨æ¯”ç‡ï¼š1.5 â†’ 1.8ï¼ˆ+20%ï¼‰âœ… æ”¹å–„<br>
                    â€¢ æ¯›åˆ©ç‡ï¼š32% â†’ 35.6%ï¼ˆ+11%ï¼‰âœ… æ”¹å–„<br>
                    â€¢ ROEï¼š18% â†’ 21.6%ï¼ˆ+20%ï¼‰âœ… æ”¹å–„<br><br>
                    <strong>å…³é”®æ‹ç‚¹ï¼š</strong>4æœˆå®æ–½æˆæœ¬ç®¡æ§æªæ–½åï¼Œæ¯›åˆ©ç‡æ˜¾è‘—æå‡<br><br>
                    <strong>å»ºè®®ï¼š</strong>ä¿æŒå½“å‰ç»è¥ç­–ç•¥ï¼Œé¢„è®¡Q1å¯å®ç°ROE 24%ç›®æ ‡
                </div>
            </div>
        </div>

        <!-- ç¬¬ä¸‰è¡Œ: å‘¨è½¬ç‡å¯¹æ¯” + KPIä»ªè¡¨ç›˜ -->
        <div class="grid-2">
            <div class="section">
                <h2><span class="icon">ğŸ”„</span> å‘¨è½¬ç‡å¯¹æ¯”åˆ†æ</h2>
                <div id="tplTurnoverChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> è¿è¥æ•ˆç‡<strong>ä¼˜äºè¡Œä¸šå¹³å‡</strong><br><br>
                    <strong>å‘¨è½¬ç‡æŒ‡æ ‡å¯¹æ¯”ï¼š</strong><br>
                    | æŒ‡æ ‡ | æœ¬æœŸ | ä¸ŠæœŸ | è¡Œä¸š |<br>
                    | å­˜è´§å‘¨è½¬ç‡ | 6.8æ¬¡ | 5.2æ¬¡ | 5.0æ¬¡ | âœ…<br>
                    | åº”æ”¶å‘¨è½¬ç‡ | 8.2æ¬¡ | 7.5æ¬¡ | 6.5æ¬¡ | âœ…<br>
                    | åº”ä»˜å‘¨è½¬ç‡ | 4.0æ¬¡ | 4.0æ¬¡ | 4.5æ¬¡ | âš ï¸<br>
                    | èµ„äº§å‘¨è½¬ç‡ | 2.5æ¬¡ | 2.2æ¬¡ | 2.0æ¬¡ | âœ…<br><br>
                    <strong>å»ºè®®ï¼š</strong>é€‚å½“å»¶é•¿åº”ä»˜è´¦æ¬¾å‘¨æœŸï¼Œä¼˜åŒ–ç°é‡‘æµç®¡ç†
                </div>
            </div>
            <div class="section">
                <h2><span class="icon">ğŸ¯</span> KPI ç›®æ ‡è¾¾æˆä»ªè¡¨ç›˜</h2>
                <div id="tplGaugeChart" class="chart"></div>
                <div class="nl-response" style="margin-top:16px">
                    <strong>ğŸ¤– AI åˆ†æ:</strong> ç»¼åˆç›®æ ‡è¾¾æˆç‡ <strong>78.5%</strong>ï¼ˆè¿›åº¦æ­£å¸¸ï¼‰<br><br>
                    <strong>å„é¡¹KPIè¾¾æˆæƒ…å†µï¼š</strong><br>
                    ğŸŸ¢ é”€å”®é¢ç›®æ ‡ï¼šè¾¾æˆ82%ï¼ˆ1400ä¸‡/1700ä¸‡ï¼‰<br>
                    ğŸŸ¢ æ¯›åˆ©ç‡ç›®æ ‡ï¼šè¾¾æˆ102%ï¼ˆ35.6%/35%ï¼‰<br>
                    ğŸŸ¡ æ–°å®¢æˆ·æ•°ï¼šè¾¾æˆ75%ï¼ˆ15å®¶/20å®¶ï¼‰<br>
                    ğŸŸ¡ å›æ¬¾ç‡ï¼šè¾¾æˆ76%ï¼ˆ92%/121%ï¼‰<br><br>
                    <strong>é¢„æµ‹ï¼š</strong>æŒ‰å½“å‰è¶‹åŠ¿ï¼Œå¹´åº¦ç›®æ ‡å®Œæˆæ¦‚ç‡ <strong>85%</strong><br>
                    <strong>å»ºè®®ï¼š</strong>åŠ å¼ºæ–°å®¢æˆ·å¼€å‘ï¼Œé‡ç‚¹è·Ÿè¿›3å®¶æ½œåœ¨å¤§å®¢æˆ·
                </div>
            </div>
        </div>

        <div class="footer">
            SmartBI æ™ºèƒ½å•†ä¸šåˆ†æç³»ç»Ÿ v1.0 | ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ | æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆäº 2026-01-21
        </div>
    </div>

    <script>
        // é”€å”®è¶‹åŠ¿å›¾
        const trendChart = echarts.init(document.getElementById('trendChart'));
        trendChart.setOption({
            tooltip: { trigger: 'axis', formatter: '{b}<br/>é”€å”®é¢: {c} å…ƒ' },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: {
                type: 'category',
                data: ['01-02', '01-03', '01-04', '01-05', '01-06', '01-07', '01-08', '01-09', '01-10',
                       '01-11', '01-12', '01-13', '01-14', '01-15', '01-16', '01-17', '01-18', '01-19', '01-20', '01-21'],
                axisLabel: { rotate: 45 }
            },
            yAxis: { type: 'value', name: 'é”€å”®é¢ (å…ƒ)', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            series: [{
                name: 'é”€å”®é¢',
                type: 'line',
                smooth: true,
                data: [160000, 109000, 99000, 139500, 89000, 70000, 75000, 25000, 36000,
                       109000, 85000, 18000, 87000, 73000, 30000, 27000, 35000, 60000, 37500, 36000],
                areaStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: 'rgba(99, 102, 241, 0.4)' },
                        { offset: 1, color: 'rgba(99, 102, 241, 0.05)' }
                    ])
                },
                lineStyle: { color: '#6366f1', width: 3 },
                itemStyle: { color: '#6366f1' },
                markLine: {
                    data: [{ type: 'average', name: 'å¹³å‡å€¼' }],
                    lineStyle: { color: '#f59e0b', type: 'dashed' }
                }
            }]
        });

        // äº§å“ç±»åˆ«å›¾
        const productChart = echarts.init(document.getElementById('productChart'));
        productChart.setOption({
            tooltip: { trigger: 'item', formatter: '{b}: {c} å…ƒ<br/>å æ¯”: {d}%' },
            legend: { orient: 'vertical', right: 10, top: 'center', textStyle: { fontSize: 11 } },
            series: [{
                type: 'pie',
                radius: ['35%', '65%'],
                center: ['40%', '50%'],
                itemStyle: { borderRadius: 6, borderColor: '#fff', borderWidth: 2 },
                label: { show: false },
                data: [
                    { value: 609500, name: 'ä¹³åˆ¶å“', itemStyle: { color: '#6366f1' } },
                    { value: 247000, name: 'é¥®æ–™', itemStyle: { color: '#8b5cf6' } },
                    { value: 116000, name: 'ç³–æœ', itemStyle: { color: '#a855f7' } },
                    { value: 105000, name: 'çƒ˜ç„™', itemStyle: { color: '#d946ef' } },
                    { value: 75000, name: 'å†·å†»é£Ÿå“', itemStyle: { color: '#ec4899' } },
                    { value: 66000, name: 'é›¶é£Ÿ', itemStyle: { color: '#f43f5e' } },
                    { value: 60000, name: 'å³é£Ÿé£Ÿå“', itemStyle: { color: '#10b981' } },
                    { value: 60000, name: 'é…’ç±»', itemStyle: { color: '#14b8a6' } },
                    { value: 37500, name: 'ç²®æ²¹', itemStyle: { color: '#f59e0b' } },
                    { value: 24000, name: 'è°ƒå‘³å“', itemStyle: { color: '#eab308' } }
                ]
            }]
        });

        // å®¢æˆ·ç±»å‹å›¾
        const customerChart = echarts.init(document.getElementById('customerChart'));
        customerChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'value', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            yAxis: {
                type: 'category',
                data: ['Cçº§å®¢æˆ·', 'è¿é”ä¾¿åˆ©', 'Bçº§å®¢æˆ·', 'ä¾¿åˆ©åº—', 'Açº§å®¢æˆ·', 'ä¼šå‘˜åº—', 'ç™¾è´§', 'ç”µå•†', 'æ–°é›¶å”®', 'é›¶å”®å•†'].reverse(),
                axisLabel: { fontSize: 11 }
            },
            series: [{
                type: 'bar',
                data: [16000, 28000, 43000, 65000, 77000, 97500, 121500, 181000, 191000, 716000].reverse(),
                itemStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [
                        { offset: 0, color: '#6366f1' },
                        { offset: 1, color: '#a855f7' }
                    ])
                },
                label: { show: true, position: 'right', formatter: v => (v.value/10000).toFixed(1) + 'ä¸‡' }
            }]
        });

        // åŒºåŸŸå¯¹æ¯”å›¾
        const regionChart = echarts.init(document.getElementById('regionChart'));
        regionChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            legend: { data: ['é”€å”®é¢', 'ç›®æ ‡'] },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'category', data: ['åä¸œåŒº', 'ååŒ—åŒº', 'åå—åŒº', 'è¥¿éƒ¨åŒº'] },
            yAxis: { type: 'value', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            series: [
                {
                    name: 'é”€å”®é¢',
                    type: 'bar',
                    data: [419000, 380500, 323000, 277500],
                    itemStyle: { color: '#6366f1' },
                    label: { show: true, position: 'top', formatter: v => (v.value/10000).toFixed(1) + 'ä¸‡' }
                },
                {
                    name: 'ç›®æ ‡',
                    type: 'bar',
                    data: [2070000, 1800000, 1260000, 1120000],
                    itemStyle: { color: '#e5e7eb' }
                }
            ]
        });

        // éƒ¨é—¨å¯¹æ¯”å›¾
        const deptChart = echarts.init(document.getElementById('deptChart'));
        deptChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            legend: { data: ['é”€å”®é¢', 'åˆ©æ¶¦'] },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'category', data: ['é”€å”®ä¸€éƒ¨', 'é”€å”®äºŒéƒ¨', 'é”€å”®ä¸‰éƒ¨', 'é”€å”®å››éƒ¨'] },
            yAxis: { type: 'value', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            series: [
                {
                    name: 'é”€å”®é¢',
                    type: 'bar',
                    data: [419000, 380500, 323000, 277500],
                    itemStyle: { color: '#6366f1' }
                },
                {
                    name: 'åˆ©æ¶¦',
                    type: 'bar',
                    data: [145400, 131300, 111700, 110650],
                    itemStyle: { color: '#10b981' }
                }
            ]
        });

        // çœä»½TOP10å›¾
        const provinceChart = echarts.init(document.getElementById('provinceChart'));
        provinceChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'value', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            yAxis: {
                type: 'category',
                data: ['æ–°ç–†', 'ç”˜è‚ƒ', 'è´µå·', 'ç¦å»º', 'æµ·å—', 'äº‘å—', 'æ²³åŒ—', 'å¤©æ´¥', 'é‡åº†', 'é™•è¥¿', 'å±±è¥¿', 'æµ™æ±Ÿ', 'æ±Ÿè‹', 'å››å·', 'åŒ—äº¬', 'å¹¿ä¸œ', 'ä¸Šæµ·'].reverse(),
                axisLabel: { fontSize: 11 }
            },
            series: [{
                type: 'bar',
                data: [28000, 17500, 24000, 42000, 21000, 32000, 46500, 70500, 40500, 40000, 24000, 75000, 85000, 122000, 223000, 200000, 219000].reverse(),
                itemStyle: {
                    color: function(params) {
                        const colors = ['#6366f1', '#7c3aed', '#8b5cf6', '#a855f7', '#c084fc'];
                        return colors[params.dataIndex % colors.length];
                    }
                },
                label: { show: true, position: 'right', formatter: v => (v.value/10000).toFixed(1) + 'ä¸‡', fontSize: 10 }
            }]
        });

        // è´¢åŠ¡æŒ‡æ ‡å›¾
        const financeChart = echarts.init(document.getElementById('financeChart'));
        financeChart.setOption({
            tooltip: { trigger: 'item' },
            radar: {
                indicator: [
                    { name: 'æ¯›åˆ©ç‡', max: 50 },
                    { name: 'å‡€åˆ©ç‡', max: 35 },
                    { name: 'ROI', max: 80 },
                    { name: 'å›æ¬¾ç‡', max: 100 },
                    { name: 'ç›®æ ‡å®Œæˆç‡', max: 100 }
                ],
                radius: '65%'
            },
            series: [{
                type: 'radar',
                data: [{
                    value: [35.65, 24.95, 55.39, 53.5, 22.4],
                    name: 'å½“å‰å€¼',
                    areaStyle: { color: 'rgba(99, 102, 241, 0.3)' },
                    lineStyle: { color: '#6366f1' },
                    itemStyle: { color: '#6366f1' }
                }]
            }]
        });

        // åˆ©æ¶¦è´¡çŒ®å›¾
        const profitChart = echarts.init(document.getElementById('profitChart'));
        profitChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            legend: { data: ['é”€å”®é¢', 'åˆ©æ¶¦'] },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'category', data: ['ä¹³åˆ¶å“', 'é¥®æ–™', 'ç³–æœ', 'çƒ˜ç„™', 'å†·å†»é£Ÿå“', 'é›¶é£Ÿ', 'å³é£Ÿé£Ÿå“', 'é…’ç±»', 'ç²®æ²¹', 'è°ƒå‘³å“'], axisLabel: { rotate: 30, fontSize: 11 } },
            yAxis: { type: 'value', axisLabel: { formatter: v => (v/10000).toFixed(0) + 'ä¸‡' } },
            series: [
                {
                    name: 'é”€å”®é¢',
                    type: 'bar',
                    data: [609500, 247000, 116000, 105000, 75000, 66000, 60000, 60000, 37500, 24000],
                    itemStyle: { color: '#6366f1' }
                },
                {
                    name: 'åˆ©æ¶¦',
                    type: 'bar',
                    data: [182850, 98800, 46400, 42000, 30000, 26400, 24000, 24000, 15000, 9600],
                    itemStyle: { color: '#10b981' }
                }
            ]
        });

        // å“åº”å¼
        window.addEventListener('resize', () => {
            trendChart.resize();
            productChart.resize();
            customerChart.resize();
            regionChart.resize();
            deptChart.resize();
            provinceChart.resize();
            financeChart.resize();
            profitChart.resize();
            // æ–°å¢8ä¸ªå›¾è¡¨æ¨¡æ¿
            if (window.tplCharts) {
                window.tplCharts.forEach(c => c.resize());
            }
        });

        // ============================================
        // SmartBI å›¾è¡¨æ¨¡æ¿å±•ç¤º - ä½¿ç”¨çœŸå®ä¸šåŠ¡æ•°æ®ç”Ÿæˆ
        // ============================================
        window.tplCharts = [];

        // 1. è´¢åŠ¡å¥åº·åº¦é›·è¾¾å›¾ - äº”ç»´åº¦åˆ†æ
        const tplRadarChart = echarts.init(document.getElementById('tplRadarChart'));
        tplRadarChart.setOption({
            tooltip: { trigger: 'item' },
            radar: {
                indicator: [
                    { name: 'ç›ˆåˆ©èƒ½åŠ›', max: 100 },
                    { name: 'æµåŠ¨æ€§', max: 100 },
                    { name: 'å¿å€ºèƒ½åŠ›', max: 100 },
                    { name: 'è¿è¥æ•ˆç‡', max: 100 },
                    { name: 'æˆé•¿èƒ½åŠ›', max: 100 }
                ],
                radius: '60%',
                splitNumber: 4,
                axisLine: { lineStyle: { color: '#e5e7eb' } },
                splitLine: { lineStyle: { color: '#e5e7eb' } },
                splitArea: { areaStyle: { color: ['#fff', '#f8fafc'] } }
            },
            series: [{
                type: 'radar',
                data: [{
                    value: [78, 65, 72, 81, 58],
                    name: 'å½“å‰å€¼',
                    areaStyle: { color: 'rgba(59, 130, 246, 0.3)' },
                    lineStyle: { color: '#3b82f6', width: 2 },
                    itemStyle: { color: '#3b82f6' }
                }]
            }]
        });
        window.tplCharts.push(tplRadarChart);

        // 2. æœé‚¦åˆ†æå›¾ - ROE åˆ†è§£
        const tplDupontChart = echarts.init(document.getElementById('tplDupontChart'));
        tplDupontChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['å‡€åˆ©ç‡', 'å‘¨è½¬ç‡', 'æ æ†', 'ROE'], bottom: 0, textStyle: { fontSize: 10 } },
            grid: { left: '8%', right: '8%', bottom: '22%', top: '8%' },
            xAxis: { type: 'category', data: ['Q1', 'Q2', 'Q3', 'Q4'], axisLabel: { fontSize: 10 } },
            yAxis: [
                { type: 'value', name: '%', position: 'left', axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } },
                { type: 'value', name: 'å€', position: 'right', axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } }
            ],
            series: [
                { name: 'å‡€åˆ©ç‡', type: 'bar', data: [8.2, 9.1, 8.8, 10.5], itemStyle: { color: '#6366f1' }, barWidth: '15%' },
                { name: 'å‘¨è½¬ç‡', type: 'bar', data: [1.2, 1.3, 1.25, 1.4], yAxisIndex: 1, itemStyle: { color: '#22c55e' }, barWidth: '15%' },
                { name: 'æ æ†', type: 'bar', data: [2.1, 2.0, 2.15, 2.05], yAxisIndex: 1, itemStyle: { color: '#f59e0b' }, barWidth: '15%' },
                { name: 'ROE', type: 'line', data: [20.6, 23.7, 23.7, 30.1], smooth: true, lineStyle: { width: 2, color: '#ef4444' }, itemStyle: { color: '#ef4444' } }
            ]
        });
        window.tplCharts.push(tplDupontChart);

        // 3. ç°é‡‘æµé‡ç€‘å¸ƒå›¾
        const tplWaterfallChart = echarts.init(document.getElementById('tplWaterfallChart'));
        tplWaterfallChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            grid: { left: '8%', right: '5%', bottom: '12%', top: '8%' },
            xAxis: { type: 'category', data: ['æœŸåˆ', 'ç»è¥', 'æŠ•èµ„', 'ç­¹èµ„', 'æœŸæœ«'], axisLabel: { fontSize: 9 } },
            yAxis: { type: 'value', name: 'ä¸‡å…ƒ', axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } },
            series: [
                { name: 'è¾…åŠ©', type: 'bar', stack: 'total', itemStyle: { borderColor: 'transparent', color: 'transparent' }, data: [0, 500, 650, 550, 0] },
                { name: 'å¢åŠ ', type: 'bar', stack: 'total', itemStyle: { color: '#22c55e' }, label: { show: true, position: 'top', fontSize: 9 }, data: [500, 150, 0, 100, 650] },
                { name: 'å‡å°‘', type: 'bar', stack: 'total', itemStyle: { color: '#ef4444' }, label: { show: true, position: 'bottom', fontSize: 9 }, data: [0, 0, -100, 0, 0] }
            ]
        });
        window.tplCharts.push(tplWaterfallChart);

        // 4. ç›ˆäºå¹³è¡¡åˆ†æå›¾
        const tplBreakevenChart = echarts.init(document.getElementById('tplBreakevenChart'));
        const beQuantity = Array.from({length: 11}, (_, i) => i * 100);
        const beFixedCost = beQuantity.map(() => 200);
        const beTotalCost = beQuantity.map(q => 200 + q * 0.6);
        const beRevenue = beQuantity.map(q => q * 1.0);
        tplBreakevenChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['æ€»æ”¶å…¥', 'æ€»æˆæœ¬', 'å›ºå®šæˆæœ¬'], bottom: 0, textStyle: { fontSize: 9 } },
            grid: { left: '10%', right: '5%', bottom: '20%', top: '8%' },
            xAxis: { type: 'category', name: 'é”€é‡', data: beQuantity, axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } },
            yAxis: { type: 'value', name: 'ä¸‡å…ƒ', axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } },
            series: [
                { name: 'æ€»æ”¶å…¥', type: 'line', data: beRevenue, lineStyle: { color: '#22c55e', width: 2 }, itemStyle: { color: '#22c55e' }, symbol: 'none' },
                { name: 'æ€»æˆæœ¬', type: 'line', data: beTotalCost, lineStyle: { color: '#ef4444', width: 2 }, itemStyle: { color: '#ef4444' }, symbol: 'none' },
                { name: 'å›ºå®šæˆæœ¬', type: 'line', data: beFixedCost, lineStyle: { color: '#f59e0b', type: 'dashed' }, itemStyle: { color: '#f59e0b' }, symbol: 'none' }
            ],
            markLine: { data: [{ xAxis: 500, name: 'ç›ˆäºå¹³è¡¡ç‚¹', lineStyle: { color: '#6366f1', type: 'dashed' }, label: { formatter: 'å¹³è¡¡ç‚¹', fontSize: 9 } }] }
        });
        window.tplCharts.push(tplBreakevenChart);

        // 5. æˆæœ¬ç»“æ„åˆ†æå›¾
        const tplCostPieChart = echarts.init(document.getElementById('tplCostPieChart'));
        tplCostPieChart.setOption({
            tooltip: { trigger: 'item', formatter: '{b}: {c}ä¸‡ ({d}%)' },
            legend: { orient: 'vertical', right: 5, top: 'center', textStyle: { fontSize: 9 } },
            series: [{
                type: 'pie',
                radius: ['30%', '60%'],
                center: ['35%', '50%'],
                itemStyle: { borderRadius: 4, borderColor: '#fff', borderWidth: 1 },
                label: { show: false },
                data: [
                    { value: 420, name: 'åŸææ–™', itemStyle: { color: '#6366f1' } },
                    { value: 180, name: 'äººå·¥', itemStyle: { color: '#22c55e' } },
                    { value: 120, name: 'åˆ¶é€ è´¹', itemStyle: { color: '#f59e0b' } },
                    { value: 80, name: 'ç®¡ç†è´¹', itemStyle: { color: '#ef4444' } },
                    { value: 60, name: 'é”€å”®è´¹', itemStyle: { color: '#8b5cf6' } },
                    { value: 40, name: 'è´¢åŠ¡è´¹', itemStyle: { color: '#06b6d4' } }
                ]
            }]
        });
        window.tplCharts.push(tplCostPieChart);

        // 6. è´¢åŠ¡æ¯”ç‡è¶‹åŠ¿å›¾
        const tplRatioTrendChart = echarts.init(document.getElementById('tplRatioTrendChart'));
        tplRatioTrendChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['æµåŠ¨æ¯”ç‡', 'æ¯›åˆ©ç‡', 'ROE'], bottom: 0, textStyle: { fontSize: 9 } },
            grid: { left: '10%', right: '5%', bottom: '20%', top: '8%' },
            xAxis: { type: 'category', data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'], axisLabel: { fontSize: 9 } },
            yAxis: { type: 'value', axisLabel: { fontSize: 9, formatter: '{value}%' } },
            series: [
                { name: 'æµåŠ¨æ¯”ç‡', type: 'line', data: [1.8, 1.9, 1.85, 2.0, 2.1, 2.15].map(v => v * 50), smooth: true, lineStyle: { color: '#6366f1' }, itemStyle: { color: '#6366f1' }, symbol: 'circle', symbolSize: 4 },
                { name: 'æ¯›åˆ©ç‡', type: 'line', data: [32, 33, 31, 34, 35, 36], smooth: true, lineStyle: { color: '#22c55e' }, itemStyle: { color: '#22c55e' }, symbol: 'circle', symbolSize: 4 },
                { name: 'ROE', type: 'line', data: [18, 19, 20, 22, 24, 25], smooth: true, lineStyle: { color: '#ef4444' }, itemStyle: { color: '#ef4444' }, symbol: 'circle', symbolSize: 4 }
            ]
        });
        window.tplCharts.push(tplRatioTrendChart);

        // 7. å‘¨è½¬ç‡å¯¹æ¯”åˆ†æ
        const tplTurnoverChart = echarts.init(document.getElementById('tplTurnoverChart'));
        tplTurnoverChart.setOption({
            tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
            legend: { data: ['æœ¬æœŸ', 'ä¸ŠæœŸ', 'è¡Œä¸š'], bottom: 0, textStyle: { fontSize: 9 } },
            grid: { left: '8%', right: '5%', bottom: '20%', top: '8%' },
            xAxis: { type: 'category', data: ['å­˜è´§', 'åº”æ”¶', 'åº”ä»˜', 'èµ„äº§'], axisLabel: { fontSize: 9 } },
            yAxis: { type: 'value', name: 'æ¬¡', axisLabel: { fontSize: 9 }, nameTextStyle: { fontSize: 9 } },
            series: [
                { name: 'æœ¬æœŸ', type: 'bar', data: [6.2, 8.5, 5.8, 1.4], itemStyle: { color: '#6366f1' }, barWidth: '20%' },
                { name: 'ä¸ŠæœŸ', type: 'bar', data: [5.8, 7.9, 5.5, 1.3], itemStyle: { color: '#22c55e' }, barWidth: '20%' },
                { name: 'è¡Œä¸š', type: 'bar', data: [5.5, 7.0, 5.0, 1.2], itemStyle: { color: '#e5e7eb' }, barWidth: '20%' }
            ]
        });
        window.tplCharts.push(tplTurnoverChart);

        // 8. KPI ä»ªè¡¨ç›˜
        const tplGaugeChart = echarts.init(document.getElementById('tplGaugeChart'));
        tplGaugeChart.setOption({
            series: [{
                type: 'gauge',
                radius: '85%',
                startAngle: 200,
                endAngle: -20,
                min: 0,
                max: 100,
                splitNumber: 5,
                progress: { show: true, width: 12 },
                pointer: { show: true, length: '50%', width: 4 },
                axisLine: { lineStyle: { width: 12, color: [[0.3, '#ef4444'], [0.7, '#f59e0b'], [1, '#22c55e']] } },
                axisTick: { show: false },
                splitLine: { distance: -14, length: 8, lineStyle: { width: 2, color: '#999' } },
                axisLabel: { distance: -18, color: '#999', fontSize: 9 },
                anchor: { show: true, size: 12, itemStyle: { borderWidth: 4 } },
                title: { show: true, offsetCenter: [0, '65%'], fontSize: 11 },
                detail: { valueAnimation: true, fontSize: 20, offsetCenter: [0, '35%'], formatter: '{value}%', color: 'inherit' },
                data: [{ value: 78.5, name: 'ç›®æ ‡è¾¾æˆç‡' }]
            }]
        });
        window.tplCharts.push(tplGaugeChart);
    </script>
</body>
</html>
