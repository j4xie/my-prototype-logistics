<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>按钮组件演示 - 食品溯源系统</title>
  <!-- 核心样式 -->
  <link rel="stylesheet" href="/styles/normalize.css">
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="stylesheet" href="/styles/trace-components.css">
  
  <style>
    .demo-section {
      margin-bottom: 40px;
      padding: 20px;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      background-color: #f6f8fa;
    }
    
    .demo-title {
      margin-top: 0;
      color: #24292e;
      font-size: 1.5rem;
      border-bottom: 1px solid #e1e4e8;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }
    
    .demo-description {
      margin-bottom: 20px;
    }
    
    .button-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }
    
    .demo-buttons {
      padding: 15px;
      background-color: white;
      border-radius: 4px;
      border: 1px solid #e1e4e8;
    }
    
    .code-block {
      background-color: #f3f4f6;
      border: 1px solid #e1e4e8;
      border-radius: 3px;
      padding: 10px;
      margin: 10px 0;
      overflow-x: auto;
      font-family: monospace;
      font-size: 14px;
      white-space: pre;
    }
    
    .trace-button-group {
      display: flex;
      gap: 8px;
    }
    
    .theme-selector {
      margin-bottom: 20px;
    }
    
    .theme-selector select {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #e1e4e8;
    }
    
    .button-props-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .button-props-table th,
    .button-props-table td {
      border: 1px solid #e1e4e8;
      padding: 8px 12px;
      text-align: left;
    }
    
    .button-props-table th {
      background-color: #f6f8fa;
      font-weight: 600;
    }
    
    .button-props-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
  </style>
  
  <!-- 按钮组件配置 -->
  <script src="/components/trace-button-config.js"></script>
</head>
<body>
  <header class="main-header">
    <div class="logo">
      <a href="/index.html">
        <img src="/assets/images/logo.png" alt="食品溯源系统标志">
        <span>食品溯源系统</span>
      </a>
    </div>
    <nav class="main-nav">
      <ul>
        <li><a href="/pages/home/home-selector.html">首页</a></li>
        <li><a href="/pages/trace/trace-map.html">溯源地图</a></li>
        <li><a href="/pages/trace/trace-list.html">溯源列表</a></li>
        <li><a href="/pages/product-trace.html">产品溯源</a></li>
        <li><a href="/pages/auth/login.html">登录</a></li>
      </ul>
    </nav>
  </header>

  <main id="app">
    <h1>按钮组件演示</h1>
    <p>本页面展示系统中所有可用的按钮组件、样式和使用方法。</p>
    
    <div class="theme-selector">
      <label for="theme-select">选择主题: </label>
      <select id="theme-select">
        <option value="default">默认主题</option>
        <option value="dark">深色主题</option>
        <option value="high-contrast">高对比度主题</option>
      </select>
    </div>
    
    <!-- 基础按钮样式 -->
    <section class="demo-section">
      <h2 class="demo-title">基础按钮样式</h2>
      <p class="demo-description">系统提供四种基础按钮样式：主要按钮、次要按钮、图标按钮和危险按钮。</p>
      
      <div class="button-container">
        <button id="primary-button" class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus">主要按钮</button>
        <button id="secondary-button" class="trace-button trace-button-secondary trace-button-hover trace-button-active trace-button-focus">次要按钮</button>
        <button id="icon-button" class="trace-button trace-button-icon trace-button-hover trace-button-active trace-button-focus" aria-label="图标按钮">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 3.5v9M3.5 8h9"></path>
          </svg>
        </button>
        <button id="danger-button" class="trace-button trace-button-danger trace-button-hover trace-button-active trace-button-focus">危险按钮</button>
      </div>
      
      <div class="code-block">
// HTML方式
&lt;button class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus"&gt;主要按钮&lt;/button&gt;
&lt;button class="trace-button trace-button-secondary trace-button-hover trace-button-active trace-button-focus"&gt;次要按钮&lt;/button&gt;
&lt;button class="trace-button trace-button-icon trace-button-hover trace-button-active trace-button-focus" aria-label="图标按钮"&gt;
  &lt;svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"&gt;
    &lt;path d="M8 3.5v9M3.5 8h9"&gt;&lt;/path&gt;
  &lt;/svg&gt;
&lt;/button&gt;
&lt;button class="trace-button trace-button-danger trace-button-hover trace-button-active trace-button-focus"&gt;危险按钮&lt;/button&gt;</div>
    </section>
    
    <!-- 按钮状态 -->
    <section class="demo-section">
      <h2 class="demo-title">按钮状态</h2>
      <p class="demo-description">按钮可以有多种状态：普通、悬停、激活、禁用。</p>
      
      <div class="button-container">
        <button class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus">普通状态</button>
        <button class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus" style="filter: brightness(90%);">悬停状态</button>
        <button class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus" style="transform: translateY(1px); filter: brightness(85%);">激活状态</button>
        <button class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus" disabled>禁用状态</button>
      </div>
      
      <div class="code-block">
// 禁用状态示例
&lt;button class="trace-button trace-button-primary" disabled&gt;禁用状态&lt;/button&gt;</div>
    </section>
    
    <!-- 按钮模板 -->
    <section class="demo-section">
      <h2 class="demo-title">按钮模板</h2>
      <p class="demo-description">使用 traceButtonTemplates 可以快速创建预定义的按钮类型。</p>
      
      <div class="demo-buttons" id="template-buttons">
        <!-- 按钮将通过JavaScript动态添加 -->
      </div>
      
      <div class="code-block">
// JavaScript方式创建按钮
// 主要按钮
const primaryButton = traceButtonTemplates.primary({
  text: '确认',
  onClick: function() { 
    console.log('点击了确认按钮'); 
  }
});
document.querySelector('#template-buttons').appendChild(primaryButton);

// 返回按钮
const backButton = traceButtonTemplates.back({
  onClick: function() {
    console.log('点击了返回按钮');
  }
});
document.querySelector('#template-buttons').appendChild(backButton);</div>
    </section>
    
    <!-- 按钮组 -->
    <section class="demo-section">
      <h2 class="demo-title">按钮组</h2>
      <p class="demo-description">可以创建一组相关按钮，用于表单操作或工具栏。</p>
      
      <div class="demo-buttons" id="button-group">
        <!-- 按钮组将通过JavaScript动态添加 -->
      </div>
      
      <div class="code-block">
// 创建按钮组
traceButtonTemplates.createButtonGroup([
  { template: 'save', text: '保存' },
  { template: 'secondary', text: '取消' },
  { template: 'delete', text: '删除' }
], '#button-group');</div>
    </section>
    
    <!-- 动态按钮演示 -->
    <section class="demo-section">
      <h2 class="demo-title">动态按钮演示</h2>
      <p class="demo-description">动态创建、更新和管理按钮。</p>
      
      <div class="demo-buttons" id="dynamic-buttons">
        <!-- 空容器，按钮将通过JavaScript动态添加 -->
      </div>
      
      <div class="button-container">
        <button id="add-button" class="trace-button trace-button-primary trace-button-hover trace-button-active trace-button-focus">添加按钮</button>
        <button id="update-button" class="trace-button trace-button-secondary trace-button-hover trace-button-active trace-button-focus">更新按钮</button>
        <button id="toggle-disable" class="trace-button trace-button-secondary trace-button-hover trace-button-active trace-button-focus">切换禁用状态</button>
      </div>
    </section>
    
    <!-- 属性参考 -->
    <section class="demo-section">
      <h2 class="demo-title">按钮属性参考</h2>
      <p class="demo-description">创建按钮时可以使用的选项和参数。</p>
      
      <table class="button-props-table">
        <thead>
          <tr>
            <th>属性名</th>
            <th>类型</th>
            <th>描述</th>
            <th>默认值</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>id</td>
            <td>字符串</td>
            <td>按钮的唯一标识符</td>
            <td>自动生成</td>
          </tr>
          <tr>
            <td>text</td>
            <td>字符串</td>
            <td>按钮显示的文本</td>
            <td>根据模板设置</td>
          </tr>
          <tr>
            <td>type</td>
            <td>字符串</td>
            <td>按钮类型，如 button、submit、reset</td>
            <td>button</td>
          </tr>
          <tr>
            <td>className</td>
            <td>字符串</td>
            <td>按钮的CSS类名</td>
            <td>根据模板设置</td>
          </tr>
          <tr>
            <td>icon</td>
            <td>字符串</td>
            <td>按钮图标的HTML字符串，通常是SVG</td>
            <td>根据模板设置</td>
          </tr>
          <tr>
            <td>onClick</td>
            <td>函数</td>
            <td>点击按钮时的回调函数</td>
            <td>null</td>
          </tr>
          <tr>
            <td>disabled</td>
            <td>布尔值</td>
            <td>是否禁用按钮</td>
            <td>false</td>
          </tr>
          <tr>
            <td>ariaLabel</td>
            <td>字符串</td>
            <td>无障碍标签，用于屏幕阅读器</td>
            <td>按钮文本</td>
          </tr>
          <tr>
            <td>title</td>
            <td>字符串</td>
            <td>鼠标悬停时的提示文本</td>
            <td>无</td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>

  <footer class="main-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>关于我们</h3>
        <p>食品溯源系统是一个专为食品行业设计的透明、可靠的溯源平台</p>
      </div>
      <div class="footer-section">
        <h3>联系我们</h3>
        <p>邮箱: contact@foodtrace.example.com</p>
        <p>电话: +86 123 4567 8910</p>
      </div>
      <div class="footer-section">
        <h3>帮助</h3>
        <ul>
          <li><a href="#">使用指南</a></li>
          <li><a href="#">常见问题</a></li>
          <li><a href="#">API文档</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 食品溯源系统 - 保留所有权利</p>
    </div>
  </footer>

  <!-- 核心脚本 -->
  <script src="/components/trace-ui-components.js"></script>
  <script src="/components/trace-button-template.js"></script>
  <script src="/components/trace-main.js"></script>
  
  <!-- 自动升级脚本 -->
  <script src="/components/autoload-button-upgrade.js"></script>
  
  <!-- 页面特定脚本 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (!window.traceButtonTemplates) {
        console.error('按钮模板脚本未正确加载');
        return;
      }
      
      // 主题切换
      document.getElementById('theme-select').addEventListener('change', function(e) {
        const theme = e.target.value;
        document.body.className = theme !== 'default' ? 'theme-' + theme : '';
      });
      
      // 创建模板按钮示例
      const templateContainer = document.getElementById('template-buttons');
      
      // 清空容器
      templateContainer.innerHTML = '';
      
      // 添加各种模板按钮
      const buttonTypes = [
        'primary', 'secondary', 'back', 'save', 
        'add', 'delete', 'edit', 'search', 
        'export', 'import', 'refresh', 'icon'
      ];
      
      const buttonContainer = document.createElement('div');
      buttonContainer.className = 'button-container';
      templateContainer.appendChild(buttonContainer);
      
      // 为每种类型创建一个按钮
      buttonTypes.forEach(type => {
        const options = {
          onClick: function() {
            console.log(`点击了 ${type} 按钮`);
          }
        };
        
        // 图标按钮特殊处理
        if (type === 'icon') {
          options.icon = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 12a4 4 0 100-8 4 4 0 000 8z"></path></svg>';
          options.ariaLabel = '圆形图标按钮';
          options.title = '圆形图标';
        }
        
        const button = window.traceButtonTemplates[type](options);
        buttonContainer.appendChild(button);
      });
      
      // 创建按钮组示例
      const buttonGroupContainer = document.getElementById('button-group');
      buttonGroupContainer.innerHTML = '';
      
      window.traceButtonTemplates.createButtonGroup([
        { 
          template: 'save', 
          text: '保存',
          onClick: function() { console.log('保存按钮被点击'); }
        },
        { 
          template: 'secondary', 
          text: '取消',
          onClick: function() { console.log('取消按钮被点击'); }
        },
        { 
          template: 'delete', 
          text: '删除',
          onClick: function() { console.log('删除按钮被点击'); }
        }
      ], buttonGroupContainer);
      
      // 动态按钮演示
      const dynamicContainer = document.getElementById('dynamic-buttons');
      let dynamicButtonId = null;
      let buttonCounter = 0;
      
      // 添加按钮事件
      document.getElementById('add-button').addEventListener('click', function() {
        buttonCounter++;
        
        const dynamicButton = window.traceButtonTemplates.primary({
          text: `动态按钮 ${buttonCounter}`,
          onClick: function() {
            alert(`你点击了动态按钮 ${buttonCounter}`);
          }
        });
        
        dynamicContainer.appendChild(dynamicButton);
        dynamicButtonId = dynamicButton.id;
      });
      
      // 更新按钮事件
      document.getElementById('update-button').addEventListener('click', function() {
        if (!dynamicButtonId) {
          alert('请先添加一个按钮');
          return;
        }
        
        window.traceButtonTemplates.updateButton(`#${dynamicButtonId}`, {
          text: `更新的按钮 ${buttonCounter}`,
          icon: '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 3.5v9M3.5 8h9"></path></svg>'
        });
      });
      
      // 切换禁用状态事件
      document.getElementById('toggle-disable').addEventListener('click', function() {
        if (!dynamicButtonId) {
          alert('请先添加一个按钮');
          return;
        }
        
        const button = document.getElementById(dynamicButtonId);
        const isDisabled = button.disabled;
        
        window.traceButtonTemplates.updateButton(`#${dynamicButtonId}`, {
          disabled: !isDisabled
        });
      });
    });
  </script>
</body>
</html> 