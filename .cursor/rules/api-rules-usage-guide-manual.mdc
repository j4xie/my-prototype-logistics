---
description: å½“éœ€è¦æ˜ç¡®ä½¿ç”¨å“ªä¸ªAPIç›¸å…³è§„åˆ™æ—¶ï¼Œå‚è€ƒæœ¬æŒ‡å—è¿›è¡Œé€‰æ‹©
globs: 
alwaysApply: false
---
# APIè§„åˆ™ä½¿ç”¨æŒ‡å—

## ä½¿ç”¨åœºæ™¯
å½“éœ€è¦æ˜ç¡®ä½¿ç”¨å“ªä¸ªAPIç›¸å…³è§„åˆ™æ—¶ï¼Œå‚è€ƒæœ¬æŒ‡å—è¿›è¡Œé€‰æ‹©

## ğŸ¯ è§„åˆ™é€‰æ‹©æµç¨‹å›¾

```
å¼€å§‹APIç›¸å…³å·¥ä½œ
       â†“
   æ˜¯å¦éœ€è¦è®¾è®¡æ¥å£ï¼Ÿ
    â†™        â†˜
  æ˜¯          å¦
   â†“          â†“
è®¾è®¡é˜¶æ®µ     å¼€å‘é˜¶æ®µ
   â†“          â†“
ä½¿ç”¨APIæ¥å£  ä½¿ç”¨APIé›†æˆ
è®¾è®¡è§„èŒƒ     ä»£ç†è§„åˆ™
```

## ğŸ“‹ ä¸¤ä¸ªAPIè§„åˆ™è¯¦ç»†å¯¹æ¯”

### 1ï¸âƒ£ api-interface-design-agent.mdc
**ğŸ¯ èŒè´£**: API **è®¾è®¡å’Œè§„èŒƒåˆ¶å®š**

**ğŸ” ä½¿ç”¨æ—¶æœº**:
- âœ… **æ–°é¡¹ç›®å¯åŠ¨** - åˆ¶å®šAPIæ¶æ„è“å›¾
- âœ… **æ–°åŠŸèƒ½è®¾è®¡** - ç¡®å®šæ¥å£URLå’Œæ•°æ®ç»“æ„  
- âœ… **å‰åç«¯åå•†** - ç¡®è®¤æ¥å£å¥‘çº¦
- âœ… **APIæ–‡æ¡£ç¼–å†™** - è§„èŒƒæ¥å£å®šä¹‰
- âœ… **æ¥å£è¯„å®¡** - æ£€æŸ¥è®¾è®¡æ˜¯å¦ç¬¦åˆRESTfulè§„èŒƒ

**ğŸ“Š è¾“å‡ºæˆæœ**:
- APIæ¥å£æ–‡æ¡£ (URLã€å‚æ•°ã€å“åº”æ ¼å¼)
- æ•°æ®æ¨¡å‹å®šä¹‰ (TypeScriptæ¥å£)
- ä¸šåŠ¡åŸŸåˆ’åˆ† (è®¤è¯åŸŸã€æº¯æºåŸŸç­‰)
- é”™è¯¯ç å®šä¹‰
- æ¥å£è§„èŒƒæ–‡æ¡£

**ğŸ¨ å®é™…ä¾‹å­**:
```markdown
éœ€è¦è®¾è®¡"å†œäº§å“è´¨æ£€"åŠŸèƒ½ â†’ ä½¿ç”¨æ­¤è§„åˆ™

è¾“å‡º:
POST /api/v1/quality-inspections
GET /api/v1/quality-inspections/{id}
æ•°æ®æ¨¡å‹: QualityInspectionæ¥å£
é”™è¯¯ç : INSPECTION_NOT_FOUND
```

### 2ï¸âƒ£ api-integration-agent.mdc  
**ğŸ¯ èŒè´£**: API **å¼€å‘å®ç°å’Œé›†æˆ**

**ğŸ” ä½¿ç”¨æ—¶æœº**:
- âœ… **å®ç°APIå®¢æˆ·ç«¯** - å°è£…HTTPè¯·æ±‚
- âœ… **åˆ›å»ºServiceå±‚** - ä¸šåŠ¡é€»è¾‘å°è£…
- âœ… **ç¯å¢ƒé…ç½®** - Mock/å¼€å‘/ç”Ÿäº§ç¯å¢ƒåˆ‡æ¢
- âœ… **é”™è¯¯å¤„ç†** - å®ç°é‡è¯•å’Œå®¹é”™æœºåˆ¶
- âœ… **æ€§èƒ½ä¼˜åŒ–** - ç¼“å­˜ã€æ‰¹é‡è¯·æ±‚
- âœ… **æµ‹è¯•ç¼–å†™** - APIåŠŸèƒ½éªŒè¯

**ğŸ“Š è¾“å‡ºæˆæœ**:
- Serviceç±»å®ç° (TraceServiceã€AuthService)
- ç¯å¢ƒé…ç½®ä»£ç  (getApiConfig)
- é”™è¯¯å¤„ç†é€»è¾‘ (ApiErrorã€é‡è¯•æœºåˆ¶)
- TypeScriptç±»å‹å®‰å…¨å°è£…
- æµ‹è¯•ç”¨ä¾‹
- æ€§èƒ½ä¼˜åŒ–ä»£ç 

**ğŸ¨ å®é™…ä¾‹å­**:
```typescript
æœ‰äº†è´¨æ£€APIè®¾è®¡ â†’ ä½¿ç”¨æ­¤è§„åˆ™å®ç°

è¾“å‡º:
export class QualityInspectionService extends BaseApiService {
  async createInspection(data: InspectionCreateRequest) {
    return this.handleRequest(() =>
      this.apiClient.post('/quality-inspections', data)
    );
  }
}
```

## ğŸ”„ å…¸å‹å·¥ä½œæµç¨‹

### åœºæ™¯1: å…¨æ–°åŠŸèƒ½å¼€å‘
1. **ç¬¬ä¸€æ­¥** â†’ ä½¿ç”¨ `api-interface-design-agent`
   - è®¾è®¡APIæ¥å£è§„èŒƒ
   - å®šä¹‰æ•°æ®æ¨¡å‹
   - ç¡®è®¤URLç»“æ„

2. **ç¬¬äºŒæ­¥** â†’ ä½¿ç”¨ `api-integration-agent`  
   - å®ç°APIå®¢æˆ·ç«¯
   - åˆ›å»ºServiceç±»
   - é…ç½®ç¯å¢ƒåˆ‡æ¢

### åœºæ™¯2: ä¿®å¤APIé—®é¢˜
- **BUGä¿®å¤** â†’ ä½¿ç”¨ `api-integration-agent`
- **æ¥å£è®¾è®¡è°ƒæ•´** â†’ ä½¿ç”¨ `api-interface-design-agent`

### åœºæ™¯3: æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜ã€é‡è¯•ã€æ‰¹é‡è¯·æ±‚** â†’ ä½¿ç”¨ `api-integration-agent`

### åœºæ™¯4: æ–‡æ¡£æ›´æ–°
- **æ¥å£è§„èŒƒæ–‡æ¡£** â†’ ä½¿ç”¨ `api-interface-design-agent`
- **ä½¿ç”¨è¯´æ˜æ–‡æ¡£** â†’ ä½¿ç”¨ `api-integration-agent`

## âš¡ å¿«é€Ÿåˆ¤æ–­è¡¨

| é—®é¢˜ç±»å‹ | ä½¿ç”¨è§„åˆ™ | å…³é”®æ ‡è¯† |
|---------|---------|---------|
| "è®¾è®¡ä¸€ä¸ªAPIæ¥å£" | api-interface-design | å…³é”®è¯ï¼šè®¾è®¡ã€è§„èŒƒã€æ–‡æ¡£ |
| "å®ç°APIè°ƒç”¨" | api-integration | å…³é”®è¯ï¼šå®ç°ã€ä»£ç ã€Service |
| "APIè¿”å›ä»€ä¹ˆæ•°æ®ï¼Ÿ" | api-interface-design | å…³é”®è¯ï¼šæ•°æ®ç»“æ„ã€å“åº”æ ¼å¼ |
| "å¦‚ä½•è°ƒç”¨APIï¼Ÿ" | api-integration | å…³é”®è¯ï¼šè°ƒç”¨æ–¹æ³•ã€é”™è¯¯å¤„ç† |
| "Mock APIæ€ä¹ˆç”¨ï¼Ÿ" | api-integration | å…³é”®è¯ï¼šMockã€ç¯å¢ƒã€é…ç½® |
| "æ¥å£URLè§„èŒƒï¼Ÿ" | api-interface-design | å…³é”®è¯ï¼šURLã€RESTful |

## ğŸ¯ è®°å¿†å£è¯€

```
è®¾è®¡é—®è§„èŒƒ â†’ api-interface-design-agent
å®ç°é—®ä»£ç  â†’ api-integration-agent

æƒ³æ³•å˜æ–‡æ¡£ â†’ designè§„åˆ™  
æ–‡æ¡£å˜ä»£ç  â†’ integrationè§„åˆ™
```

## ğŸ”§ å¸¸è§æ··æ·†æƒ…å†µ

### âŒ é”™è¯¯ä½¿ç”¨
- ç”¨designè§„åˆ™å†™å…·ä½“ä»£ç å®ç°
- ç”¨integrationè§„åˆ™è®¾è®¡æ¥å£è§„èŒƒ

### âœ… æ­£ç¡®ä½¿ç”¨  
- designè§„åˆ™ï¼šä¸“æ³¨æ¥å£å®šä¹‰å’Œè§„èŒƒ
- integrationè§„åˆ™ï¼šä¸“æ³¨ä»£ç å®ç°å’Œé›†æˆ

## ç¤ºä¾‹

<example>
  **æ­£ç¡®çš„è§„åˆ™é€‰æ‹©**ï¼š
  
  **æƒ…å†µ1**: "æˆ‘éœ€è¦è®¾è®¡ç”¨æˆ·ç™»å½•APIçš„æ¥å£"
  â†’ ä½¿ç”¨ `api-interface-design-agent`
  â†’ è¾“å‡º: POST /api/v1/auth/login, è¯·æ±‚å‚æ•°å®šä¹‰, å“åº”æ ¼å¼è§„èŒƒ
  
  **æƒ…å†µ2**: "æˆ‘éœ€è¦å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½çš„å‰ç«¯ä»£ç "  
  â†’ ä½¿ç”¨ `api-integration-agent`
  â†’ è¾“å‡º: AuthServiceç±»å®ç°, é”™è¯¯å¤„ç†é€»è¾‘, TypeScriptç±»å‹å®šä¹‰
  
  **æƒ…å†µ3**: "ç™»å½•APIå·²ç»è®¾è®¡å¥½äº†ï¼Œç°åœ¨è¦å†™è°ƒç”¨ä»£ç "
  â†’ ä½¿ç”¨ `api-integration-agent`
</example>

<example type="invalid">
  **é”™è¯¯çš„è§„åˆ™é€‰æ‹©**ï¼š
  
  **é”™è¯¯1**: ç”¨designè§„åˆ™å†™Serviceç±»ä»£ç 
  â†’ åº”è¯¥ç”¨integrationè§„åˆ™
  
  **é”™è¯¯2**: ç”¨integrationè§„åˆ™è®¾è®¡API URLç»“æ„  
  â†’ åº”è¯¥ç”¨designè§„åˆ™
  
  **é”™è¯¯3**: ä¸çŸ¥é“é€‰æ‹©å“ªä¸ªï¼Œä¸¤ä¸ªéƒ½ç”¨
  â†’ åº”è¯¥æ˜ç¡®å½“å‰é˜¶æ®µï¼šè®¾è®¡è¿˜æ˜¯å®ç°
</example>

