# 快速测试检查清单

**测试日期**: ___________
**测试人**: ___________

---

## 🚀 开始测试前

### 1. TypeScript编译检查（必须）

```bash
cd frontend/CretasFoodTrace
npx tsc --noEmit
```

**结果**:
- [ ] ✅ 无编译错误
- [ ] ❌ 有错误（记录错误数量: _____ ）

---

### 2. 启动开发服务器

```bash
cd frontend/CretasFoodTrace
npx expo start
```

**结果**:
- [ ] ✅ 服务器成功启动
- [ ] ✅ 可以在设备/模拟器上访问

---

## 📋 核心功能测试（20分钟快速测试）

### A. 批次编辑功能（5分钟）

#### 测试步骤：
1. [ ] 登录工厂管理员账号（admin / Admin@123456）
2. [ ] 点击底部"生产" Tab
3. [ ] 进入"批次列表"
4. [ ] 选择任意批次查看详情
5. [ ] 查看右上角是否有"编辑"按钮（铅笔图标）
6. [ ] 点击编辑按钮

#### 验证点：
- [ ] ✅ 页面标题显示"编辑批次"
- [ ] ✅ 表单已自动填充原批次数据
- [ ] ✅ 没有显示"记录原料入库信息"提示
- [ ] ✅ 可以修改原料数量
- [ ] ✅ 底部按钮显示"更新批次"（而非"创建批次"）

#### 提交测试：
7. [ ] 修改原料数量（例如改为1500）
8. [ ] 点击"更新批次"按钮

**预期结果**:
- [ ] ✅ 显示"更新中..."
- [ ] ✅/⚠️ 弹出成功/失败提示
  - 如果后端未实现会失败（404错误）- 这是正常的
  - 前端功能已完成，只是缺少后端支持

**截图**:
- [ ] 批次详情页（显示编辑按钮）
- [ ] 编辑页面（显示已填充数据）

---

### B. 考勤统计入口（5分钟）

#### 测试步骤：
1. [ ] 保持登录或重新登录工厂用户
2. [ ] 点击底部"考勤" Tab
3. [ ] 滚动到页面底部

#### 验证点：
- [ ] ✅ 看到"统计与查询" Card
- [ ] ✅ Card内有3个按钮：
  - [ ] 打卡历史（history图标）
  - [ ] 工时统计（chart-bar图标）
  - [ ] 工作记录（notebook图标）

#### 导航测试：
4. [ ] 点击"打卡历史"
   - [ ] ✅ 跳转到打卡历史页面
   - [ ] ✅ 页面标题正确
5. [ ] 返回，点击"工时统计"
   - [ ] ✅ 跳转到工时统计页面
   - [ ] ✅ 页面标题正确
6. [ ] 返回，点击"工作记录"
   - [ ] ✅ 跳转到工作记录页面
   - [ ] ✅ 页面标题正确

**截图**:
- [ ] 考勤打卡页面底部（显示统计入口）

---

### C. 工厂设置入口（3分钟）

#### 测试步骤：
1. [ ] 使用管理员账号登录
2. [ ] 点击底部"管理" Tab
3. [ ] 滚动查找"工厂配置" section

#### 验证点：
- [ ] ✅ 显示"工厂配置" section
- [ ] ✅ section图标为工厂图标
- [ ] ✅ 包含"工厂设置"项
- [ ] ✅ 点击后能跳转到工厂设置页面

#### 权限测试（可选）：
4. [ ] 登录普通员工账号
5. [ ] 进入管理页面
6. [ ] 验证不显示"工厂配置" section

---

### D. 平台管理功能（7分钟）

#### D1. 平台Tab显示测试

**测试步骤**：
1. [ ] 登录平台管理员账号
2. [ ] 查看底部Tab导航栏

**验证点**：
- [ ] ✅ 显示"平台"Tab（盾牌皇冠图标）
- [ ] ✅ Tab位于"管理"和"我的"之间

**对比测试**：
3. [ ] 登出，登录工厂用户
4. [ ] 查看底部Tab

**验证点**：
- [ ] ✅ 不显示"平台"Tab
- [ ] ✅ 只显示：首页、考勤、生产、管理、我的

---

#### D2. 平台仪表板测试

**测试步骤**（使用平台管理员账号）：
1. [ ] 点击"平台"Tab
2. [ ] 查看页面内容

**验证点**：
- [ ] ✅ 显示欢迎卡片（蓝色背景）
  - [ ] 皇冠图标
  - [ ] 欢迎文字
  - [ ] "平台超级管理员"标识
- [ ] ✅ 显示平台概览（3个统计块）
  - [ ] 工厂总数: 3
  - [ ] 用户总数: 24
  - [ ] 本周AI调用: 187
- [ ] ✅ 显示管理功能列表（4项）
  - [ ] 工厂管理
  - [ ] 用户管理
  - [ ] 白名单管理
  - [ ] AI配额管理
- [ ] ✅ 显示快捷操作（4个按钮）
- [ ] ✅ 显示系统状态（3项，全部"正常运行"）

**截图**:
- [ ] 平台仪表板完整页面

---

#### D3. 管理功能导航测试

**测试步骤**：
1. [ ] 点击"工厂管理"
   - [ ] ✅ 跳转到工厂管理页面
   - [ ] ✅ 显示工厂列表
2. [ ] 返回，点击"用户管理"
   - [ ] ✅ 跳转到用户管理页面
3. [ ] 返回，点击"白名单管理"
   - [ ] ✅ 跳转到白名单管理页面
4. [ ] 返回，点击"AI配额管理"
   - [ ] ✅ 跳转到AI配额管理页面

**验证点**：
- [ ] ✅ 所有导航正常工作
- [ ] ✅ 可以正常返回仪表板

---

## 🎯 端到端测试（可选，10分钟）

### E2E-1: 批次编辑完整流程

**场景**: 管理员修改批次数据

1. [ ] 登录管理员账号
2. [ ] 首页 → 生产 → 批次列表
3. [ ] 选择批次"BATCH-xxx"
4. [ ] 查看原料数量（记录原值: _____ kg）
5. [ ] 点击编辑按钮
6. [ ] 修改数量为: _____ kg
7. [ ] 点击"更新批次"
8. [ ] 查看提示结果

**结果**:
- [ ] ✅ 流程顺畅，无崩溃
- [ ] ✅/⚠️ API调用成功/失败（记录原因）

---

### E2E-2: 考勤统计访问流程

**场景**: 员工查看考勤统计

1. [ ] 登录员工账号
2. [ ] 首页 → 考勤
3. [ ] 滚动到底部
4. [ ] 依次访问3个统计功能
5. [ ] 测试Appbar的历史按钮

**结果**:
- [ ] ✅ 所有导航正常
- [ ] ✅ 无页面错误

---

### E2E-3: 平台管理工作流

**场景**: 平台管理员管理系统

1. [ ] 登录平台管理员
2. [ ] 验证"平台"Tab可见
3. [ ] 进入平台仪表板
4. [ ] 依次访问4个管理功能
5. [ ] 测试快捷操作按钮

**结果**:
- [ ] ✅ 权限控制正确
- [ ] ✅ 所有功能可访问

---

## 📊 测试结果汇总

### 功能完成度

| 功能模块 | 测试项 | 通过 | 失败 | 跳过 |
|---------|--------|------|------|------|
| 批次编辑 | 6 | ___ | ___ | ___ |
| 考勤统计 | 7 | ___ | ___ | ___ |
| 工厂设置 | 3 | ___ | ___ | ___ |
| 平台管理 | 8 | ___ | ___ | ___ |
| **总计** | **24** | ___ | ___ | ___ |

### 完成率
- 通过率: _____ %
- 失败项: _____ 个
- 主要问题: ______________________

---

## ✅ 最终结论

- [ ] ✅ **所有核心功能正常** - 可以发布
- [ ] ⚠️ **有次要问题** - 需要修复后发布
  - 问题列表: ______________________
- [ ] ❌ **有严重问题** - 暂不能发布
  - 严重问题: ______________________

---

## 📝 问题记录

### 问题 #1: ______________________
- **严重程度**: Critical / High / Medium / Low
- **影响范围**: ______________________
- **复现步骤**: ______________________
- **预期vs实际**: ______________________

### 问题 #2: ______________________
（继续记录...）

---

## 🎉 测试完成

**完成时间**: ___________
**总耗时**: _____ 分钟
**测试人签名**: ___________

**下一步行动**:
- [ ] 修复发现的问题
- [ ] 后端API开发（updateBatch接口）
- [ ] 准备发布
- [ ] 继续Phase 5+开发

---

**备注**:
- TypeScript编译检查是必须的
- 如果后端API未实现，前端功能测试通过即可
- 截图保存在项目的 `/screenshots/test-YYYYMMDD/` 目录
