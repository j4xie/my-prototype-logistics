# 脚本使用说明文档

<!-- updated for: 项目重构阶段一 - 脚本文件整理 -->

本文档提供项目脚本的总体说明和使用指南。

## 脚本目录结构

```
scripts/
├── build/            # 构建相关脚本
├── deploy/           # 部署相关脚本
├── dev/              # 开发环境相关脚本
│   └── git/          # Git相关开发脚本
├── data/             # 数据处理相关脚本
├── utils/            # 工具类脚本
└── README.md         # 本文档
```

## 脚本分类及用途

### 构建脚本 (build)

构建脚本用于项目的编译、打包和资源处理，通常在开发完成后或持续集成过程中使用。

### 部署脚本 (deploy)

部署脚本用于将项目发布到各种环境（开发、测试、生产）的自动化流程。

### 开发脚本 (dev)

开发脚本用于辅助日常开发工作，包括环境设置、开发服务器启动等。

### 数据处理脚本 (data)

数据处理脚本用于数据格式转换、批量数据处理等任务。

### 工具脚本 (utils)

工具脚本提供通用功能，如性能测试、代码检查等。

## 使用方法

### Windows 环境

- 批处理脚本(.bat)可直接双击执行或在命令行中调用
- PowerShell脚本(.ps1)需要在PowerShell环境中运行，可能需要调整执行策略：
  ```powershell
  Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
  .\scripts\path\to\script.ps1
  ```

### Linux/Mac 环境

- Shell脚本(.sh)需要先赋予执行权限：
  ```bash
  chmod +x scripts/path/to/script.sh
  ./scripts/path/to/script.sh
  ```

## 常见问题

1. **脚本执行权限问题**
   - Windows: 检查PowerShell执行策略
   - Linux/Mac: 检查文件是否有执行权限

2. **路径引用问题**
   - 脚本中的相对路径基于执行脚本时的当前目录
   - 建议使用项目根目录作为基准点

3. **环境变量问题**
   - 确保已设置必要的环境变量
   - 检查.env文件配置

## 脚本开发规范

1. **文件命名规范**
   - 使用小写字母和连字符
   - 名称应反映脚本功能
   - 示例: `build-production.sh`, `setup-dev-environment.ps1`

2. **注释规范**
   - 每个脚本应在头部包含描述、用途、参数说明
   - 关键步骤应有注释说明

3. **参数处理**
   - 应处理和验证输入参数
   - 提供帮助信息(-h, --help)

4. **错误处理**
   - 检查关键操作的返回值
   - 出错时提供有用的错误信息

## 维护与贡献

- 添加新脚本前，检查是否已有类似功能的脚本
- 添加新脚本后，更新本文档
- 修改共享脚本前，评估对现有流程的影响 