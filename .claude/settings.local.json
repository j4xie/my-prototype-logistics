{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "permissions": {
    "allow": [
      "Bash(curl -s -X POST \"http://localhost:10010/api/mobile/CRETAS_2024_001/processing/batches\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\" -H \"Content-Type: application/json\" -d '{\n  \"\"\"\"productTypeId\"\"\"\": \"\"\"\"TEST_PROD_001\"\"\"\",\n  \"\"\"\"batchNumber\"\"\"\": \"\"\"\"BATCH-SUCCESS-001\"\"\"\",\n  \"\"\"\"plannedQuantity\"\"\"\": 200,\n  \"\"\"\"supervisorId\"\"\"\": 1\n}')",
      "Bash(tee material_batch_test_results.log)",
      "Bash(curl -s -X POST \"http://localhost:10010/api/mobile/CRETAS_2024_001/processing/batches\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\" -H \"Content-Type: application/json\" -d '{\n  \"\"\"\"productTypeId\"\"\"\": \"\"\"\"TEST_PROD_001\"\"\"\",\n  \"\"\"\"batchNumber\"\"\"\": \"\"\"\"BATCH-SUCCESS-002\"\"\"\",\n  \"\"\"\"plannedQuantity\"\"\"\": 250,\n  \"\"\"\"supervisorId\"\"\"\": 1\n}')",
      "Bash(lsof -i:10010)",
      "Bash(curl -s -X POST \"http://localhost:10010/api/mobile/CRETAS_2024_001/processing/batches\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\" -H \"Content-Type: application/json\" -d '{\n  \"\"productTypeId\"\": \"\"TEST_PROD_001\"\",\n  \"\"batchNumber\"\": \"\"BATCH-FIX-TEST-001\"\",\n  \"\"plannedQuantity\"\": 100,\n  \"\"supervisorId\"\": 1\n}')",
      "Bash(curl -s http://139.196.165.140:10010/actuator/health)",
      "Bash(curl -s -X POST \"http://139.196.165.140:10010/api/mobile/CRETAS_2024_001/processing/batches\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\" -H \"Content-Type: application/json\" -d '{\n  \"\"\"\"productTypeId\"\"\"\": \"\"\"\"TEST_PROD_001\"\"\"\",\n  \"\"\"\"batchNumber\"\"\"\": \"\"\"\"BATCH-SUCCESS-001\"\"\"\",\n  \"\"\"\"plannedQuantity\"\"\"\": 200,\n  \"\"\"\"supervisorId\"\"\"\": 1\n}')",
      "Bash(lsof:*)",
      "Bash(curl:*)",
      "Bash(scp -o ConnectTimeout=10 target/cretas-backend-system-1.0.0.jar root@139.196.165.140:/www/wwwroot/cretas/)",
      "Bash(mysql -u root cretas_db -e \"SHOW TABLES LIKE ''%processing%'';\")",
      "Bash(npx tsc:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn clean package -DskipTests)",
      "Bash(awk '{print $2}')",
      "Bash(xargs kill -9)",
      "Bash(mysql -u root cretas_db -e \"SHOW COLUMNS FROM processing_batches;\")",
      "Bash(chmod +x test_e2e_material_batch_flow.sh)",
      "Bash(./test_e2e_material_batch_flow.sh)",
      "Bash(tee results_material_batch.log)",
      "Bash(chmod +x test_e2e_equipment_alerts_flow.sh)",
      "Bash(./test_e2e_equipment_alerts_flow.sh)",
      "Bash(tee results_equipment_alerts.log)",
      "Bash(xargs -r kill -9)",
      "Bash(xargs:*)",
      "Bash(chmod +x test_e2e_dashboard_integration.sh)",
      "Bash(./test_e2e_dashboard_integration.sh)",
      "Bash(chmod +x test_e2e_platform_management.sh)",
      "Bash(./test_e2e_platform_management.sh)",
      "Bash(mysql -u root cretas_db -e \"SHOW COLUMNS FROM production_batches;\")",
      "Bash(timeout 60 mvn spring-boot:run:*)",
      "Bash(mysql -u root cretas_db -e \"SELECT COUNT(*) as count FROM production_batches;\")",
      "Bash(mysql -u root cretas_db -e \"SELECT id, batch_number, product_type_id, production_plan_id FROM production_batches LIMIT 5;\")",
      "Bash(python3:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn clean package -DskipTests -q)",
      "Bash(mvn compile:*)",
      "Bash(tee:*)",
      "Bash(timeout 60 bash -c './test_e2e_material_batch_flow.sh 2>&1 | grep -E \"\"(存储位置|storage_location|步骤 3)\"\" | head -20')",
      "Bash(mysql -u root cretas_db -e \"SELECT id, status, level FROM equipment_alerts WHERE factory_id=''CRETAS_2024_001'' ORDER BY id LIMIT 10;\")",
      "Bash(mysql -u root cretas_db -e \"SELECT id, notes FROM material_batches WHERE batch_number=''MAT-20251006-002'' LIMIT 1\\G\")",
      "Read(//private/tmp/**)",
      "Bash(chmod:*)",
      "Bash(mysql:*)",
      "Bash(bash:*)",
      "Bash(cat:*)",
      "Bash(paste - -)",
      "Bash(for file in /Users/jietaoxie/my-prototype-logistics/backend-java/src/main/java/com/cretas/aims/controller/*.java)",
      "Bash(awk '{print $5, $9}')",
      "Bash(pkill:*)",
      "Bash(mvn clean package:*)",
      "Bash(/Users/jietaoxie/my-prototype-logistics/tests/api/test_phase2_1_material_batches.sh)",
      "Bash(/Users/jietaoxie/my-prototype-logistics/tests/api/test_phase2_2_equipment.sh)",
      "Bash(export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home)",
      "Bash(ACCESS_TOKEN=\"eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZGVwYXJ0bWVudF9hZG1pbiIsInVzZXJJZCI6IjE4Iiwic3ViIjoiMTgiLCJpYXQiOjE3NjM2OTU2OTgsImV4cCI6MTc2Mzc4MjA5OH0.-CRJserJjWlVjKVLuEUFTPhg4RJEE5e6enc7tSqVSo8\")",
      "Bash(echo \"=== TEST 4: 分页查询批次列表 ===\" curl -s -X GET \"http://localhost:10010/api/mobile/CRETAS_2024_001/material-batches?page=1&pageSize=10\" -H \"Authorization: Bearer $ACCESS_TOKEN\")",
      "Bash(echo \"\" echo \"=== TEST 6: 按材料类型查询 ===\" curl -s -X GET \"http://localhost:10010/api/mobile/CRETAS_2024_001/material-batches/material-type/MT001\" -H \"Authorization: Bearer $ACCESS_TOKEN\")",
      "Bash(__NEW_LINE__ echo \"=== TEST 4: 分页查询批次列表 ===\")",
      "Bash(find:*)",
      "Bash(for:*)",
      "Bash(do if lsof -i :10010)",
      "Bash(then echo \"✅ 后端已启动\" lsof -i :10010)",
      "Bash(timeout 120 bash:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn package:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn clean compile:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn compile:*)",
      "Bash(JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home mvn clean install:*)",
      "Bash(unzip:*)",
      "Bash(timeout 10 java:*)",
      "Bash(java:*)",
      "Bash(md5:*)",
      "Bash(ACCESS_TOKEN=\"eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\")",
      "Bash(npm start)",
      "Bash(npx expo start --clear --port 3010)",
      "Bash(mysql.server restart:*)",
      "Bash(npm install react-native-chart-kit react-native-svg)",
      "Bash(npm install react-native-get-random-values uuid)",
      "Bash(npm install react-native-get-random-values@1.11.0 uuid)",
      "Bash(npm install expo-document-picker expo-file-system expo-sharing)",
      "Bash(git add:*)",
      "Bash(kill -9 25996 26120)",
      "Bash(cp:*)",
      "Bash(mvn clean compile:*)",
      "Bash(timeout 30 npx tsc --noEmit)",
      "Bash(ls:*)",
      "Bash(sleep 3 echo \"=== 测试1: 获取成本分析报表 (ReportController) ===\" curl -s \"http://localhost:10010/api/mobile/CRETAS_2024_001/reports/cost-analysis?startDate=2024-11-15&endDate=2024-11-21\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9yeV9zdXBlcl9hZG1pbiIsInVzZXJJZCI6IjEiLCJzdWIiOiIxIiwiaWF0IjoxNzYzNjczOTA5LCJleHAiOjE3NjM3NjAzMDl9.sCuUPcwGA4QFwPecdrOUw5ewQUADffoRSFmmhOmcZgc\" -H \"Content-Type: application/json\")",
      "Bash(__NEW_LINE__ mysql -u root cretas_db -e \"\nSELECT \n    COUNT(*) as total_completed,\n    AVG(efficiency) as avg_efficiency,\n    SUM(actual_quantity) as total_production\nFROM production_batches \nWHERE factory_id = ''CRETAS_2024_001'' \nAND status = ''COMPLETED''\nAND created_at >= ''2024-11-15'';\")",
      "Bash(wc:*)",
      "Bash(git commit:*)",
      "Bash(mkdir:*)",
      "Bash(echo:*)",
      "Bash(ssh root@139.196.165.140 \"tail -50 /www/wwwroot/cretas/cretas-backend.log 2>/dev/null || echo ''无法读取日志''\")",
      "Bash(mvn:*)",
      "Bash(timeout 10 mvn spring-boot:run:*)",
      "Bash(mysqldump:*)",
      "Bash(ssh root@139.196.165.140 \"ps aux | grep java | grep -v grep\")"
    ],
    "deny": [],
    "ask": []
  }
}
