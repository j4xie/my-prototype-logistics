<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å†…å®¹å®¡æ ¸é˜Ÿåˆ— - ç™½å©çºªé£Ÿå“æº¯æºç®¡ç†åå°</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../../assets/css/variables.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/desktop.css">

  <style>
    /* Tabåˆ‡æ¢ */
    .review-tabs {
      display: flex;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
      border-bottom: 2px solid var(--border-color);
    }

    .review-tab {
      padding: var(--spacing-md) var(--spacing-lg);
      background: none;
      border: none;
      border-bottom: 3px solid transparent;
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      color: var(--text-secondary);
      cursor: pointer;
      transition: all var(--transition-base);
      position: relative;
      margin-bottom: -2px;
    }

    .review-tab:hover {
      color: var(--primary-color);
    }

    .review-tab.active {
      color: var(--primary-color);
      border-bottom-color: var(--primary-color);
    }

    .tab-badge {
      position: absolute;
      top: 4px;
      right: 4px;
      background: var(--error-color);
      color: var(--text-inverse);
      padding: 2px 6px;
      border-radius: var(--radius-pill);
      font-size: var(--font-size-xs);
      font-weight: var(--font-weight-bold);
    }

    /* å†…å®¹å¡ç‰‡ */
    .content-cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: var(--spacing-lg);
    }

    .content-card {
      background: var(--bg-white);
      border-radius: var(--radius-md);
      overflow: hidden;
      border: 1px solid var(--border-color);
      transition: all var(--transition-base);
    }

    .content-card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .card-header {
      padding: var(--spacing-md) var(--spacing-lg);
      background: var(--bg-gray);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-type {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      font-weight: var(--font-weight-medium);
    }

    .card-time {
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
    }

    .card-body {
      padding: var(--spacing-lg);
    }

    /* äº§å“æ–‡æ¡ˆé¢„è§ˆ */
    .product-preview {
      display: flex;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .product-thumbnail {
      width: 80px;
      height: 80px;
      border-radius: var(--radius-sm);
      object-fit: cover;
      border: 1px solid var(--border-color);
    }

    .product-info {
      flex: 1;
    }

    .product-title {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
      margin-bottom: var(--spacing-xs);
    }

    .product-desc {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.6;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Banneré¢„è§ˆ */
    .banner-preview {
      width: 100%;
      height: 150px;
      border-radius: var(--radius-sm);
      object-fit: cover;
      border: 1px solid var(--border-color);
      margin-bottom: var(--spacing-md);
    }

    .banner-info {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    /* å®¡æ ¸å…ƒä¿¡æ¯ */
    .review-meta {
      display: flex;
      gap: var(--spacing-md);
      padding: var(--spacing-md);
      background: var(--bg-gray);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      margin-bottom: var(--spacing-md);
    }

    .meta-item {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xs);
    }

    .meta-label {
      color: var(--text-tertiary);
      font-size: var(--font-size-xs);
    }

    .meta-value {
      color: var(--text-primary);
      font-weight: var(--font-weight-medium);
    }

    /* å®¡æ ¸æ“ä½œ */
    .card-actions {
      display: flex;
      gap: var(--spacing-sm);
      padding-top: var(--spacing-md);
      border-top: 1px solid var(--border-color);
    }

    .action-approve {
      flex: 1;
      padding: var(--spacing-sm);
      background: var(--success-color);
      color: var(--text-inverse);
      border: none;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .action-approve:hover {
      filter: brightness(1.1);
    }

    .action-reject {
      flex: 1;
      padding: var(--spacing-sm);
      background: var(--error-color);
      color: var(--text-inverse);
      border: none;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .action-reject:hover {
      filter: brightness(1.1);
    }

    /* ç©ºçŠ¶æ€ */
    .empty-queue {
      text-align: center;
      padding: var(--spacing-3xl);
      color: var(--text-tertiary);
    }

    .empty-icon {
      font-size: var(--font-size-5xl);
      margin-bottom: var(--spacing-md);
    }

    /* æ‰¹é‡æ“ä½œæ  */
    .bulk-toolbar {
      background: var(--bg-white);
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-lg);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .toolbar-text {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .toolbar-actions {
      display: flex;
      gap: var(--spacing-sm);
    }

    /* å®¡æ ¸å†å² */
    .history-item {
      background: var(--bg-white);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-md);
      border-left: 4px solid var(--border-color);
    }

    .history-item.approved {
      border-left-color: var(--success-color);
    }

    .history-item.rejected {
      border-left-color: var(--error-color);
    }

    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-sm);
    }

    .history-title {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      color: var(--text-primary);
    }

    .history-status {
      padding: 4px var(--spacing-sm);
      border-radius: var(--radius-pill);
      font-size: var(--font-size-xs);
      font-weight: var(--font-weight-medium);
    }

    .history-status.approved {
      background: rgba(82, 196, 26, 0.1);
      color: var(--success-color);
    }

    .history-status.rejected {
      background: rgba(245, 34, 45, 0.1);
      color: var(--error-color);
    }

    .history-body {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .history-footer {
      display: flex;
      gap: var(--spacing-md);
      margin-top: var(--spacing-sm);
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
    }
  </style>
</head>
<body>
  <div class="desktop-container">
    <!-- ä¾§è¾¹æ  -->
    <div class="desktop-sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">ğŸ¢ ç™½å©çºªç®¡ç†åå°</div>
      </div>

      <nav class="sidebar-nav">
        <a href="../dashboard/overview.html" class="nav-item">
          <span class="nav-icon"></span>
          <span class="nav-label">æ€»è§ˆä»ªè¡¨æ¿</span>
        </a>

        <div class="nav-group">
          <div class="nav-group-title">å•†æˆ·ç®¡ç†</div>
          <a href="../merchant/list.html" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-label">å•†æˆ·åˆ—è¡¨</span>
          </a>
          <a href="../merchant/review.html" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-label">å•†æˆ·å®¡æ ¸</span>
          </a>
        </div>

        <div class="nav-group">
          <div class="nav-group-title">äº§å“ç®¡ç†</div>
          <a href="../product-management/list.html" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-label">äº§å“åˆ—è¡¨</span>
          </a>
          <a href="../product-management/create.html" class="nav-item">
            <span class="nav-icon">â•</span>
            <span class="nav-label">æ–°å»ºäº§å“</span>
          </a>
          <a href="../product-management/price-config.html" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-label">ä»·æ ¼é…ç½®</span>
          </a>
        </div>

        <div class="nav-group">
          <div class="nav-group-title">å†…å®¹ç®¡ç†</div>
          <a href="review-queue.html" class="nav-item active">
            <span class="nav-icon"></span>
            <span class="nav-label">å†…å®¹å®¡æ ¸</span>
          </a>
        </div>

        <div class="nav-group">
          <div class="nav-group-title">AIçŸ¥è¯†åº“</div>
          <a href="../ai-knowledge/knowledge-base.html" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-label">çŸ¥è¯†åº“ç®¡ç†</span>
          </a>
        </div>
      </nav>

      <div class="sidebar-footer">
        <div class="user-profile">
          <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" alt="å¤´åƒ" class="user-avatar">
          <div class="user-info">
            <div class="user-name">ç®¡ç†å‘˜</div>
            <div class="user-role">Platform Admin</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="desktop-main">
      <!-- é¡¶éƒ¨æ  -->
      <div class="desktop-header">
        <div class="header-title">å†…å®¹å®¡æ ¸é˜Ÿåˆ—</div>
        <div class="header-actions">
          <button class="btn btn-default" onclick="Utils.showToast('é€šçŸ¥åŠŸèƒ½å¼€å‘ä¸­', 'info')">
            ğŸ”” é€šçŸ¥
          </button>
          <button class="btn btn-default" onclick="Utils.showToast('è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­', 'info')">
             è®¾ç½®
          </button>
        </div>
      </div>

      <!-- é¢åŒ…å±‘ -->
      <div class="breadcrumb">
        <a href="../dashboard/overview.html">é¦–é¡µ</a>
        <span class="breadcrumb-separator">/</span>
        <span>å†…å®¹ç®¡ç†</span>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">å†…å®¹å®¡æ ¸</span>
      </div>

      <!-- å†…å®¹åŒºåŸŸ -->
      <div class="desktop-content">
        <!-- Tabåˆ‡æ¢ -->
        <div class="review-tabs">
          <button class="review-tab active" data-tab="pending" onclick="switchTab('pending')">
            å¾…å®¡æ ¸
            <span class="tab-badge" id="pendingBadge">5</span>
          </button>
          <button class="review-tab" data-tab="approved" onclick="switchTab('approved')">
            å·²é€šè¿‡
          </button>
          <button class="review-tab" data-tab="rejected" onclick="switchTab('rejected')">
            å·²æ‹’ç»
          </button>
        </div>

        <!-- å¾…å®¡æ ¸å†…å®¹ -->
        <div id="pendingContent" class="tab-content">
          <div class="bulk-toolbar">
            <div class="toolbar-text">
              å…± <strong id="totalPending">5</strong> ä¸ªå¾…å®¡æ ¸å†…å®¹
            </div>
            <div class="toolbar-actions">
              <button class="btn btn-sm btn-default" onclick="refreshQueue()">
                ğŸ”„ åˆ·æ–°
              </button>
            </div>
          </div>

          <div class="content-cards" id="pendingCards">
            <!-- å†…å®¹å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

        <!-- å·²é€šè¿‡å†…å®¹ -->
        <div id="approvedContent" class="tab-content" style="display: none;">
          <div class="bulk-toolbar">
            <div class="toolbar-text">
              å®¡æ ¸å†å²ï¼ˆæœ€è¿‘é€šè¿‡ï¼‰
            </div>
          </div>

          <div id="approvedHistory">
            <!-- å®¡æ ¸å†å²å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

        <!-- å·²æ‹’ç»å†…å®¹ -->
        <div id="rejectedContent" class="tab-content" style="display: none;">
          <div class="bulk-toolbar">
            <div class="toolbar-text">
              å®¡æ ¸å†å²ï¼ˆæœ€è¿‘æ‹’ç»ï¼‰
            </div>
          </div>

          <div id="rejectedHistory">
            <!-- å®¡æ ¸å†å²å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="../../assets/js/mockData.js"></script>
  <script src="../../assets/js/utils.js"></script>

  <script>
    // ==================== å…¨å±€çŠ¶æ€ ====================
    let currentTab = 'pending';

    // Mockå®¡æ ¸é˜Ÿåˆ—æ•°æ®
    const reviewQueue = {
      pending: [
        {
          id: 1,
          type: 'product',
          typeName: 'äº§å“æ–‡æ¡ˆ',
          productName: 'é€Ÿå†»é±¼æ’ 2.0ç‰ˆ',
          productDesc: 'ç²¾é€‰æ·±æµ·é±¼ç±»ï¼Œé‡‡ç”¨å…ˆè¿›é€Ÿå†»æŠ€æœ¯ï¼Œé”ä½æ–°é²œè¥å…»ã€‚å¯Œå«ä¼˜è´¨è›‹ç™½è´¨å’ŒOmega-3è„‚è‚ªé…¸ï¼Œé€‚åˆå…¨å®¶äººé£Ÿç”¨ã€‚',
          image: 'https://images.unsplash.com/photo-154455176346a013bb70d5?w=200',
          merchant: 'ä¸Šæµ·æµ·é²œå·¥å‚',
          submitter: 'å¼ ä¸‰',
          submitTime: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()
        },
        {
          id: 2,
          type: 'banner',
          typeName: 'Bannerå›¾ç‰‡',
          title: 'æ˜¥èŠ‚ç‰¹æƒ æ´»åŠ¨',
          image: 'https://images.unsplash.com/photo-1607082349566-187342175e2f?w=400',
          merchant: 'å¹³å°è¿è¥',
          submitter: 'æå››',
          submitTime: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString()
        },
        {
          id: 3,
          type: 'product',
          typeName: 'äº§å“æ–‡æ¡ˆ',
          productName: 'æœ‰æœºè¥¿å…°èŠ±',
          productDesc: 'æœ‰æœºç§æ¤ï¼Œæ— å†œè¯æ®‹ç•™ï¼Œç»¿è‰²å¥åº·ã€‚å¯Œå«ç»´ç”Ÿç´ Cå’Œè†³é£Ÿçº¤ç»´ï¼Œæ˜¯å¥åº·é¥®é£Ÿçš„é¦–é€‰è”¬èœã€‚',
          image: 'https://images.unsplash.com/photo-1628773822990-202c049cd3f7?w=200',
          merchant: 'ç»¿è‰²å†œåœº',
          submitter: 'ç‹äº”',
          submitTime: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString()
        },
        {
          id: 4,
          type: 'product',
          typeName: 'äº§å“æ–‡æ¡ˆ',
          productName: 'ä¼˜è´¨å¤§ç±³',
          productDesc: 'ä¸œåŒ—é»‘åœŸåœ°å‡ºäº§ï¼Œç²’ç²’é¥±æ»¡ï¼Œé¦™è½¯å¯å£ã€‚é‡‡ç”¨ä¼ ç»Ÿç§æ¤æ–¹å¼ï¼Œå¤©ç„¶æ— å…¬å®³ï¼Œè®©æ‚¨åƒå¾—æ”¾å¿ƒã€‚',
          image: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=200',
          merchant: 'ä¸œåŒ—ç²®æ²¹',
          submitter: 'èµµå…­',
          submitTime: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString()
        },
        {
          id: 5,
          type: 'banner',
          typeName: 'Bannerå›¾ç‰‡',
          title: 'æ–°å“ä¸Šå¸‚',
          image: 'https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=400',
          merchant: 'å¹³å°è¿è¥',
          submitter: 'å­™ä¸ƒ',
          submitTime: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()
        }
      ],
      approved: [],
      rejected: []
    };

    // ==================== åˆå§‹åŒ– ====================
    document.addEventListener('DOMContentLoaded', () => {
      renderPendingQueue();
    });

    // ==================== åˆ‡æ¢Tab ====================
    function switchTab(tab) {
      currentTab = tab;

      // æ›´æ–°Tabæ ·å¼
      document.querySelectorAll('.review-tab').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`[data-tab="${tab}"]`).classList.add('active');

      // åˆ‡æ¢å†…å®¹
      document.querySelectorAll('.tab-content').forEach(content => {
        content.style.display = 'none';
      });
      document.getElementById(`${tab}Content`).style.display = 'block';

      // æ¸²æŸ“å¯¹åº”å†…å®¹
      if (tab === 'pending') {
        renderPendingQueue();
      } else if (tab === 'approved') {
        renderHistory('approved');
      } else if (tab === 'rejected') {
        renderHistory('rejected');
      }
    }

    // ==================== æ¸²æŸ“å¾…å®¡æ ¸é˜Ÿåˆ— ====================
    function renderPendingQueue() {
      const cardsContainer = document.getElementById('pendingCards');
      const totalBadge = document.getElementById('totalPending');
      const badge = document.getElementById('pendingBadge');

      const pending = reviewQueue.pending;

      totalBadge.textContent = pending.length;
      badge.textContent = pending.length;

      if (pending.length === 0) {
        cardsContainer.innerHTML = `
          <div class="empty-queue" style="grid-column: 1 / -1;">
            <div class="empty-icon"></div>
            <div>å¤ªæ£’äº†ï¼æ‰€æœ‰å†…å®¹éƒ½å·²å®¡æ ¸å®Œæ¯•</div>
          </div>
        `;
        return;
      }

      cardsContainer.innerHTML = pending.map(item => {
        if (item.type === 'product') {
          return `
            <div class="content-card">
              <div class="card-header">
                <span class="card-type"> ${item.typeName}</span>
                <span class="card-time">${Utils.formatDate(item.submitTime, 'MM-DD HH:mm')}</span>
              </div>
              <div class="card-body">
                <div class="product-preview">
                  <img src="${item.image}" alt="${item.productName}" class="product-thumbnail">
                  <div class="product-info">
                    <div class="product-title">${item.productName}</div>
                    <div class="product-desc">${item.productDesc}</div>
                  </div>
                </div>

                <div class="review-meta">
                  <div class="meta-item">
                    <div class="meta-label">å•†æˆ·</div>
                    <div class="meta-value">${item.merchant}</div>
                  </div>
                  <div class="meta-item">
                    <div class="meta-label">æäº¤äºº</div>
                    <div class="meta-value">${item.submitter}</div>
                  </div>
                </div>

                <div class="card-actions">
                  <button class="action-approve" onclick="approveContent(${item.id})">
                    âœ“ é€šè¿‡
                  </button>
                  <button class="action-reject" onclick="rejectContent(${item.id})">
                    âœ— æ‹’ç»
                  </button>
                </div>
              </div>
            </div>
          `;
        } else if (item.type === 'banner') {
          return `
            <div class="content-card">
              <div class="card-header">
                <span class="card-type">ğŸ¨ ${item.typeName}</span>
                <span class="card-time">${Utils.formatDate(item.submitTime, 'MM-DD HH:mm')}</span>
              </div>
              <div class="card-body">
                <img src="${item.image}" alt="${item.title}" class="banner-preview">
                <div class="banner-info">
                  <strong>${item.title}</strong>
                </div>

                <div class="review-meta">
                  <div class="meta-item">
                    <div class="meta-label">å•†æˆ·</div>
                    <div class="meta-value">${item.merchant}</div>
                  </div>
                  <div class="meta-item">
                    <div class="meta-label">æäº¤äºº</div>
                    <div class="meta-value">${item.submitter}</div>
                  </div>
                </div>

                <div class="card-actions">
                  <button class="action-approve" onclick="approveContent(${item.id})">
                    âœ“ é€šè¿‡
                  </button>
                  <button class="action-reject" onclick="rejectContent(${item.id})">
                    âœ— æ‹’ç»
                  </button>
                </div>
              </div>
            </div>
          `;
        }
      }).join('');
    }

    // ==================== æ¸²æŸ“å®¡æ ¸å†å² ====================
    function renderHistory(status) {
      const historyContainer = document.getElementById(`${status}History`);
      const items = reviewQueue[status];

      if (items.length === 0) {
        historyContainer.innerHTML = `
          <div class="empty-queue">
            <div class="empty-icon">ğŸ“‹</div>
            <div>æš‚æ— ${status === 'approved' ? 'é€šè¿‡' : 'æ‹’ç»'}è®°å½•</div>
          </div>
        `;
        return;
      }

      historyContainer.innerHTML = items.map(item => `
        <div class="history-item ${status}">
          <div class="history-header">
            <div class="history-title">
              ${item.typeName}: ${item.type === 'product' ? item.productName : item.title}
            </div>
            <span class="history-status ${status}">
              ${status === 'approved' ? 'å·²é€šè¿‡' : 'å·²æ‹’ç»'}
            </span>
          </div>
          <div class="history-body">
            ${item.type === 'product' ? item.productDesc : `å•†æˆ·ï¼š${item.merchant}`}
          </div>
          <div class="history-footer">
            <span>æäº¤äººï¼š${item.submitter}</span>
            <span>|</span>
            <span>å®¡æ ¸æ—¶é—´ï¼š${Utils.formatDate(item.reviewTime || new Date(), 'YYYY-MM-DD HH:mm')}</span>
          </div>
        </div>
      `).join('');
    }

    // ==================== é€šè¿‡å†…å®¹ ====================
    async function approveContent(itemId) {
      const confirmed = await Utils.confirm(
        'ç¡®è®¤é€šè¿‡æ­¤å†…å®¹å®¡æ ¸ï¼Ÿ',
        'é€šè¿‡å®¡æ ¸'
      );

      if (!confirmed) return;

      // æ‰¾åˆ°å¹¶ç§»åŠ¨åˆ°å·²é€šè¿‡
      const itemIndex = reviewQueue.pending.findIndex(i => i.id === itemId);
      if (itemIndex !== -1) {
        const item = reviewQueue.pending.splice(itemIndex, 1)[0];
        item.reviewTime = new Date().toISOString();
        reviewQueue.approved.unshift(item);

        Utils.showToast('å®¡æ ¸é€šè¿‡', 'success');
        renderPendingQueue();
      }
    }

    // ==================== æ‹’ç»å†…å®¹ ====================
    async function rejectContent(itemId) {
      const confirmed = await Utils.confirm(
        'ç¡®è®¤æ‹’ç»æ­¤å†…å®¹ï¼Ÿ',
        'æ‹’ç»å®¡æ ¸'
      );

      if (!confirmed) return;

      // æ‰¾åˆ°å¹¶ç§»åŠ¨åˆ°å·²æ‹’ç»
      const itemIndex = reviewQueue.pending.findIndex(i => i.id === itemId);
      if (itemIndex !== -1) {
        const item = reviewQueue.pending.splice(itemIndex, 1)[0];
        item.reviewTime = new Date().toISOString();
        reviewQueue.rejected.unshift(item);

        Utils.showToast('å·²æ‹’ç»', 'success');
        renderPendingQueue();
      }
    }

    // ==================== åˆ·æ–°é˜Ÿåˆ— ====================
    function refreshQueue() {
      Utils.showToast('åˆ·æ–°æˆåŠŸ', 'success');
      renderPendingQueue();
    }
  </script>
</body>
</html>
