<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å•†æˆ·çŠ¶æ€ç®¡ç† - æº¯æºå•†åŸç®¡ç†åå°</title>
  <link rel="stylesheet" href="../../assets/css/variables.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/desktop.css">
  <style>
    .merchant-header {
      background: var(--bg-white);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-lg);
      border-radius: var(--radius-md);
    }
    .merchant-name {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-bold);
      margin-bottom: var(--spacing-sm);
    }
    .merchant-id {
      font-size: var(--font-size-sm);
      color: var(--text-tertiary);
    }
    .status-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }
    .status-card {
      background: var(--bg-white);
      padding: var(--spacing-xl);
      border-radius: var(--radius-md);
      cursor: pointer;
      border: 2px solid var(--border-color);
      transition: all 0.3s;
    }
    .status-card.active {
      border-color: var(--primary-color);
      box-shadow: var(--shadow-md);
    }
    .status-icon {
      font-size: var(--font-size-4xl);
      margin-bottom: var(--spacing-md);
    }
    .status-title {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--spacing-sm);
    }
    .status-desc {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: var(--spacing-md);
    }
    .status-current {
      display: inline-block;
      padding: 4px 12px;
      background: var(--success-color);
      color: white;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-xs);
    }
    .action-panel {
      background: var(--bg-white);
      padding: var(--spacing-xl);
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-lg);
    }
    .panel-title {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--spacing-lg);
    }
    .form-section {
      margin-bottom: var(--spacing-xl);
    }
    .section-title {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      margin-bottom: var(--spacing-md);
      color: var(--text-primary);
    }
    .warning-box {
      background: #FFF3CD;
      border-left: 4px solid var(--warning-color);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border-radius: var(--radius-sm);
    }
    .warning-title {
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--spacing-xs);
      color: #856404;
    }
    .warning-text {
      font-size: var(--font-size-sm);
      color: #856404;
    }
    .danger-box {
      background: #F8D7DA;
      border-left: 4px solid var(--error-color);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border-radius: var(--radius-sm);
    }
    .danger-title {
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--spacing-xs);
      color: #721C24;
    }
    .danger-text {
      font-size: var(--font-size-sm);
      color: #721C24;
    }
    .history-section {
      background: var(--bg-white);
      padding: var(--spacing-xl);
      border-radius: var(--radius-md);
    }
    .history-item {
      padding: var(--spacing-md);
      border-bottom: 1px solid var(--border-color);
    }
    .history-item:last-child {
      border-bottom: none;
    }
    .history-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--spacing-xs);
    }
    .history-action {
      font-weight: var(--font-weight-medium);
    }
    .history-time {
      font-size: var(--font-size-sm);
      color: var(--text-tertiary);
    }
    .history-detail {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }
  </style>
</head>
<body>
  <div class="admin-container">
    <div class="admin-sidebar">
      <div class="sidebar-header">
        <h2>æº¯æºå•†åŸ</h2>
        <p>ç®¡ç†åå°</p>
      </div>
      <nav class="sidebar-nav">
        <a href="../dashboard/overview.html">æ€»è§ˆ</a>
        <a href="list.html" class="active">å•†æˆ·ç®¡ç†</a>
        <a href="../product-management/list.html">äº§å“ç®¡ç†</a>
        <a href="../content-control/review-queue.html">å†…å®¹å®¡æ ¸</a>
        <a href="../traffic-ad/ranking-config.html">æµé‡å¹¿å‘Š</a>
        <a href="../ai-knowledge/knowledge-base.html">AIçŸ¥è¯†åº“</a>
        <a href="../analytics/traffic-stats.html">æ•°æ®åˆ†æ</a>
        <a href="../settings/system-config.html">ç³»ç»Ÿè®¾ç½®</a>
      </nav>
    </div>

    <div class="admin-main">
      <div class="admin-header">
        <div class="breadcrumb">
          <a href="../dashboard/overview.html">é¦–é¡µ</a>
          <span>/</span>
          <a href="list.html">å•†æˆ·ç®¡ç†</a>
          <span>/</span>
          <span>çŠ¶æ€ç®¡ç†</span>
        </div>
        <div class="header-actions">
          <button class="btn btn-default" onclick="window.history.back()">è¿”å›</button>
        </div>
      </div>

      <div class="admin-content">
        <!-- å•†æˆ·åŸºæœ¬ä¿¡æ¯ -->
        <div class="merchant-header">
          <div class="merchant-name">ç™½å©çºªï¼ˆä¸Šæµ·ï¼‰é£Ÿå“æœ‰é™å…¬å¸</div>
          <div class="merchant-id">å•†æˆ·IDï¼šM20240615001</div>
        </div>

        <!-- çŠ¶æ€é€‰æ‹© -->
        <div class="status-grid">
          <div class="status-card active" data-status="active">
            <div class="status-icon"></div>
            <div class="status-title">è¥ä¸šä¸­</div>
            <div class="status-desc">å•†æˆ·æ­£å¸¸è¥ä¸šï¼Œäº§å“å¯æ­£å¸¸å”®å–ï¼Œè®¢å•å¯æ­£å¸¸å¤„ç†</div>
            <span class="status-current">å½“å‰çŠ¶æ€</span>
          </div>

          <div class="status-card" data-status="suspended" onclick="selectStatus('suspended')">
            <div class="status-icon">â¸ï¸</div>
            <div class="status-title">æš‚åœè¥ä¸š</div>
            <div class="status-desc">å•†æˆ·æš‚åœè¥ä¸šï¼Œäº§å“ä¸‹æ¶ä½†ä¿ç•™ä¿¡æ¯ï¼Œåœæ­¢æ¥å•</div>
          </div>

          <div class="status-card" data-status="banned" onclick="selectStatus('banned')">
            <div class="status-icon">ğŸš«</div>
            <div class="status-title">å°ç¦</div>
            <div class="status-desc">è¿è§„å•†æˆ·å°ç¦ï¼Œæ‰€æœ‰äº§å“ä¸‹æ¶ï¼Œç¦æ­¢æ¥å•å’Œç™»å½•</div>
          </div>
        </div>

        <!-- æ“ä½œé¢æ¿ - æš‚åœè¥ä¸š -->
        <div id="panel-suspended" class="action-panel" style="display: none;">
          <div class="panel-title">æš‚åœè¥ä¸š</div>

          <div class="warning-box">
            <div class="warning-title">âš ï¸ æ“ä½œå½±å“</div>
            <div class="warning-text">
              â€¢ æ‰€æœ‰åœ¨å”®äº§å“å°†è‡ªåŠ¨ä¸‹æ¶<br>
              â€¢ åœæ­¢æ¥æ”¶æ–°è®¢å•<br>
              â€¢ ç°æœ‰è®¢å•å¯ç»§ç»­å±¥è¡Œ<br>
              â€¢ å•†æˆ·å¯éšæ—¶ç”³è¯·æ¢å¤è¥ä¸š
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">æš‚åœåŸå›  *</div>
            <select class="form-control" id="suspendReason">
              <option value="">è¯·é€‰æ‹©åŸå› </option>
              <option value="merchant_request">å•†æˆ·ä¸»åŠ¨ç”³è¯·</option>
              <option value="system_upgrade">ç³»ç»Ÿå‡çº§ç»´æŠ¤</option>
              <option value="certificate_expired">èµ„è´¨è¯ä¹¦è¿‡æœŸ</option>
              <option value="quality_issue">äº§å“è´¨é‡é—®é¢˜</option>
              <option value="other">å…¶ä»–åŸå› </option>
            </select>
          </div>

          <div class="form-section">
            <div class="section-title">è¯¦ç»†è¯´æ˜</div>
            <textarea class="form-control" rows="4" id="suspendNote" placeholder="è¯·è¾“å…¥æš‚åœè¥ä¸šçš„è¯¦ç»†è¯´æ˜..."></textarea>
          </div>

          <div class="form-section">
            <div class="section-title">é¢„è®¡æ¢å¤æ—¶é—´</div>
            <input type="date" class="form-control" id="suspendEndDate">
          </div>

          <div class="form-actions">
            <button class="btn btn-default" onclick="cancelAction()">å–æ¶ˆ</button>
            <button class="btn btn-warning" onclick="confirmSuspend()">ç¡®è®¤æš‚åœ</button>
          </div>
        </div>

        <!-- æ“ä½œé¢æ¿ - å°ç¦ -->
        <div id="panel-banned" class="action-panel" style="display: none;">
          <div class="panel-title">å°ç¦å•†æˆ·</div>

          <div class="danger-box">
            <div class="danger-title">ğŸš« ä¸¥é‡æ“ä½œè­¦å‘Š</div>
            <div class="danger-text">
              â€¢ å•†æˆ·è´¦å·å°†è¢«ç«‹å³å°ç¦ï¼Œæ— æ³•ç™»å½•<br>
              â€¢ æ‰€æœ‰äº§å“å¼ºåˆ¶ä¸‹æ¶ï¼Œåˆ é™¤å±•ç¤ºä¿¡æ¯<br>
              â€¢ åœæ­¢æ‰€æœ‰äº¤æ˜“å’Œèµ„é‡‘ç»“ç®—<br>
              â€¢ éœ€è¦ç®¡ç†å‘˜å®¡æ‰¹æ‰èƒ½è§£å°<br>
              â€¢ è¯·è°¨æ…æ“ä½œï¼Œç¡®ä¿è¿è§„äº‹å®æ¸…æ¥š
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">å°ç¦åŸå›  *</div>
            <select class="form-control" id="banReason">
              <option value="">è¯·é€‰æ‹©åŸå› </option>
              <option value="fake_products">å”®å–å‡å†’ä¼ªåŠ£äº§å“</option>
              <option value="safety_issue">é£Ÿå“å®‰å…¨é—®é¢˜</option>
              <option value="fraud">æ¬ºè¯ˆè¡Œä¸º</option>
              <option value="illegal">è¿æ³•è¿è§„ç»è¥</option>
              <option value="certificate_invalid">èµ„è´¨é€ å‡</option>
              <option value="other">å…¶ä»–ä¸¥é‡è¿è§„</option>
            </select>
          </div>

          <div class="form-section">
            <div class="section-title">è¿è§„è¯¦æƒ… *</div>
            <textarea class="form-control" rows="6" id="banDetail" placeholder="è¯·è¯¦ç»†æè¿°è¿è§„äº‹å®ã€è¯æ®ã€å¤„ç†ä¾æ®ç­‰ä¿¡æ¯..."></textarea>
          </div>

          <div class="form-section">
            <div class="section-title">å°ç¦æœŸé™</div>
            <select class="form-control" id="banDuration">
              <option value="7">7å¤©</option>
              <option value="15">15å¤©</option>
              <option value="30">30å¤©</option>
              <option value="90">90å¤©</option>
              <option value="permanent">æ°¸ä¹…å°ç¦</option>
            </select>
          </div>

          <div class="form-section">
            <label style="display: flex; align-items: center; gap: var(--spacing-sm);">
              <input type="checkbox" id="notifyMerchant">
              <span>é€šçŸ¥å•†æˆ·ï¼ˆå‘é€çŸ­ä¿¡å’Œé‚®ä»¶ï¼‰</span>
            </label>
          </div>

          <div class="form-actions">
            <button class="btn btn-default" onclick="cancelAction()">å–æ¶ˆ</button>
            <button class="btn btn-danger" onclick="confirmBan()">ç¡®è®¤å°ç¦</button>
          </div>
        </div>

        <!-- çŠ¶æ€å˜æ›´å†å² -->
        <div class="history-section">
          <h3 class="panel-title">çŠ¶æ€å˜æ›´å†å²</h3>
          <div class="history-item">
            <div class="history-header">
              <span class="history-action">æ¢å¤è¥ä¸š</span>
              <span class="history-time">2025-01-10 09:30:15</span>
            </div>
            <div class="history-detail">ä»"æš‚åœè¥ä¸š"æ¢å¤ä¸º"è¥ä¸šä¸­" | æ“ä½œäººï¼šå¹³å°ç®¡ç†å‘˜ | åŸå› ï¼šç³»ç»Ÿå‡çº§å®Œæˆ</div>
          </div>
          <div class="history-item">
            <div class="history-header">
              <span class="history-action">æš‚åœè¥ä¸š</span>
              <span class="history-time">2025-01-08 18:00:00</span>
            </div>
            <div class="history-detail">ä»"è¥ä¸šä¸­"å˜æ›´ä¸º"æš‚åœè¥ä¸š" | æ“ä½œäººï¼šå¹³å°ç®¡ç†å‘˜ | åŸå› ï¼šå¹³å°ç³»ç»Ÿå‡çº§ç»´æŠ¤</div>
          </div>
          <div class="history-item">
            <div class="history-header">
              <span class="history-action">å¼€å§‹è¥ä¸š</span>
              <span class="history-time">2024-06-15 10:30:25</span>
            </div>
            <div class="history-detail">å…¥é©»å®¡æ ¸é€šè¿‡ï¼Œå•†æˆ·æ­£å¼è¥ä¸š | å®¡æ ¸äººï¼šå¼ ç®¡ç†å‘˜</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="../../assets/js/utils.js"></script>
  <script>
    let currentStatus = 'active';

    function selectStatus(status) {
      // éšè—æ‰€æœ‰é¢æ¿
      document.querySelectorAll('.action-panel').forEach(panel => {
        panel.style.display = 'none';
      });
      // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
      document.querySelectorAll('.status-card').forEach(card => {
        card.classList.remove('active');
      });
      // æ˜¾ç¤ºå¯¹åº”é¢æ¿
      document.getElementById('panel-' + status).style.display = 'block';
      // æ·»åŠ activeçŠ¶æ€
      event.currentTarget.classList.add('active');
    }

    function cancelAction() {
      // éšè—æ‰€æœ‰é¢æ¿
      document.querySelectorAll('.action-panel').forEach(panel => {
        panel.style.display = 'none';
      });
      // æ¢å¤å½“å‰çŠ¶æ€çš„active
      document.querySelectorAll('.status-card').forEach(card => {
        card.classList.remove('active');
        if (card.dataset.status === currentStatus) {
          card.classList.add('active');
        }
      });
    }

    async function confirmSuspend() {
      const reason = document.getElementById('suspendReason').value;
      const note = document.getElementById('suspendNote').value;
      const endDate = document.getElementById('suspendEndDate').value;

      if (!reason) {
        Utils.showToast('è¯·é€‰æ‹©æš‚åœåŸå› ', 'error');
        return;
      }

      const confirmed = await Utils.confirm(
        'ç¡®è®¤æš‚åœè¯¥å•†æˆ·è¥ä¸šï¼Ÿ\næš‚åœåæ‰€æœ‰äº§å“å°†ä¸‹æ¶ï¼Œåœæ­¢æ¥å•',
        'ç¡®è®¤æš‚åœ'
      );

      if (!confirmed) return;

      Utils.showLoading('å¤„ç†ä¸­...');
      await Utils.sleep(1500);
      Utils.hideLoading();

      Utils.showToast('å•†æˆ·å·²æš‚åœè¥ä¸š', 'success');
      await Utils.sleep(1000);
      window.location.href = 'detail.html';
    }

    async function confirmBan() {
      const reason = document.getElementById('banReason').value;
      const detail = document.getElementById('banDetail').value;
      const duration = document.getElementById('banDuration').value;

      if (!reason) {
        Utils.showToast('è¯·é€‰æ‹©å°ç¦åŸå› ', 'error');
        return;
      }

      if (!detail || detail.trim().length < 20) {
        Utils.showToast('è¯·è¯¦ç»†æè¿°è¿è§„è¯¦æƒ…ï¼ˆè‡³å°‘20å­—ï¼‰', 'error');
        return;
      }

      const confirmed = await Utils.confirm(
        'âš ï¸ ä¸¥é‡æ“ä½œç¡®è®¤\n\nç¡®è®¤å°ç¦è¯¥å•†æˆ·ï¼Ÿ\nè¿™æ˜¯ä¸€ä¸ªä¸¥é‡æ“ä½œï¼Œå°†å¯¼è‡´ï¼š\n- å•†æˆ·æ— æ³•ç™»å½•\n- æ‰€æœ‰äº§å“ä¸‹æ¶\n- åœæ­¢äº¤æ˜“ç»“ç®—\n\nè¯·ç¡®ä¿è¿è§„äº‹å®æ¸…æ¥š',
        'ç¡®è®¤å°ç¦'
      );

      if (!confirmed) return;

      Utils.showLoading('å¤„ç†ä¸­...');
      await Utils.sleep(2000);
      Utils.hideLoading();

      Utils.showToast('å•†æˆ·å·²å°ç¦', 'success');
      await Utils.sleep(1000);
      window.location.href = 'list.html';
    }
  </script>
</body>
</html>
