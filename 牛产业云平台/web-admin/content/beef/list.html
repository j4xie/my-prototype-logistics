<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>牛肉产品管理 - 牛产业云平台</title>
    <link rel="stylesheet" href="../../assets/css/variables.css">
    <link rel="stylesheet" href="../../assets/css/desktop.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css">
    <style>
        /* ========== 页面布局 ========== */
        .admin-layout {
            display: flex;
            min-height: 100vh;
            background: var(--bg-gray);
        }

        /* ========== 侧边栏 ========== */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1B5E20 0%, #2E7D32 100%);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 600;
        }

        .sidebar-logo .mdi {
            font-size: 32px;
        }

        .sidebar-nav {
            padding: 16px 0;
        }

        .nav-group {
            margin-bottom: 8px;
        }

        .nav-group-title {
            padding: 12px 24px;
            font-size: 12px;
            text-transform: uppercase;
            opacity: 0.7;
            letter-spacing: 1px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            color: rgba(255,255,255,0.85);
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .nav-item.active {
            background: rgba(255,255,255,0.2);
            color: white;
            border-left: 3px solid white;
        }

        .nav-item .mdi {
            font-size: 20px;
            width: 24px;
        }

        .nav-sub-menu {
            display: none;
            background: rgba(0,0,0,0.1);
        }

        .nav-sub-menu.expanded {
            display: block;
        }

        .nav-sub-menu .nav-item {
            padding-left: 60px;
            font-size: 14px;
        }

        /* ========== 主内容区 ========== */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 24px;
        }

        /* ========== 页面头部 ========== */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-outline {
            background: white;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* ========== 统计卡片 ========== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .stat-card .label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .stat-card .value {
            font-size: 28px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .stat-card .value.success { color: var(--success-color); }
        .stat-card .value.warning { color: var(--warning-color); }
        .stat-card .value.danger { color: var(--danger-color); }
        .stat-card .value.info { color: var(--info-color); }

        /* ========== 筛选面板 ========== */
        .filter-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .filter-row {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            align-items: flex-end;
        }

        .filter-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .filter-item label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .filter-item input,
        .filter-item select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
            min-width: 160px;
        }

        .filter-item input:focus,
        .filter-item select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* ========== 数据表格 ========== */
        .data-table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            overflow: hidden;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        .data-table th {
            background: var(--bg-gray);
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 13px;
        }

        .data-table tr:hover {
            background: var(--bg-gray);
        }

        .data-table .checkbox {
            width: 40px;
        }

        /* ========== 产品信息列 ========== */
        .product-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .product-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            background: var(--bg-gray);
        }

        .product-meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .product-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        .product-code {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* ========== 切割部位标签 ========== */
        .cut-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .cut-badge.premium {
            background: #FFF3E0;
            color: #E65100;
        }

        .cut-badge.standard {
            background: #E3F2FD;
            color: #1565C0;
        }

        .cut-badge.economy {
            background: #F3E5F5;
            color: #7B1FA2;
        }

        /* ========== 溯源码 ========== */
        .trace-code {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .trace-code .code {
            font-family: monospace;
            font-size: 12px;
            background: var(--bg-gray);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .trace-code .mdi {
            color: var(--primary-color);
            cursor: pointer;
        }

        /* ========== 冷链状态 ========== */
        .cold-chain-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
        }

        .cold-chain-status.normal {
            color: var(--success-color);
        }

        .cold-chain-status.warning {
            color: var(--warning-color);
        }

        .cold-chain-status.danger {
            color: var(--danger-color);
        }

        /* ========== 状态标签 ========== */
        .status-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-tag.online {
            background: #E8F5E9;
            color: #2E7D32;
        }

        .status-tag.pending {
            background: #FFF3E0;
            color: #E65100;
        }

        .status-tag.offline {
            background: #ECEFF1;
            color: #546E7A;
        }

        .status-tag.sold {
            background: #E3F2FD;
            color: #1565C0;
        }

        /* ========== 操作按钮 ========== */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }

        .action-btn.view {
            background: var(--bg-gray);
            color: var(--text-primary);
        }

        .action-btn.edit {
            background: #E3F2FD;
            color: #1565C0;
        }

        .action-btn.delete {
            background: #FFEBEE;
            color: #C62828;
        }

        .action-btn:hover {
            filter: brightness(0.95);
        }

        /* ========== 分页 ========== */
        .pagination-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-top: 1px solid var(--border-light);
        }

        .pagination-info {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .pagination-buttons {
            display: flex;
            gap: 8px;
        }

        .page-btn {
            min-width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .page-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .page-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }
    </style>
</head>
<body>
    <div class="admin-layout">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <span class="mdi mdi-cow"></span>
                    <span>牛产业云平台</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-group">
                    <a href="../../dashboard/overview.html" class="nav-item">
                        <span class="mdi mdi-view-dashboard"></span>
                        <span>数据概览</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-group-title">企业管理</div>
                    <a href="../../enterprise/list.html" class="nav-item">
                        <span class="mdi mdi-domain"></span>
                        <span>企业列表</span>
                    </a>
                    <a href="../../enterprise/review.html" class="nav-item">
                        <span class="mdi mdi-clipboard-check"></span>
                        <span>企业审核</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-group-title">内容管理</div>
                    <div class="nav-item" onclick="toggleSubMenu(this)">
                        <span class="mdi mdi-package-variant"></span>
                        <span>商品管理</span>
                        <span class="mdi mdi-chevron-down" style="margin-left:auto"></span>
                    </div>
                    <div class="nav-sub-menu expanded">
                        <a href="../cattle/list.html" class="nav-item">
                            <span>活牛信息</span>
                        </a>
                        <a href="../breeding/list.html" class="nav-item">
                            <span>育种种牛</span>
                        </a>
                        <a href="../beef/list.html" class="nav-item active">
                            <span>牛肉产品</span>
                        </a>
                        <a href="../feed/list.html" class="nav-item">
                            <span>饲料产品</span>
                        </a>
                        <a href="../equipment/list.html" class="nav-item">
                            <span>设备管理</span>
                        </a>
                        <a href="../farm/list.html" class="nav-item">
                            <span>养殖场</span>
                        </a>
                        <a href="../slaughter/list.html" class="nav-item">
                            <span>屠宰场</span>
                        </a>
                    </div>
                    <a href="../review-queue.html" class="nav-item">
                        <span class="mdi mdi-clipboard-check-outline"></span>
                        <span>审核队列</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-group-title">系统设置</div>
                    <a href="../../settings/dictionary.html" class="nav-item">
                        <span class="mdi mdi-book-alphabet"></span>
                        <span>字典管理</span>
                    </a>
                    <a href="../../settings/category-manage.html" class="nav-item">
                        <span class="mdi mdi-shape"></span>
                        <span>分类管理</span>
                    </a>
                    <a href="../../settings/banner-manage.html" class="nav-item">
                        <span class="mdi mdi-image-multiple"></span>
                        <span>Banner管理</span>
                    </a>
                    <a href="../../settings/user-manage.html" class="nav-item">
                        <span class="mdi mdi-account-group"></span>
                        <span>用户管理</span>
                    </a>
                    <a href="../../settings/system-config.html" class="nav-item">
                        <span class="mdi mdi-cog"></span>
                        <span>系统配置</span>
                    </a>
                    <a href="../../settings/permission-settings.html" class="nav-item">
                        <span class="mdi mdi-shield-account"></span>
                        <span>权限设置</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">牛肉产品管理</h1>
                <div class="header-actions">
                    <button class="btn btn-outline">
                        <span class="mdi mdi-download"></span>
                        导出数据
                    </button>
                    <a href="create.html" class="btn btn-primary">
                        <span class="mdi mdi-plus"></span>
                        发布产品
                    </a>
                </div>
            </div>

            <!-- 统计卡片 -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="label">产品总数</div>
                    <div class="value">1,256</div>
                </div>
                <div class="stat-card">
                    <div class="label">在售产品</div>
                    <div class="value success">892</div>
                </div>
                <div class="stat-card">
                    <div class="label">待审核</div>
                    <div class="value warning">28</div>
                </div>
                <div class="stat-card">
                    <div class="label">已售罄</div>
                    <div class="value info">198</div>
                </div>
                <div class="stat-card">
                    <div class="label">冷链异常</div>
                    <div class="value danger">3</div>
                </div>
            </div>

            <!-- 筛选面板 -->
            <div class="filter-panel">
                <div class="filter-row">
                    <div class="filter-item">
                        <label>关键词搜索</label>
                        <input type="text" placeholder="产品名称/溯源码">
                    </div>
                    <div class="filter-item">
                        <label>切割部位</label>
                        <select>
                            <option value="">全部部位</option>
                            <option value="tenderloin">菲力/里脊</option>
                            <option value="ribeye">肋眼</option>
                            <option value="sirloin">西冷</option>
                            <option value="brisket">牛腩</option>
                            <option value="shank">牛腱</option>
                            <option value="tongue">牛舌</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>等级</label>
                        <select>
                            <option value="">全部等级</option>
                            <option value="premium">精选级</option>
                            <option value="standard">标准级</option>
                            <option value="economy">经济级</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>冷链状态</label>
                        <select>
                            <option value="">全部状态</option>
                            <option value="normal">正常</option>
                            <option value="warning">预警</option>
                            <option value="danger">异常</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>上架状态</label>
                        <select>
                            <option value="">全部</option>
                            <option value="online">在售</option>
                            <option value="pending">待审核</option>
                            <option value="offline">已下架</option>
                            <option value="sold">已售罄</option>
                        </select>
                    </div>
                    <button class="btn btn-primary">
                        <span class="mdi mdi-magnify"></span>
                        搜索
                    </button>
                    <button class="btn btn-outline">
                        <span class="mdi mdi-refresh"></span>
                        重置
                    </button>
                </div>
            </div>

            <!-- 数据表格 -->
            <div class="data-table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th class="checkbox"><input type="checkbox"></th>
                            <th>产品信息</th>
                            <th>切割部位</th>
                            <th>溯源码</th>
                            <th>重量/价格</th>
                            <th>冷链状态</th>
                            <th>上架状态</th>
                            <th>发布时间</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- 动态渲染 -->
                    </tbody>
                </table>

                <div class="pagination-bar">
                    <div class="pagination-info">
                        共 <strong>1,256</strong> 条记录，每页显示 10 条
                    </div>
                    <div class="pagination-buttons">
                        <button class="page-btn"><span class="mdi mdi-chevron-left"></span></button>
                        <button class="page-btn active">1</button>
                        <button class="page-btn">2</button>
                        <button class="page-btn">3</button>
                        <button class="page-btn">...</button>
                        <button class="page-btn">126</button>
                        <button class="page-btn"><span class="mdi mdi-chevron-right"></span></button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 切换子菜单
        function toggleSubMenu(el) {
            const subMenu = el.nextElementSibling;
            if (subMenu && subMenu.classList.contains('nav-sub-menu')) {
                subMenu.classList.toggle('expanded');
                const chevron = el.querySelector('.mdi-chevron-down');
                if (chevron) {
                    chevron.style.transform = subMenu.classList.contains('expanded') ? 'rotate(180deg)' : '';
                }
            }
        }

        // 模拟数据
        const beefProducts = [
            {
                id: 'BF20251225001',
                name: '精选和牛菲力牛排',
                image: 'https://via.placeholder.com/60',
                cut: '菲力/里脊',
                cutGrade: 'premium',
                traceCode: 'TRC2025122500001',
                weight: '500g',
                price: 688,
                coldChain: 'normal',
                coldTemp: '-18°C',
                status: 'online',
                publishTime: '2025-12-25 10:30'
            },
            {
                id: 'BF20251225002',
                name: '澳洲谷饲肋眼牛排',
                image: 'https://via.placeholder.com/60',
                cut: '肋眼',
                cutGrade: 'premium',
                traceCode: 'TRC2025122500002',
                weight: '400g',
                price: 528,
                coldChain: 'normal',
                coldTemp: '-18°C',
                status: 'online',
                publishTime: '2025-12-25 09:15'
            },
            {
                id: 'BF20251224003',
                name: '国产黄牛牛腩块',
                image: 'https://via.placeholder.com/60',
                cut: '牛腩',
                cutGrade: 'standard',
                traceCode: 'TRC2025122400003',
                weight: '1000g',
                price: 158,
                coldChain: 'warning',
                coldTemp: '-15°C',
                status: 'online',
                publishTime: '2025-12-24 16:45'
            },
            {
                id: 'BF20251224004',
                name: '雪花西冷牛排',
                image: 'https://via.placeholder.com/60',
                cut: '西冷',
                cutGrade: 'premium',
                traceCode: 'TRC2025122400004',
                weight: '350g',
                price: 428,
                coldChain: 'normal',
                coldTemp: '-18°C',
                status: 'pending',
                publishTime: '2025-12-24 14:20'
            },
            {
                id: 'BF20251223005',
                name: '原切牛腱芯',
                image: 'https://via.placeholder.com/60',
                cut: '牛腱',
                cutGrade: 'standard',
                traceCode: 'TRC2025122300005',
                weight: '800g',
                price: 198,
                coldChain: 'danger',
                coldTemp: '-10°C',
                status: 'offline',
                publishTime: '2025-12-23 11:00'
            }
        ];

        function getCutBadge(grade) {
            const map = {
                premium: '<span class="cut-badge premium"><span class="mdi mdi-star"></span>精选级</span>',
                standard: '<span class="cut-badge standard"><span class="mdi mdi-check"></span>标准级</span>',
                economy: '<span class="cut-badge economy"><span class="mdi mdi-tag"></span>经济级</span>'
            };
            return map[grade] || grade;
        }

        function getColdChainStatus(status, temp) {
            const map = {
                normal: `<div class="cold-chain-status normal"><span class="mdi mdi-snowflake"></span>${temp} 正常</div>`,
                warning: `<div class="cold-chain-status warning"><span class="mdi mdi-alert"></span>${temp} 预警</div>`,
                danger: `<div class="cold-chain-status danger"><span class="mdi mdi-alert-circle"></span>${temp} 异常</div>`
            };
            return map[status] || status;
        }

        function getStatusTag(status) {
            const map = {
                online: '<span class="status-tag online"><span class="mdi mdi-check-circle"></span>在售</span>',
                pending: '<span class="status-tag pending"><span class="mdi mdi-clock-outline"></span>待审核</span>',
                offline: '<span class="status-tag offline"><span class="mdi mdi-minus-circle"></span>已下架</span>',
                sold: '<span class="status-tag sold"><span class="mdi mdi-cart-check"></span>已售罄</span>'
            };
            return map[status] || status;
        }

        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = beefProducts.map(item => `
                <tr>
                    <td class="checkbox"><input type="checkbox"></td>
                    <td>
                        <div class="product-info">
                            <img src="${item.image}" alt="" class="product-image">
                            <div class="product-meta">
                                <div class="product-name">${item.name}</div>
                                <div class="product-code">${item.id}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div>${item.cut}</div>
                        ${getCutBadge(item.cutGrade)}
                    </td>
                    <td>
                        <div class="trace-code">
                            <span class="code">${item.traceCode}</span>
                            <span class="mdi mdi-qrcode" title="查看溯源码"></span>
                        </div>
                    </td>
                    <td>
                        <div>${item.weight}</div>
                        <div style="color: #E65100; font-weight: 500;">¥${item.price}</div>
                    </td>
                    <td>${getColdChainStatus(item.coldChain, item.coldTemp)}</td>
                    <td>${getStatusTag(item.status)}</td>
                    <td>${item.publishTime}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewDetail('${item.id}')">详情</button>
                            <button class="action-btn edit" onclick="editItem('${item.id}')">编辑</button>
                            <button class="action-btn delete" onclick="deleteItem('${item.id}')">删除</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function viewDetail(id) {
            window.location.href = `detail.html?id=${id}`;
        }

        function editItem(id) {
            window.location.href = `create.html?id=${id}&mode=edit`;
        }

        function deleteItem(id) {
            if (confirm('确定要删除该产品吗？此操作不可恢复。')) {
                console.log('删除产品:', id);
            }
        }

        // 初始化
        renderTable();
    </script>
</body>
</html>
