<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>设备管理 - 牛产业云平台</title>
  <link rel="stylesheet" href="../../css/variables.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
    }

    .admin-layout {
      display: flex;
      min-height: 100vh;
    }

    /* 侧边栏 */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 100;
    }

    .sidebar-header {
      padding: 24px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 20px;
      font-weight: 600;
    }

    .sidebar-logo i {
      font-size: 32px;
      color: var(--primary-color, #666fee);
    }

    .sidebar-nav {
      padding: 16px 0;
    }

    .nav-group {
      margin-bottom: 8px;
    }

    .nav-group-title {
      padding: 12px 24px;
      font-size: 12px;
      color: rgba(255,255,255,0.5);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      padding: 14px 24px;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
    }

    .nav-item:hover {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }

    .nav-item.active {
      background: linear-gradient(90deg, var(--primary-color, #666fee), transparent);
      color: #fff;
      border-left: 3px solid var(--primary-color, #666fee);
    }

    .nav-item i {
      margin-right: 12px;
      font-size: 20px;
      width: 24px;
      text-align: center;
    }

    .nav-item .badge {
      margin-left: auto;
      background: #ff6b6b;
      color: #fff;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 12px;
    }

    .nav-sub-menu {
      display: none;
      background: rgba(0,0,0,0.2);
    }

    .nav-sub-menu.open {
      display: block;
    }

    .nav-sub-item {
      display: block;
      padding: 12px 24px 12px 60px;
      color: rgba(255,255,255,0.6);
      text-decoration: none;
      transition: all 0.2s;
    }

    .nav-sub-item:hover,
    .nav-sub-item.active {
      color: #fff;
      background: rgba(255,255,255,0.05);
    }

    /* 主内容区 */
    .main-content {
      flex: 1;
      margin-left: 280px;
    }

    /* 顶部导航 */
    .top-header {
      background: #fff;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #666;
    }

    .breadcrumb a {
      color: var(--primary-color, #666fee);
      text-decoration: none;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .header-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: #f5f7fa;
      color: #666;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .header-btn:hover {
      background: #e8eaed;
    }

    .header-btn .badge {
      position: absolute;
      top: 0;
      right: 0;
      width: 18px;
      height: 18px;
      background: #ff6b6b;
      color: #fff;
      border-radius: 50%;
      font-size: 11px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color, #666fee), #8b5cf6);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      cursor: pointer;
    }

    /* 页面内容 */
    .page-content {
      padding: 24px 32px;
    }

    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      color: #1a1a2e;
    }

    .page-subtitle {
      color: #666;
      margin-top: 4px;
    }

    .primary-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: linear-gradient(135deg, var(--primary-color, #666fee), #8b5cf6);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s;
    }

    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 111, 238, 0.4);
    }

    /* 统计卡片 */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 24px;
    }

    .stat-card {
      background: #fff;
      border-radius: 12px;
      padding: 24px;
      display: flex;
      align-items: center;
      gap: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }

    .stat-icon {
      width: 56px;
      height: 56px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .stat-icon.blue {
      background: linear-gradient(135deg, #3b82f6, #60a5fa);
      color: #fff;
    }

    .stat-icon.green {
      background: linear-gradient(135deg, #10b981, #34d399);
      color: #fff;
    }

    .stat-icon.orange {
      background: linear-gradient(135deg, #f59e0b, #fbbf24);
      color: #fff;
    }

    .stat-icon.red {
      background: linear-gradient(135deg, #ef4444, #f87171);
      color: #fff;
    }

    .stat-info h3 {
      font-size: 28px;
      font-weight: 700;
      color: #1a1a2e;
    }

    .stat-info p {
      color: #666;
      font-size: 14px;
      margin-top: 4px;
    }

    /* 筛选面板 */
    .filter-panel {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }

    .filter-row {
      display: grid;
      grid-template-columns: repeat(5, 1fr) auto;
      gap: 16px;
      align-items: end;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .filter-group label {
      font-size: 13px;
      color: #666;
      font-weight: 500;
    }

    .filter-group input,
    .filter-group select {
      padding: 10px 12px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.2s;
    }

    .filter-group input:focus,
    .filter-group select:focus {
      border-color: var(--primary-color, #666fee);
    }

    .filter-actions {
      display: flex;
      gap: 8px;
    }

    .filter-btn {
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-btn.primary {
      background: var(--primary-color, #666fee);
      color: #fff;
      border: none;
    }

    .filter-btn.secondary {
      background: #fff;
      color: #666;
      border: 1px solid #e2e8f0;
    }

    .filter-btn:hover {
      opacity: 0.9;
    }

    /* 数据表格 */
    .data-table-container {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      overflow: hidden;
    }

    .table-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid #f0f0f0;
    }

    .table-title {
      font-size: 16px;
      font-weight: 600;
      color: #1a1a2e;
    }

    .table-actions {
      display: flex;
      gap: 8px;
    }

    .action-btn {
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      border: 1px solid #e2e8f0;
      background: #fff;
      color: #666;
    }

    .action-btn:hover {
      background: #f5f7fa;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
    }

    .data-table th,
    .data-table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid #f0f0f0;
    }

    .data-table th {
      background: #fafbfc;
      font-weight: 600;
      color: #666;
      font-size: 13px;
    }

    .data-table tr:hover {
      background: #fafbfc;
    }

    .data-table .checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .equipment-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .equipment-thumb {
      width: 48px;
      height: 48px;
      border-radius: 8px;
      background: linear-gradient(135deg, #64748b, #94a3b8);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 20px;
    }

    .equipment-name {
      font-weight: 500;
      color: #1a1a2e;
    }

    .equipment-model {
      font-size: 12px;
      color: #999;
      margin-top: 2px;
    }

    .status-tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
    }

    .status-tag.running {
      background: #dcfce7;
      color: #16a34a;
    }

    .status-tag.maintenance {
      background: #fef3c7;
      color: #d97706;
    }

    .status-tag.fault {
      background: #fee2e2;
      color: #dc2626;
    }

    .status-tag.stopped {
      background: #f3f4f6;
      color: #6b7280;
    }

    .type-tag {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
    }

    .type-tag.breeding {
      background: #e0f2fe;
      color: #0284c7;
    }

    .type-tag.feeding {
      background: #fef3c7;
      color: #d97706;
    }

    .type-tag.climate {
      background: #dcfce7;
      color: #16a34a;
    }

    .type-tag.detection {
      background: #f3e8ff;
      color: #9333ea;
    }

    .type-tag.processing {
      background: #ffe4e6;
      color: #e11d48;
    }

    .type-tag.transport {
      background: #e0e7ff;
      color: #4f46e5;
    }

    .row-actions {
      display: flex;
      gap: 4px;
    }

    .row-actions button {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      color: #666;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .row-actions button:hover {
      background: #f0f0f0;
      color: var(--primary-color, #666fee);
    }

    .row-actions button.danger:hover {
      background: #fee2e2;
      color: #dc2626;
    }

    /* 分页 */
    .pagination-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-top: 1px solid #f0f0f0;
    }

    .pagination-info {
      color: #666;
      font-size: 14px;
    }

    .pagination {
      display: flex;
      gap: 4px;
    }

    .pagination button {
      padding: 8px 14px;
      border: 1px solid #e2e8f0;
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }

    .pagination button:hover {
      border-color: var(--primary-color, #666fee);
      color: var(--primary-color, #666fee);
    }

    .pagination button.active {
      background: var(--primary-color, #666fee);
      color: #fff;
      border-color: var(--primary-color, #666fee);
    }

    .pagination button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* 批量操作栏 */
    .batch-actions {
      display: none;
      align-items: center;
      gap: 16px;
      padding: 12px 20px;
      background: #eef2ff;
      border-bottom: 1px solid #c7d2fe;
    }

    .batch-actions.show {
      display: flex;
    }

    .batch-actions span {
      color: var(--primary-color, #666fee);
      font-weight: 500;
    }

    .batch-actions .actions {
      display: flex;
      gap: 8px;
    }

    .batch-btn {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      border: 1px solid var(--primary-color, #666fee);
      background: #fff;
      color: var(--primary-color, #666fee);
    }

    .batch-btn.danger {
      border-color: #dc2626;
      color: #dc2626;
    }

    .batch-btn:hover {
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="admin-layout">
    <!-- 侧边栏 -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <i class="mdi mdi-cow"></i>
          <span>牛产业云平台</span>
        </div>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-group">
          <div class="nav-group-title">概览</div>
          <a href="../../dashboard.html" class="nav-item">
            <i class="mdi mdi-view-dashboard"></i>
            <span>工作台</span>
          </a>
        </div>

        <div class="nav-group">
          <div class="nav-group-title">内容管理</div>
          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-cow"></i>
            <span>活牛管理</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../cattle/list.html" class="nav-sub-item">活牛列表</a>
            <a href="../cattle/review.html" class="nav-sub-item">内容审核</a>
          </div>

          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-dna"></i>
            <span>育种种牛</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../breeding/list.html" class="nav-sub-item">种牛列表</a>
            <a href="../breeding/review.html" class="nav-sub-item">内容审核</a>
          </div>

          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-food-steak"></i>
            <span>牛肉产品</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../beef/list.html" class="nav-sub-item">产品列表</a>
            <a href="../beef/review.html" class="nav-sub-item">内容审核</a>
          </div>

          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-corn"></i>
            <span>饲料产品</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../feed/list.html" class="nav-sub-item">产品列表</a>
            <a href="../feed/review.html" class="nav-sub-item">内容审核</a>
          </div>

          <div class="nav-item active" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-cog"></i>
            <span>设备管理</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu open">
            <a href="list.html" class="nav-sub-item active">设备列表</a>
            <a href="review.html" class="nav-sub-item">设备审核</a>
          </div>

          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-barn"></i>
            <span>养殖场</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../farm/list.html" class="nav-sub-item">养殖场列表</a>
            <a href="../farm/review.html" class="nav-sub-item">内容审核</a>
          </div>

          <div class="nav-item" onclick="toggleSubMenu(this)">
            <i class="mdi mdi-factory"></i>
            <span>屠宰场</span>
            <i class="mdi mdi-chevron-down" style="margin-left: auto;"></i>
          </div>
          <div class="nav-sub-menu">
            <a href="../slaughter/list.html" class="nav-sub-item">屠宰场列表</a>
            <a href="../slaughter/review.html" class="nav-sub-item">内容审核</a>
          </div>
        </div>

        <div class="nav-group">
          <div class="nav-group-title">系统设置</div>
          <a href="../settings/category.html" class="nav-item">
            <i class="mdi mdi-shape"></i>
            <span>分类管理</span>
          </a>
          <a href="../settings/banner.html" class="nav-item">
            <i class="mdi mdi-image"></i>
            <span>Banner管理</span>
          </a>
          <a href="../settings/users.html" class="nav-item">
            <i class="mdi mdi-account-group"></i>
            <span>用户管理</span>
          </a>
          <a href="../settings/config.html" class="nav-item">
            <i class="mdi mdi-cog-outline"></i>
            <span>系统配置</span>
          </a>
          <a href="../settings/permissions.html" class="nav-item">
            <i class="mdi mdi-shield-account"></i>
            <span>权限设置</span>
          </a>
        </div>
      </nav>
    </aside>

    <!-- 主内容区 -->
    <main class="main-content">
      <!-- 顶部导航 -->
      <header class="top-header">
        <div class="breadcrumb">
          <a href="../../dashboard.html">首页</a>
          <i class="mdi mdi-chevron-right"></i>
          <span>内容管理</span>
          <i class="mdi mdi-chevron-right"></i>
          <span>设备管理</span>
        </div>
        <div class="header-actions">
          <button class="header-btn">
            <i class="mdi mdi-magnify"></i>
          </button>
          <button class="header-btn">
            <i class="mdi mdi-bell-outline"></i>
            <span class="badge">3</span>
          </button>
          <div class="user-avatar">管</div>
        </div>
      </header>

      <!-- 页面内容 -->
      <div class="page-content">
        <!-- 页面标题 -->
        <div class="page-header">
          <div>
            <h1 class="page-title">设备管理</h1>
            <p class="page-subtitle">管理平台上所有设备信息和状态</p>
          </div>
          <a href="edit.html" class="primary-btn">
            <i class="mdi mdi-plus"></i>
            添加设备
          </a>
        </div>

        <!-- 统计卡片 -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon blue">
              <i class="mdi mdi-cog"></i>
            </div>
            <div class="stat-info">
              <h3>1,856</h3>
              <p>设备总数</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon green">
              <i class="mdi mdi-check-circle"></i>
            </div>
            <div class="stat-info">
              <h3>1,523</h3>
              <p>正常运行</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon orange">
              <i class="mdi mdi-wrench"></i>
            </div>
            <div class="stat-info">
              <h3>186</h3>
              <p>维护中</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon red">
              <i class="mdi mdi-alert-circle"></i>
            </div>
            <div class="stat-info">
              <h3>47</h3>
              <p>故障报警</p>
            </div>
          </div>
        </div>

        <!-- 筛选面板 -->
        <div class="filter-panel">
          <div class="filter-row">
            <div class="filter-group">
              <label>关键词搜索</label>
              <input type="text" placeholder="设备名称/型号/编号">
            </div>
            <div class="filter-group">
              <label>设备类型</label>
              <select>
                <option value="">全部类型</option>
                <option value="breeding">养殖设备</option>
                <option value="feeding">饲喂设备</option>
                <option value="climate">环控设备</option>
                <option value="detection">检测设备</option>
                <option value="processing">加工设备</option>
                <option value="transport">运输设备</option>
              </select>
            </div>
            <div class="filter-group">
              <label>运行状态</label>
              <select>
                <option value="">全部状态</option>
                <option value="running">正常运行</option>
                <option value="maintenance">维护中</option>
                <option value="fault">故障</option>
                <option value="stopped">停用</option>
              </select>
            </div>
            <div class="filter-group">
              <label>所属厂家</label>
              <select>
                <option value="">全部厂家</option>
                <option value="1">德国克拉斯</option>
                <option value="2">美国约翰迪尔</option>
                <option value="3">国产雷沃</option>
                <option value="4">日本久保田</option>
              </select>
            </div>
            <div class="filter-group">
              <label>采购时间</label>
              <input type="date">
            </div>
            <div class="filter-actions">
              <button class="filter-btn primary" onclick="handleSearch()">
                <i class="mdi mdi-magnify"></i> 搜索
              </button>
              <button class="filter-btn secondary" onclick="handleReset()">重置</button>
            </div>
          </div>
        </div>

        <!-- 数据表格 -->
        <div class="data-table-container">
          <div class="table-header">
            <div class="table-title">设备列表</div>
            <div class="table-actions">
              <button class="action-btn" onclick="handleExport()">
                <i class="mdi mdi-download"></i> 导出
              </button>
              <button class="action-btn" onclick="handleImport()">
                <i class="mdi mdi-upload"></i> 导入
              </button>
              <button class="action-btn" onclick="handleRefresh()">
                <i class="mdi mdi-refresh"></i> 刷新
              </button>
            </div>
          </div>

          <!-- 批量操作栏 -->
          <div class="batch-actions" id="batchActions">
            <span>已选择 <b id="selectedCount">0</b> 项</span>
            <div class="actions">
              <button class="batch-btn" onclick="batchMaintenance()">批量维护</button>
              <button class="batch-btn" onclick="batchStop()">批量停用</button>
              <button class="batch-btn danger" onclick="batchDelete()">批量删除</button>
            </div>
          </div>

          <table class="data-table">
            <thead>
              <tr>
                <th width="40"><input type="checkbox" class="checkbox" id="selectAll" onchange="toggleSelectAll()"></th>
                <th>设备信息</th>
                <th>设备类型</th>
                <th>所属厂家</th>
                <th>所在位置</th>
                <th>运行状态</th>
                <th>采购日期</th>
                <th>上次维护</th>
                <th width="120">操作</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- 数据由JS渲染 -->
            </tbody>
          </table>

          <div class="pagination-bar">
            <div class="pagination-info">
              共 <strong>1,856</strong> 条记录，每页 <strong>10</strong> 条
            </div>
            <div class="pagination">
              <button disabled><i class="mdi mdi-chevron-left"></i></button>
              <button class="active">1</button>
              <button>2</button>
              <button>3</button>
              <button>4</button>
              <button>5</button>
              <button>...</button>
              <button>186</button>
              <button><i class="mdi mdi-chevron-right"></i></button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // 切换子菜单
    function toggleSubMenu(element) {
      const subMenu = element.nextElementSibling;
      if (subMenu && subMenu.classList.contains('nav-sub-menu')) {
        subMenu.classList.toggle('open');
      }
    }

    // 模拟数据
    const mockData = [
      {
        id: 'EQ001',
        name: '智能饲喂机',
        model: 'SF-2000A',
        type: 'feeding',
        manufacturer: '德国克拉斯',
        location: '1号养殖场-A区',
        status: 'running',
        purchaseDate: '2023-06-15',
        lastMaintenance: '2024-11-20'
      },
      {
        id: 'EQ002',
        name: '自动清粪系统',
        model: 'ACM-500',
        type: 'breeding',
        manufacturer: '国产雷沃',
        location: '2号养殖场-B区',
        status: 'running',
        purchaseDate: '2023-08-22',
        lastMaintenance: '2024-12-01'
      },
      {
        id: 'EQ003',
        name: '环境监控仪',
        model: 'ENV-M100',
        type: 'climate',
        manufacturer: '日本久保田',
        location: '1号养殖场-C区',
        status: 'maintenance',
        purchaseDate: '2024-01-10',
        lastMaintenance: '2024-12-20'
      },
      {
        id: 'EQ004',
        name: '体温检测仪',
        model: 'TD-300Pro',
        type: 'detection',
        manufacturer: '国产华为',
        location: '3号养殖场-A区',
        status: 'running',
        purchaseDate: '2024-03-05',
        lastMaintenance: '2024-10-15'
      },
      {
        id: 'EQ005',
        name: '肉类分割机',
        model: 'MC-800',
        type: 'processing',
        manufacturer: '美国约翰迪尔',
        location: '加工车间-1号线',
        status: 'fault',
        purchaseDate: '2022-11-18',
        lastMaintenance: '2024-08-30'
      },
      {
        id: 'EQ006',
        name: '冷链运输车',
        model: 'CT-L5000',
        type: 'transport',
        manufacturer: '国产北汽',
        location: '物流中心',
        status: 'running',
        purchaseDate: '2023-05-20',
        lastMaintenance: '2024-11-10'
      },
      {
        id: 'EQ007',
        name: '智能称重系统',
        model: 'WS-1000',
        type: 'detection',
        manufacturer: '德国克拉斯',
        location: '2号养殖场-A区',
        status: 'stopped',
        purchaseDate: '2021-09-12',
        lastMaintenance: '2024-06-25'
      },
      {
        id: 'EQ008',
        name: '通风降温机',
        model: 'VCS-3500',
        type: 'climate',
        manufacturer: '国产格力',
        location: '1号养殖场-B区',
        status: 'running',
        purchaseDate: '2023-04-18',
        lastMaintenance: '2024-09-08'
      }
    ];

    const typeMap = {
      breeding: { text: '养殖设备', class: 'breeding' },
      feeding: { text: '饲喂设备', class: 'feeding' },
      climate: { text: '环控设备', class: 'climate' },
      detection: { text: '检测设备', class: 'detection' },
      processing: { text: '加工设备', class: 'processing' },
      transport: { text: '运输设备', class: 'transport' }
    };

    const statusMap = {
      running: { text: '正常运行', class: 'running' },
      maintenance: { text: '维护中', class: 'maintenance' },
      fault: { text: '故障', class: 'fault' },
      stopped: { text: '停用', class: 'stopped' }
    };

    const typeIconMap = {
      breeding: 'mdi-cow',
      feeding: 'mdi-food-variant',
      climate: 'mdi-weather-windy',
      detection: 'mdi-thermometer',
      processing: 'mdi-cogs',
      transport: 'mdi-truck'
    };

    // 渲染表格
    function renderTable() {
      const tbody = document.getElementById('tableBody');
      tbody.innerHTML = mockData.map(item => `
        <tr>
          <td><input type="checkbox" class="checkbox row-checkbox" value="${item.id}" onchange="updateSelection()"></td>
          <td>
            <div class="equipment-info">
              <div class="equipment-thumb">
                <i class="mdi ${typeIconMap[item.type] || 'mdi-cog'}"></i>
              </div>
              <div>
                <div class="equipment-name">${item.name}</div>
                <div class="equipment-model">${item.model} | ${item.id}</div>
              </div>
            </div>
          </td>
          <td><span class="type-tag ${typeMap[item.type]?.class}">${typeMap[item.type]?.text}</span></td>
          <td>${item.manufacturer}</td>
          <td>${item.location}</td>
          <td><span class="status-tag ${statusMap[item.status]?.class}">
            <i class="mdi ${item.status === 'running' ? 'mdi-check-circle' : item.status === 'maintenance' ? 'mdi-wrench' : item.status === 'fault' ? 'mdi-alert-circle' : 'mdi-stop-circle'}"></i>
            ${statusMap[item.status]?.text}
          </span></td>
          <td>${item.purchaseDate}</td>
          <td>${item.lastMaintenance}</td>
          <td>
            <div class="row-actions">
              <button title="查看" onclick="viewDetail('${item.id}')"><i class="mdi mdi-eye"></i></button>
              <button title="编辑" onclick="editItem('${item.id}')"><i class="mdi mdi-pencil"></i></button>
              <button title="维护" onclick="maintainItem('${item.id}')"><i class="mdi mdi-wrench"></i></button>
              <button class="danger" title="删除" onclick="deleteItem('${item.id}')"><i class="mdi mdi-delete"></i></button>
            </div>
          </td>
        </tr>
      `).join('');
    }

    // 全选/取消全选
    function toggleSelectAll() {
      const selectAll = document.getElementById('selectAll');
      const checkboxes = document.querySelectorAll('.row-checkbox');
      checkboxes.forEach(cb => cb.checked = selectAll.checked);
      updateSelection();
    }

    // 更新选中状态
    function updateSelection() {
      const checkboxes = document.querySelectorAll('.row-checkbox:checked');
      const batchActions = document.getElementById('batchActions');
      const selectedCount = document.getElementById('selectedCount');

      if (checkboxes.length > 0) {
        batchActions.classList.add('show');
        selectedCount.textContent = checkboxes.length;
      } else {
        batchActions.classList.remove('show');
      }
    }

    // 操作函数
    function viewDetail(id) {
      window.location.href = `detail.html?id=${id}`;
    }

    function editItem(id) {
      window.location.href = `edit.html?id=${id}`;
    }

    function maintainItem(id) {
      if (confirm(`确定要对设备 ${id} 进行维护操作吗？`)) {
        alert('已提交维护申请');
      }
    }

    function deleteItem(id) {
      if (confirm(`确定要删除设备 ${id} 吗？此操作不可恢复！`)) {
        alert('删除成功');
        renderTable();
      }
    }

    function handleSearch() {
      alert('搜索功能');
    }

    function handleReset() {
      document.querySelectorAll('.filter-panel input, .filter-panel select').forEach(el => {
        if (el.type === 'checkbox') {
          el.checked = false;
        } else {
          el.value = '';
        }
      });
    }

    function handleExport() {
      alert('导出数据');
    }

    function handleImport() {
      alert('导入数据');
    }

    function handleRefresh() {
      renderTable();
    }

    function batchMaintenance() {
      alert('批量维护');
    }

    function batchStop() {
      alert('批量停用');
    }

    function batchDelete() {
      if (confirm('确定要删除选中的设备吗？')) {
        alert('删除成功');
        renderTable();
      }
    }

    // 初始化
    renderTable();
  </script>
</body>
</html>
