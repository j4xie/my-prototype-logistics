<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>溯源记录 - 中国牛产业数智云平台</title>
  <link rel="stylesheet" href="../../assets/css/variables.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/mobile.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
      background: #F5F5F5;
      min-height: 100vh;
      padding-bottom: 100px;
    }

    /* 顶部Header */
    .header {
      background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
      padding: 48px 16px 20px;
      color: white;
    }

    .header-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .back-btn {
      font-size: 22px;
      text-decoration: none;
      color: white;
      padding: 4px;
    }

    .header-title {
      font-size: 17px;
      font-weight: 600;
    }

    .header-action {
      font-size: 14px;
      color: white;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* 搜索框 */
    .search-section {
      background: white;
      padding: 12px 16px;
      margin-bottom: 12px;
    }

    .search-box {
      display: flex;
      align-items: center;
      background: #F5F5F5;
      border-radius: 8px;
      padding: 10px 12px;
      gap: 8px;
    }

    .search-box i {
      font-size: 18px;
      color: #9E9E9E;
    }

    .search-box input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 14px;
      background: transparent;
      color: #212121;
    }

    .search-box input::placeholder {
      color: #BDBDBD;
    }

    /* 筛选标签 */
    .filter-tabs {
      display: flex;
      gap: 8px;
      padding: 0 16px;
      margin-bottom: 12px;
      overflow-x: auto;
    }

    .filter-tab {
      padding: 8px 16px;
      background: white;
      border-radius: 20px;
      font-size: 13px;
      color: #757575;
      white-space: nowrap;
      cursor: pointer;
      border: 1px solid #E0E0E0;
    }

    .filter-tab.active {
      background: #E8F5E9;
      color: #2E7D32;
      border-color: #4CAF50;
      font-weight: 500;
    }

    /* 统计区 */
    .stats-bar {
      display: flex;
      justify-content: space-around;
      background: white;
      padding: 16px;
      margin: 0 16px 12px;
      border-radius: 12px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 20px;
      font-weight: 600;
      color: #2E7D32;
    }

    .stat-label {
      font-size: 12px;
      color: #9E9E9E;
      margin-top: 4px;
    }

    /* 记录列表 */
    .record-list {
      padding: 0 16px;
    }

    .record-item {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
      display: flex;
      gap: 12px;
      text-decoration: none;
      color: inherit;
    }

    .record-image {
      width: 80px;
      height: 80px;
      border-radius: 8px;
      background: #F5F5F5;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      flex-shrink: 0;
    }

    .record-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .record-image i {
      font-size: 32px;
      color: #BDBDBD;
    }

    .record-info {
      flex: 1;
      min-width: 0;
    }

    .record-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 6px;
    }

    .record-type {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 500;
    }

    .record-type.cattle {
      background: #E8F5E9;
      color: #2E7D32;
    }

    .record-type.beef {
      background: #FFEBEE;
      color: #C62828;
    }

    .record-type.product {
      background: #FFF3E0;
      color: #E65100;
    }

    .record-status {
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 2px;
    }

    .record-status.verified {
      color: #4CAF50;
    }

    .record-status.warning {
      color: #FF9800;
    }

    .record-title {
      font-size: 15px;
      font-weight: 500;
      color: #212121;
      margin-bottom: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .record-code {
      font-size: 12px;
      color: #9E9E9E;
      margin-bottom: 6px;
    }

    .record-meta {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 12px;
      color: #757575;
    }

    .record-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* 空状态 */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }

    .empty-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 16px;
      background: #F5F5F5;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .empty-icon i {
      font-size: 36px;
      color: #BDBDBD;
    }

    .empty-title {
      font-size: 16px;
      color: #424242;
      margin-bottom: 8px;
    }

    .empty-desc {
      font-size: 13px;
      color: #9E9E9E;
      margin-bottom: 20px;
    }

    .empty-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 12px 24px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      color: white;
      border-radius: 24px;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
    }

    /* 底部扫码按钮 */
    .scan-bar {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 428px;
      padding: 12px 16px calc(12px + env(safe-area-inset-bottom, 0px));
      background: white;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
      z-index: 100;
      box-sizing: border-box;
    }

    .scan-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      font-weight: 500;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
    }

    .scan-btn i {
      font-size: 20px;
    }

    /* 日期分组 */
    .date-group {
      padding: 12px 16px 8px;
      font-size: 13px;
      color: #9E9E9E;
    }

    /* Toast */
    .toast {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.75);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
    }

    .toast.show {
      opacity: 1;
    }
  </style>
</head>

<body class="theme-green">
  <!-- 顶部Header -->
  <header class="header">
    <div class="header-bar">
      <a href="../enterprise/center.html" class="back-btn"><i class="mdi mdi-arrow-left"></i></a>
      <span class="header-title">溯源记录</span>
      <a href="#" class="header-action" onclick="clearHistory()"><i class="mdi mdi-delete-outline"></i>清空</a>
    </div>
  </header>

  <!-- 搜索框 -->
  <div class="search-section">
    <div class="search-box">
      <i class="mdi mdi-magnify"></i>
      <input type="text" placeholder="搜索溯源码或产品名称" id="searchInput" oninput="searchRecords()">
    </div>
  </div>

  <!-- 筛选标签 -->
  <div class="filter-tabs">
    <div class="filter-tab active" onclick="filterRecords('all', this)">全部</div>
    <div class="filter-tab" onclick="filterRecords('cattle', this)">活牛</div>
    <div class="filter-tab" onclick="filterRecords('beef', this)">牛肉</div>
    <div class="filter-tab" onclick="filterRecords('product', this)">产品</div>
    <div class="filter-tab" onclick="filterRecords('verified', this)">已验证</div>
  </div>

  <!-- 统计区 -->
  <div class="stats-bar">
    <div class="stat-item">
      <div class="stat-number" id="totalCount">28</div>
      <div class="stat-label">总溯源次数</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="cattleCount">12</div>
      <div class="stat-label">活牛溯源</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="beefCount">10</div>
      <div class="stat-label">牛肉溯源</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="productCount">6</div>
      <div class="stat-label">产品溯源</div>
    </div>
  </div>

  <!-- 日期分组 -->
  <div class="date-group">今天</div>

  <!-- 记录列表 -->
  <div class="record-list" id="recordList">
    <!-- 记录1 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1546445317-29f4545e9d53?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type cattle"><i class="mdi mdi-cow"></i>活牛</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">西门塔尔牛 公牛 580kg</div>
        <div class="record-code">溯源码: NY2024120001</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>10:32</span>
          <span><i class="mdi mdi-map-marker"></i>内蒙古通辽</span>
        </div>
      </div>
    </a>

    <!-- 记录2 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1588168333986-5078d3ae3976?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type beef"><i class="mdi mdi-food-steak"></i>牛肉</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">雪花牛肉 M5级 500g/盒</div>
        <div class="record-code">溯源码: NR2024120035</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>09:15</span>
          <span><i class="mdi mdi-map-marker"></i>北京朝阳</span>
        </div>
      </div>
    </a>
  </div>

  <!-- 日期分组 -->
  <div class="date-group">昨天</div>

  <!-- 记录列表 -->
  <div class="record-list">
    <!-- 记录3 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1570042225831-d98fa7577f1e?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type cattle"><i class="mdi mdi-cow"></i>活牛</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">安格斯牛 母牛 420kg</div>
        <div class="record-code">溯源码: NY2024119008</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>16:45</span>
          <span><i class="mdi mdi-map-marker"></i>吉林松原</span>
        </div>
      </div>
    </a>

    <!-- 记录4 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1603048297172-c92544798d5a?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type product"><i class="mdi mdi-package-variant"></i>产品</span>
          <span class="record-status warning"><i class="mdi mdi-alert-circle"></i>待验证</span>
        </div>
        <div class="record-title">有机牛肉干 原味 250g</div>
        <div class="record-code">溯源码: CP2024119022</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>14:20</span>
          <span><i class="mdi mdi-map-marker"></i>上海浦东</span>
        </div>
      </div>
    </a>

    <!-- 记录5 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1551028150-64b9f398f678?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type beef"><i class="mdi mdi-food-steak"></i>牛肉</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">牛腱子肉 新鲜 1kg/份</div>
        <div class="record-code">溯源码: NR2024119018</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>11:30</span>
          <span><i class="mdi mdi-map-marker"></i>北京海淀</span>
        </div>
      </div>
    </a>
  </div>

  <!-- 日期分组 -->
  <div class="date-group">更早</div>

  <!-- 记录列表 -->
  <div class="record-list">
    <!-- 记录6 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1558030006-450675393462?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type cattle"><i class="mdi mdi-cow"></i>活牛</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">夏洛莱牛 公牛 650kg</div>
        <div class="record-code">溯源码: NY2024118015</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>12月18日</span>
          <span><i class="mdi mdi-map-marker"></i>黑龙江齐齐哈尔</span>
        </div>
      </div>
    </a>

    <!-- 记录7 -->
    <a href="result.html" class="record-item">
      <div class="record-image">
        <img src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=200&h=200&fit=crop" alt="">
      </div>
      <div class="record-info">
        <div class="record-header">
          <span class="record-type beef"><i class="mdi mdi-food-steak"></i>牛肉</span>
          <span class="record-status verified"><i class="mdi mdi-check-circle"></i>已验证</span>
        </div>
        <div class="record-title">牛排套餐 西冷+眼肉 4片装</div>
        <div class="record-code">溯源码: NR2024117042</div>
        <div class="record-meta">
          <span><i class="mdi mdi-clock-outline"></i>12月17日</span>
          <span><i class="mdi mdi-map-marker"></i>广东深圳</span>
        </div>
      </div>
    </a>
  </div>

  <!-- 底部扫码按钮 -->
  <div class="scan-bar">
    <button class="scan-btn" onclick="goScan()">
      <i class="mdi mdi-qrcode-scan"></i>
      扫码溯源
    </button>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <script>
    let currentFilter = 'all';

    function filterRecords(type, element) {
      currentFilter = type;
      document.querySelectorAll('.filter-tab').forEach(tab => tab.classList.remove('active'));
      element.classList.add('active');

      // 模拟筛选
      showToast('筛选: ' + getFilterName(type));
    }

    function getFilterName(type) {
      const names = {
        'all': '全部',
        'cattle': '活牛',
        'beef': '牛肉',
        'product': '产品',
        'verified': '已验证'
      };
      return names[type] || type;
    }

    function searchRecords() {
      const keyword = document.getElementById('searchInput').value;
      if (keyword.length > 0) {
        console.log('搜索:', keyword);
      }
    }

    function clearHistory() {
      if (confirm('确定要清空所有溯源记录吗？')) {
        showToast('已清空溯源记录');
      }
    }

    function goScan() {
      window.location.href = 'scan.html';
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }
  </script>
</body>

</html>
