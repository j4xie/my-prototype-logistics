{
  "audit_metadata": {
    "file": "backend-java/src/main/java/com/cretas/aims/config/IntentKnowledgeBase.java",
    "audit_date": "2026-02-10",
    "total_put_calls": 2889,
    "total_unique_phrases": 2633,
    "total_unique_intents": 158,
    "total_duplicate_phrase_mappings": 50,
    "total_redundant_entries": 165,
    "wasted_entries": 256
  },
  "matching_method": [
    "matchPhrase: contains-based matching with coverage ratio threshold (40%)",
    "Exact match always passes, long phrases (>=4 chars) always pass",
    "STRONG_SHORT_PHRASES bypass coverage check",
    "Sorted by phrase length DESC (longest match first = most specific wins)",
    "Gap-tolerant matching allows particles between key terms (e.g. \"cold storage\" + \"de\" + \"temperature\")",
    "Pipeline: phraseMatch (0.98 conf) -> BERT classifier -> semantic router -> keyword match -> LLM fallback",
    "Preprocessing: tone word removal, oral->standard Chinese, coreference resolution",
    "VerbNoun disambiguation for create vs query confusion"
  ],
  "intent_phrase_counts": {
    "SHIPMENT_QUERY": 132,
    "MATERIAL_BATCH_QUERY": 128,
    "REPORT_DASHBOARD_OVERVIEW": 108,
    "QUALITY_CHECK_QUERY": 97,
    "ALERT_LIST": 93,
    "PRODUCTION_STATUS_QUERY": 75,
    "SCALE_LIST_DEVICES": 73,
    "PROCESSING_BATCH_LIST": 71,
    "REPORT_INVENTORY": 66,
    "QUALITY_STATS": 63,
    "ATTENDANCE_TODAY": 62,
    "REPORT_FINANCE": 59,
    "EQUIPMENT_STATS": 57,
    "EQUIPMENT_STATUS_QUERY": 47,
    "REPORT_PRODUCTION": 45,
    "REPORT_KPI": 43,
    "EQUIPMENT_MAINTENANCE": 43,
    "ORDER_LIST": 43,
    "REPORT_TRENDS": 42,
    "EQUIPMENT_LIST": 41,
    "ATTENDANCE_HISTORY": 40,
    "ALERT_ACTIVE": 38,
    "MATERIAL_BATCH_CREATE": 35,
    "SHIPMENT_STATS": 33,
    "SHIPMENT_CREATE": 30,
    "REPORT_EFFICIENCY": 27,
    "SCALE_DEVICE_DETAIL": 26,
    "SUPPLIER_EVALUATE": 25,
    "PROCESSING_BATCH_CREATE": 25,
    "EQUIPMENT_ALERT_LIST": 24,
    "ATTENDANCE_STATS": 23,
    "MATERIAL_LOW_STOCK_ALERT": 23,
    "ATTENDANCE_ANOMALY": 22,
    "SUPPLIER_QUERY": 22,
    "HOME_LAYOUT_UPDATE": 22,
    "ALERT_STATS": 21,
    "MATERIAL_EXPIRING_ALERT": 21,
    "QUALITY_CHECK_EXECUTE": 20,
    "TRACE_BATCH": 20,
    "COLD_CHAIN_TEMPERATURE": 20,
    "REPORT_QUALITY": 19,
    "TRACE_FULL": 19,
    "SUPPLIER_RANKING": 18,
    "MATERIAL_ADJUST_QUANTITY": 18,
    "SUPPLIER_LIST": 18,
    "SHIPMENT_UPDATE": 17,
    "PROCESSING_BATCH_TIMELINE": 17,
    "ISAPI_QUERY_DETECTION_EVENTS": 17,
    "SHIPMENT_BY_DATE": 16,
    "ISAPI_CONFIG_LINE_DETECTION": 16,
    "ALERT_ACKNOWLEDGE": 15,
    "COST_QUERY": 15,
    "ISAPI_CONFIG_FIELD_DETECTION": 15,
    "CLOCK_OUT": 14,
    "CLOCK_IN": 13,
    "CUSTOMER_PURCHASE_HISTORY": 13,
    "CUSTOMER_STATS": 12,
    "HOME_LAYOUT_GENERATE": 12,
    "MATERIAL_BATCH_CONSUME": 12,
    "DATA_BATCH_DELETE": 12,
    "PROCESSING_BATCH_CANCEL": 11,
    "ORDER_STATUS": 11,
    "ALERT_BY_LEVEL": 11,
    "PROCESSING_BATCH_DETAIL": 11,
    "ALERT_RESOLVE": 10,
    "QUALITY_DISPOSITION_EXECUTE": 10,
    "EQUIPMENT_DETAIL": 10,
    "ORDER_RANKING": 10,
    "PROCESSING_BATCH_START": 9,
    "EQUIPMENT_STOP": 9,
    "PROCESSING_BATCH_COMPLETE": 9,
    "SCALE_DELETE_DEVICE": 9,
    "HOME_LAYOUT_SUGGEST": 9,
    "EQUIPMENT_STATUS": 9,
    "ORDER_FILTER": 9,
    "PROCESSING_BATCH_PAUSE": 8,
    "CORRELATION_ANALYSIS": 8,
    "CUSTOMER_SEARCH": 8,
    "TRACE_PUBLIC": 8,
    "ALERT_DIAGNOSE": 8,
    "SCALE_ADD_DEVICE": 8,
    "SCALE_UPDATE_DEVICE": 8,
    "EQUIPMENT_STATUS_UPDATE": 8,
    "ORDER_MOM_ANALYSIS": 7,
    "MATERIAL_EXPIRED_QUERY": 6,
    "USER_DELETE": 6,
    "CONFIG_RESET": 6,
    "CUSTOMER_RANKING": 6,
    "ORDER_STATS": 6,
    "ATTENDANCE_MONTHLY": 5,
    "EQUIPMENT_START": 5,
    "MATERIAL_FIFO_RECOMMEND": 5,
    "QUALITY_CRITICAL_ITEMS": 5,
    "ORDER_DELETE": 5,
    "INVENTORY_CLEAR": 5,
    "ATTENDANCE_STATS_BY_DEPT": 5,
    "PROCESSING_RANKING": 5,
    "MATERIAL_RANKING": 5,
    "CUSTOMER_LIST": 4,
    "ORDER_TODAY": 4,
    "USER_CREATE": 4,
    "SHIPMENT_BY_CUSTOMER": 4,
    "USER_ROLE_ASSIGN": 4,
    "ATTENDANCE_RANKING": 4,
    "ORDER_YOY_ANALYSIS": 4,
    "CUSTOMER_FEEDBACK": 3,
    "PROCESSING_BATCH_RESUME": 3,
    "RULE_CONFIG": 3,
    "PAGE_GENERATE": 3,
    "PAGE_COMPONENT_ADD": 3,
    "PAGE_STYLE_UPDATE": 3,
    "SUPPLIER_BY_CATEGORY": 3,
    "REPORT_ANOMALY": 3,
    "EQUIPMENT_ALERT_STATS": 3,
    "SUPPLIER_SEARCH": 3,
    "ORDER_CREATE": 3,
    "ORDER_COMPARISON": 3,
    "ORDER_EXCLUDE_LIST": 3,
    "PROCESSING_WORKER_ASSIGN": 3,
    "SHIPMENT_STATUS_UPDATE": 3,
    "SHIPMENT_COMPARISON": 2,
    "SCHEDULING_SET_AUTO": 2,
    "CUSTOMER_ACTIVE": 2,
    "PAGE_DATA_BIND": 2,
    "MATERIAL_BATCH_RELEASE": 2,
    "CUSTOMER_QUERY": 2,
    "MATERIAL_BATCH_USE": 2,
    "USER_DISABLE": 2,
    "PRODUCT_UPDATE": 2,
    "BATCH_DELETE": 2,
    "CUSTOMER_DELETE": 2,
    "SUPPLIER_DELETE": 2,
    "SHIPMENT_RANKING": 2,
    "PROCESSING_MOM_ANALYSIS": 2,
    "PROCESSING_YOY_ANALYSIS": 2,
    "MATERIAL_EXCLUDE_LIST": 2,
    "ORDER_DETAIL": 1,
    "SCHEDULING_SET_MANUAL": 1,
    "FACTORY_FEATURE_TOGGLE": 1,
    "ATTENDANCE_DEPARTMENT": 1,
    "ATTENDANCE_RECORD": 1,
    "TRACE_GENERATE": 1,
    "ALERT_BY_EQUIPMENT": 1,
    "MATERIAL_BATCH_DELETE": 1,
    "SUPPLIER_COMPARISON": 1,
    "CUSTOMER_COMPARISON": 1,
    "PROCESSING_COMPARISON": 1,
    "QUALITY_COMPARISON": 1,
    "EQUIPMENT_COMPARISON": 1,
    "MATERIAL_COMPARISON": 1,
    "ATTENDANCE_COMPARISON": 1,
    "QUALITY_MOM_ANALYSIS": 1,
    "MATERIAL_MOM_ANALYSIS": 1,
    "ATTENDANCE_MOM_ANALYSIS": 1,
    "QUALITY_YOY_ANALYSIS": 1,
    "MATERIAL_YOY_ANALYSIS": 1,
    "ATTENDANCE_YOY_ANALYSIS": 1,
    "ORDER_CANCEL": 1
  },
  "intent_classification": {
    "well_covered_count": 64,
    "well_covered": {
      "SHIPMENT_QUERY": 132,
      "MATERIAL_BATCH_QUERY": 128,
      "REPORT_DASHBOARD_OVERVIEW": 108,
      "QUALITY_CHECK_QUERY": 97,
      "ALERT_LIST": 93,
      "PRODUCTION_STATUS_QUERY": 75,
      "SCALE_LIST_DEVICES": 73,
      "PROCESSING_BATCH_LIST": 71,
      "REPORT_INVENTORY": 66,
      "QUALITY_STATS": 63,
      "ATTENDANCE_TODAY": 62,
      "REPORT_FINANCE": 59,
      "EQUIPMENT_STATS": 57,
      "EQUIPMENT_STATUS_QUERY": 47,
      "REPORT_PRODUCTION": 45,
      "REPORT_KPI": 43,
      "EQUIPMENT_MAINTENANCE": 43,
      "ORDER_LIST": 43,
      "REPORT_TRENDS": 42,
      "EQUIPMENT_LIST": 41,
      "ATTENDANCE_HISTORY": 40,
      "ALERT_ACTIVE": 38,
      "MATERIAL_BATCH_CREATE": 35,
      "SHIPMENT_STATS": 33,
      "SHIPMENT_CREATE": 30,
      "REPORT_EFFICIENCY": 27,
      "SCALE_DEVICE_DETAIL": 26,
      "SUPPLIER_EVALUATE": 25,
      "PROCESSING_BATCH_CREATE": 25,
      "EQUIPMENT_ALERT_LIST": 24,
      "ATTENDANCE_STATS": 23,
      "MATERIAL_LOW_STOCK_ALERT": 23,
      "ATTENDANCE_ANOMALY": 22,
      "SUPPLIER_QUERY": 22,
      "HOME_LAYOUT_UPDATE": 22,
      "ALERT_STATS": 21,
      "MATERIAL_EXPIRING_ALERT": 21,
      "QUALITY_CHECK_EXECUTE": 20,
      "TRACE_BATCH": 20,
      "COLD_CHAIN_TEMPERATURE": 20,
      "REPORT_QUALITY": 19,
      "TRACE_FULL": 19,
      "SUPPLIER_RANKING": 18,
      "MATERIAL_ADJUST_QUANTITY": 18,
      "SUPPLIER_LIST": 18,
      "SHIPMENT_UPDATE": 17,
      "PROCESSING_BATCH_TIMELINE": 17,
      "ISAPI_QUERY_DETECTION_EVENTS": 17,
      "SHIPMENT_BY_DATE": 16,
      "ISAPI_CONFIG_LINE_DETECTION": 16,
      "ALERT_ACKNOWLEDGE": 15,
      "COST_QUERY": 15,
      "ISAPI_CONFIG_FIELD_DETECTION": 15,
      "CLOCK_OUT": 14,
      "CLOCK_IN": 13,
      "CUSTOMER_PURCHASE_HISTORY": 13,
      "CUSTOMER_STATS": 12,
      "HOME_LAYOUT_GENERATE": 12,
      "MATERIAL_BATCH_CONSUME": 12,
      "DATA_BATCH_DELETE": 12,
      "PROCESSING_BATCH_CANCEL": 11,
      "ORDER_STATUS": 11,
      "ALERT_BY_LEVEL": 11,
      "PROCESSING_BATCH_DETAIL": 11
    },
    "medium_count": 56,
    "medium": {
      "ALERT_RESOLVE": 10,
      "QUALITY_DISPOSITION_EXECUTE": 10,
      "EQUIPMENT_DETAIL": 10,
      "ORDER_RANKING": 10,
      "PROCESSING_BATCH_START": 9,
      "EQUIPMENT_STOP": 9,
      "PROCESSING_BATCH_COMPLETE": 9,
      "SCALE_DELETE_DEVICE": 9,
      "HOME_LAYOUT_SUGGEST": 9,
      "EQUIPMENT_STATUS": 9,
      "ORDER_FILTER": 9,
      "PROCESSING_BATCH_PAUSE": 8,
      "CORRELATION_ANALYSIS": 8,
      "CUSTOMER_SEARCH": 8,
      "TRACE_PUBLIC": 8,
      "ALERT_DIAGNOSE": 8,
      "SCALE_ADD_DEVICE": 8,
      "SCALE_UPDATE_DEVICE": 8,
      "EQUIPMENT_STATUS_UPDATE": 8,
      "ORDER_MOM_ANALYSIS": 7,
      "MATERIAL_EXPIRED_QUERY": 6,
      "USER_DELETE": 6,
      "CONFIG_RESET": 6,
      "CUSTOMER_RANKING": 6,
      "ORDER_STATS": 6,
      "ATTENDANCE_MONTHLY": 5,
      "EQUIPMENT_START": 5,
      "MATERIAL_FIFO_RECOMMEND": 5,
      "QUALITY_CRITICAL_ITEMS": 5,
      "ORDER_DELETE": 5,
      "INVENTORY_CLEAR": 5,
      "ATTENDANCE_STATS_BY_DEPT": 5,
      "PROCESSING_RANKING": 5,
      "MATERIAL_RANKING": 5,
      "CUSTOMER_LIST": 4,
      "ORDER_TODAY": 4,
      "USER_CREATE": 4,
      "SHIPMENT_BY_CUSTOMER": 4,
      "USER_ROLE_ASSIGN": 4,
      "ATTENDANCE_RANKING": 4,
      "ORDER_YOY_ANALYSIS": 4,
      "CUSTOMER_FEEDBACK": 3,
      "PROCESSING_BATCH_RESUME": 3,
      "RULE_CONFIG": 3,
      "PAGE_GENERATE": 3,
      "PAGE_COMPONENT_ADD": 3,
      "PAGE_STYLE_UPDATE": 3,
      "SUPPLIER_BY_CATEGORY": 3,
      "REPORT_ANOMALY": 3,
      "EQUIPMENT_ALERT_STATS": 3,
      "SUPPLIER_SEARCH": 3,
      "ORDER_CREATE": 3,
      "ORDER_COMPARISON": 3,
      "ORDER_EXCLUDE_LIST": 3,
      "PROCESSING_WORKER_ASSIGN": 3,
      "SHIPMENT_STATUS_UPDATE": 3
    },
    "undertrained_count": 38,
    "undertrained": {
      "SHIPMENT_COMPARISON": 2,
      "SCHEDULING_SET_AUTO": 2,
      "CUSTOMER_ACTIVE": 2,
      "PAGE_DATA_BIND": 2,
      "MATERIAL_BATCH_RELEASE": 2,
      "CUSTOMER_QUERY": 2,
      "MATERIAL_BATCH_USE": 2,
      "USER_DISABLE": 2,
      "PRODUCT_UPDATE": 2,
      "BATCH_DELETE": 2,
      "CUSTOMER_DELETE": 2,
      "SUPPLIER_DELETE": 2,
      "SHIPMENT_RANKING": 2,
      "PROCESSING_MOM_ANALYSIS": 2,
      "PROCESSING_YOY_ANALYSIS": 2,
      "MATERIAL_EXCLUDE_LIST": 2,
      "ORDER_DETAIL": 1,
      "SCHEDULING_SET_MANUAL": 1,
      "FACTORY_FEATURE_TOGGLE": 1,
      "ATTENDANCE_DEPARTMENT": 1,
      "ATTENDANCE_RECORD": 1,
      "TRACE_GENERATE": 1,
      "ALERT_BY_EQUIPMENT": 1,
      "MATERIAL_BATCH_DELETE": 1,
      "SUPPLIER_COMPARISON": 1,
      "CUSTOMER_COMPARISON": 1,
      "PROCESSING_COMPARISON": 1,
      "QUALITY_COMPARISON": 1,
      "EQUIPMENT_COMPARISON": 1,
      "MATERIAL_COMPARISON": 1,
      "ATTENDANCE_COMPARISON": 1,
      "QUALITY_MOM_ANALYSIS": 1,
      "MATERIAL_MOM_ANALYSIS": 1,
      "ATTENDANCE_MOM_ANALYSIS": 1,
      "QUALITY_YOY_ANALYSIS": 1,
      "MATERIAL_YOY_ANALYSIS": 1,
      "ATTENDANCE_YOY_ANALYSIS": 1,
      "ORDER_CANCEL": 1
    }
  },
  "undertrained_details": {
    "SHIPMENT_COMPARISON": {
      "count": 2,
      "phrases": [
        "发货量对比",
        "出货量对比"
      ]
    },
    "SCHEDULING_SET_AUTO": {
      "count": 2,
      "phrases": [
        "排产改为自动",
        "开启自动排产"
      ]
    },
    "CUSTOMER_ACTIVE": {
      "count": 2,
      "phrases": [
        "活跃客户列表",
        "活跃客户"
      ]
    },
    "PAGE_DATA_BIND": {
      "count": 2,
      "phrases": [
        "绑定数据",
        "连接数据"
      ]
    },
    "MATERIAL_BATCH_RELEASE": {
      "count": 2,
      "phrases": [
        "释放原料",
        "原料释放"
      ]
    },
    "CUSTOMER_QUERY": {
      "count": 2,
      "phrases": [
        "近期的客户反馈",
        "近期客户反馈"
      ]
    },
    "MATERIAL_BATCH_USE": {
      "count": 2,
      "phrases": [
        "使用原料",
        "原料使用"
      ]
    },
    "USER_DISABLE": {
      "count": 2,
      "phrases": [
        "禁用用户",
        "停用用户"
      ]
    },
    "PRODUCT_UPDATE": {
      "count": 2,
      "phrases": [
        "产品更新",
        "更新产品"
      ]
    },
    "BATCH_DELETE": {
      "count": 2,
      "phrases": [
        "删除发货记录",
        "批量删除"
      ]
    },
    "CUSTOMER_DELETE": {
      "count": 2,
      "phrases": [
        "删除客户",
        "移除客户"
      ]
    },
    "SUPPLIER_DELETE": {
      "count": 2,
      "phrases": [
        "删除供应商",
        "移除供应商"
      ]
    },
    "SHIPMENT_RANKING": {
      "count": 2,
      "phrases": [
        "发货排名",
        "出货排名"
      ]
    },
    "PROCESSING_MOM_ANALYSIS": {
      "count": 2,
      "phrases": [
        "产量环比",
        "产量比上月"
      ]
    },
    "PROCESSING_YOY_ANALYSIS": {
      "count": 2,
      "phrases": [
        "产量同比",
        "产量比去年"
      ]
    },
    "MATERIAL_EXCLUDE_LIST": {
      "count": 2,
      "phrases": [
        "除了过期的原料",
        "不包括已消耗的物料"
      ]
    },
    "ORDER_DETAIL": {
      "count": 1,
      "phrases": [
        "订单详情"
      ]
    },
    "SCHEDULING_SET_MANUAL": {
      "count": 1,
      "phrases": [
        "改为人工排产"
      ]
    },
    "FACTORY_FEATURE_TOGGLE": {
      "count": 1,
      "phrases": [
        "切换功能状态"
      ]
    },
    "ATTENDANCE_DEPARTMENT": {
      "count": 1,
      "phrases": [
        "部门考勤"
      ]
    },
    "ATTENDANCE_RECORD": {
      "count": 1,
      "phrases": [
        "记录考勤"
      ]
    },
    "TRACE_GENERATE": {
      "count": 1,
      "phrases": [
        "生成溯源报告"
      ]
    },
    "ALERT_BY_EQUIPMENT": {
      "count": 1,
      "phrases": [
        "按设备警报"
      ]
    },
    "MATERIAL_BATCH_DELETE": {
      "count": 1,
      "phrases": [
        "删除原料"
      ]
    },
    "SUPPLIER_COMPARISON": {
      "count": 1,
      "phrases": [
        "供应商对比"
      ]
    },
    "CUSTOMER_COMPARISON": {
      "count": 1,
      "phrases": [
        "客户对比"
      ]
    },
    "PROCESSING_COMPARISON": {
      "count": 1,
      "phrases": [
        "车间产量对比"
      ]
    },
    "QUALITY_COMPARISON": {
      "count": 1,
      "phrases": [
        "质检对比"
      ]
    },
    "EQUIPMENT_COMPARISON": {
      "count": 1,
      "phrases": [
        "设备对比"
      ]
    },
    "MATERIAL_COMPARISON": {
      "count": 1,
      "phrases": [
        "库存对比"
      ]
    },
    "ATTENDANCE_COMPARISON": {
      "count": 1,
      "phrases": [
        "考勤对比"
      ]
    },
    "QUALITY_MOM_ANALYSIS": {
      "count": 1,
      "phrases": [
        "质检环比"
      ]
    },
    "MATERIAL_MOM_ANALYSIS": {
      "count": 1,
      "phrases": [
        "库存环比"
      ]
    },
    "ATTENDANCE_MOM_ANALYSIS": {
      "count": 1,
      "phrases": [
        "考勤环比"
      ]
    },
    "QUALITY_YOY_ANALYSIS": {
      "count": 1,
      "phrases": [
        "质检同比"
      ]
    },
    "MATERIAL_YOY_ANALYSIS": {
      "count": 1,
      "phrases": [
        "库存同比"
      ]
    },
    "ATTENDANCE_YOY_ANALYSIS": {
      "count": 1,
      "phrases": [
        "考勤同比"
      ]
    },
    "ORDER_CANCEL": {
      "count": 1,
      "phrases": [
        "订单自动取消"
      ]
    }
  },
  "duplicate_phrase_mappings": [
    {
      "phrase": "ERP订单",
      "intents": [
        "PROCESSING_BATCH_LIST",
        "ORDER_LIST"
      ],
      "final_winner": "ORDER_LIST",
      "count": 2
    },
    {
      "phrase": "KPI报表",
      "intents": [
        "REPORT_KPI",
        "REPORT_DASHBOARD_OVERVIEW"
      ],
      "final_winner": "REPORT_DASHBOARD_OVERVIEW",
      "count": 2
    },
    {
      "phrase": "不良品",
      "intents": [
        "QUALITY_DISPOSITION_EXECUTE",
        "QUALITY_CHECK_QUERY"
      ],
      "final_winner": "QUALITY_CHECK_QUERY",
      "count": 2
    },
    {
      "phrase": "交货准时率",
      "intents": [
        "SUPPLIER_RANKING",
        "SUPPLIER_EVALUATE"
      ],
      "final_winner": "SUPPLIER_EVALUATE",
      "count": 2
    },
    {
      "phrase": "产品溯源文档",
      "intents": [
        "TRACE_BATCH",
        "QUALITY_CHECK_QUERY"
      ],
      "final_winner": "QUALITY_CHECK_QUERY",
      "count": 2
    },
    {
      "phrase": "产能利用率",
      "intents": [
        "REPORT_PRODUCTION",
        "PRODUCTION_STATUS_QUERY"
      ],
      "final_winner": "PRODUCTION_STATUS_QUERY",
      "count": 2
    },
    {
      "phrase": "产量对比",
      "intents": [
        "PROCESSING_COMPARISON",
        "REPORT_PRODUCTION"
      ],
      "final_winner": "REPORT_PRODUCTION",
      "count": 2
    },
    {
      "phrase": "今天做了多少",
      "intents": [
        "PRODUCTION_STATUS_QUERY",
        "REPORT_PRODUCTION"
      ],
      "final_winner": "REPORT_PRODUCTION",
      "count": 2
    },
    {
      "phrase": "今天忙不忙",
      "intents": [
        "PRODUCTION_STATUS_QUERY",
        "REPORT_DASHBOARD_OVERVIEW"
      ],
      "final_winner": "REPORT_DASHBOARD_OVERVIEW",
      "count": 2
    },
    {
      "phrase": "今日生产进度",
      "intents": [
        "REPORT_PRODUCTION",
        "PROCESSING_BATCH_LIST"
      ],
      "final_winner": "PROCESSING_BATCH_LIST",
      "count": 2
    },
    {
      "phrase": "供应商交货",
      "intents": [
        "SUPPLIER_EVALUATE",
        "SUPPLIER_RANKING"
      ],
      "final_winner": "SUPPLIER_RANKING",
      "count": 2
    },
    {
      "phrase": "供应商信息",
      "intents": [
        "SUPPLIER_LIST",
        "SUPPLIER_QUERY"
      ],
      "final_winner": "SUPPLIER_QUERY",
      "count": 2
    },
    {
      "phrase": "停止生产",
      "intents": [
        "PROCESSING_BATCH_CANCEL",
        "PROCESSING_BATCH_PAUSE"
      ],
      "final_winner": "PROCESSING_BATCH_CANCEL",
      "count": 3
    },
    {
      "phrase": "出库单",
      "intents": [
        "SHIPMENT_QUERY",
        "SHIPMENT_CREATE"
      ],
      "final_winner": "SHIPMENT_CREATE",
      "count": 2
    },
    {
      "phrase": "出货量",
      "intents": [
        "SHIPMENT_QUERY",
        "SHIPMENT_STATS"
      ],
      "final_winner": "SHIPMENT_STATS",
      "count": 2
    },
    {
      "phrase": "删除物料",
      "intents": [
        "MATERIAL_BATCH_DELETE",
        "DATA_BATCH_DELETE"
      ],
      "final_winner": "DATA_BATCH_DELETE",
      "count": 2
    },
    {
      "phrase": "发货数据",
      "intents": [
        "SHIPMENT_QUERY",
        "SHIPMENT_STATS"
      ],
      "final_winner": "SHIPMENT_STATS",
      "count": 2
    },
    {
      "phrase": "发货量对比",
      "intents": [
        "SHIPMENT_STATS",
        "SHIPMENT_COMPARISON"
      ],
      "final_winner": "SHIPMENT_COMPARISON",
      "count": 2
    },
    {
      "phrase": "取消订单",
      "intents": [
        "ORDER_CANCEL",
        "ORDER_DELETE"
      ],
      "final_winner": "ORDER_DELETE",
      "count": 2
    },
    {
      "phrase": "合格率",
      "intents": [
        "QUALITY_CHECK_QUERY",
        "QUALITY_STATS"
      ],
      "final_winner": "QUALITY_STATS",
      "count": 3
    },
    {
      "phrase": "启动生产线",
      "intents": [
        "EQUIPMENT_START",
        "PROCESSING_BATCH_START"
      ],
      "final_winner": "PROCESSING_BATCH_START",
      "count": 2
    },
    {
      "phrase": "告警已处理",
      "intents": [
        "ALERT_RESOLVE",
        "ALERT_ACKNOWLEDGE"
      ],
      "final_winner": "ALERT_ACKNOWLEDGE",
      "count": 3
    },
    {
      "phrase": "处理告警",
      "intents": [
        "ALERT_RESOLVE",
        "ALERT_ACKNOWLEDGE"
      ],
      "final_winner": "ALERT_ACKNOWLEDGE",
      "count": 2
    },
    {
      "phrase": "库存够用吗",
      "intents": [
        "REPORT_INVENTORY",
        "MATERIAL_LOW_STOCK_ALERT"
      ],
      "final_winner": "MATERIAL_LOW_STOCK_ALERT",
      "count": 2
    },
    {
      "phrase": "库存足够吗",
      "intents": [
        "MATERIAL_LOW_STOCK_ALERT",
        "REPORT_INVENTORY"
      ],
      "final_winner": "REPORT_INVENTORY",
      "count": 2
    },
    {
      "phrase": "成本核算数据",
      "intents": [
        "REPORT_FINANCE",
        "SHIPMENT_STATS"
      ],
      "final_winner": "SHIPMENT_STATS",
      "count": 2
    },
    {
      "phrase": "排班",
      "intents": [
        "ATTENDANCE_HISTORY",
        "ATTENDANCE_STATS"
      ],
      "final_winner": "ATTENDANCE_STATS",
      "count": 2
    },
    {
      "phrase": "日报",
      "intents": [
        "REPORT_DASHBOARD_OVERVIEW",
        "REPORT_PRODUCTION"
      ],
      "final_winner": "REPORT_PRODUCTION",
      "count": 2
    },
    {
      "phrase": "未处理告警",
      "intents": [
        "ALERT_ACTIVE",
        "ALERT_LIST"
      ],
      "final_winner": "ALERT_LIST",
      "count": 2
    },
    {
      "phrase": "未处理的告警",
      "intents": [
        "ALERT_ACTIVE",
        "ALERT_LIST"
      ],
      "final_winner": "ALERT_LIST",
      "count": 2
    },
    {
      "phrase": "本周发货统计",
      "intents": [
        "SHIPMENT_STATS",
        "SHIPMENT_BY_DATE"
      ],
      "final_winner": "SHIPMENT_BY_DATE",
      "count": 2
    },
    {
      "phrase": "本周考勤",
      "intents": [
        "ATTENDANCE_HISTORY",
        "ATTENDANCE_STATS"
      ],
      "final_winner": "ATTENDANCE_STATS",
      "count": 2
    },
    {
      "phrase": "本月销售额",
      "intents": [
        "REPORT_DASHBOARD_OVERVIEW",
        "REPORT_FINANCE"
      ],
      "final_winner": "REPORT_FINANCE",
      "count": 2
    },
    {
      "phrase": "机器有事儿没",
      "intents": [
        "EQUIPMENT_ALERT_LIST",
        "EQUIPMENT_STATS"
      ],
      "final_winner": "EQUIPMENT_STATS",
      "count": 2
    },
    {
      "phrase": "查库存",
      "intents": [
        "MATERIAL_BATCH_QUERY",
        "REPORT_INVENTORY"
      ],
      "final_winner": "REPORT_INVENTORY",
      "count": 2
    },
    {
      "phrase": "添加设备",
      "intents": [
        "EQUIPMENT_LIST",
        "EQUIPMENT_MAINTENANCE"
      ],
      "final_winner": "EQUIPMENT_MAINTENANCE",
      "count": 2
    },
    {
      "phrase": "紧急的事情",
      "intents": [
        "ALERT_LIST",
        "ALERT_ACTIVE"
      ],
      "final_winner": "ALERT_ACTIVE",
      "count": 2
    },
    {
      "phrase": "缺勤情况",
      "intents": [
        "ATTENDANCE_HISTORY",
        "ATTENDANCE_ANOMALY"
      ],
      "final_winner": "ATTENDANCE_ANOMALY",
      "count": 2
    },
    {
      "phrase": "考勤怎么样",
      "intents": [
        "ATTENDANCE_TODAY",
        "ATTENDANCE_STATS"
      ],
      "final_winner": "ATTENDANCE_STATS",
      "count": 2
    },
    {
      "phrase": "考勤情况",
      "intents": [
        "ATTENDANCE_TODAY",
        "ATTENDANCE_STATS"
      ],
      "final_winner": "ATTENDANCE_STATS",
      "count": 2
    },
    {
      "phrase": "考勤统计",
      "intents": [
        "ATTENDANCE_HISTORY",
        "ATTENDANCE_STATS"
      ],
      "final_winner": "ATTENDANCE_STATS",
      "count": 2
    },
    {
      "phrase": "设备利用率",
      "intents": [
        "REPORT_EFFICIENCY",
        "EQUIPMENT_STATS"
      ],
      "final_winner": "EQUIPMENT_STATS",
      "count": 3
    },
    {
      "phrase": "设备咋样",
      "intents": [
        "EQUIPMENT_STATS",
        "EQUIPMENT_STATUS_QUERY"
      ],
      "final_winner": "EQUIPMENT_STATUS_QUERY",
      "count": 2
    },
    {
      "phrase": "设备故障",
      "intents": [
        "EQUIPMENT_STATUS_QUERY",
        "EQUIPMENT_ALERT_LIST"
      ],
      "final_winner": "EQUIPMENT_ALERT_LIST",
      "count": 2
    },
    {
      "phrase": "质量情况",
      "intents": [
        "REPORT_QUALITY",
        "QUALITY_STATS"
      ],
      "final_winner": "QUALITY_STATS",
      "count": 2
    },
    {
      "phrase": "质量问题",
      "intents": [
        "REPORT_QUALITY",
        "QUALITY_CHECK_QUERY"
      ],
      "final_winner": "QUALITY_CHECK_QUERY",
      "count": 2
    },
    {
      "phrase": "迟到早退",
      "intents": [
        "ATTENDANCE_STATS",
        "ATTENDANCE_MONTHLY"
      ],
      "final_winner": "ATTENDANCE_MONTHLY",
      "count": 2
    },
    {
      "phrase": "销售排名",
      "intents": [
        "REPORT_KPI",
        "ORDER_RANKING",
        "REPORT_FINANCE"
      ],
      "final_winner": "REPORT_FINANCE",
      "count": 3
    },
    {
      "phrase": "销售额",
      "intents": [
        "REPORT_DASHBOARD_OVERVIEW",
        "REPORT_FINANCE"
      ],
      "final_winner": "REPORT_FINANCE",
      "count": 3
    },
    {
      "phrase": "需要审批的",
      "intents": [
        "ALERT_LIST",
        "SHIPMENT_QUERY"
      ],
      "final_winner": "SHIPMENT_QUERY",
      "count": 2
    }
  ],
  "redundant_entries_top20": [
    {
      "phrase": "创建发货单",
      "intent": "SHIPMENT_CREATE",
      "count": 5
    },
    {
      "phrase": "趋势分析",
      "intent": "REPORT_TRENDS",
      "count": 4
    },
    {
      "phrase": "新建发货",
      "intent": "SHIPMENT_CREATE",
      "count": 4
    },
    {
      "phrase": "设备状态",
      "intent": "EQUIPMENT_STATUS_QUERY",
      "count": 4
    },
    {
      "phrase": "暂停生产",
      "intent": "PROCESSING_BATCH_PAUSE",
      "count": 4
    },
    {
      "phrase": "历史告警",
      "intent": "ALERT_LIST",
      "count": 4
    },
    {
      "phrase": "发货订单金额",
      "intent": "SHIPMENT_STATS",
      "count": 3
    },
    {
      "phrase": "关闭设备",
      "intent": "EQUIPMENT_STOP",
      "count": 3
    },
    {
      "phrase": "解决告警",
      "intent": "ALERT_RESOLVE",
      "count": 3
    },
    {
      "phrase": "效率报告",
      "intent": "REPORT_EFFICIENCY",
      "count": 3
    },
    {
      "phrase": "发货进度",
      "intent": "SHIPMENT_QUERY",
      "count": 3
    },
    {
      "phrase": "供应商排名",
      "intent": "SUPPLIER_RANKING",
      "count": 3
    },
    {
      "phrase": "发货查询",
      "intent": "SHIPMENT_QUERY",
      "count": 3
    },
    {
      "phrase": "看发货",
      "intent": "SHIPMENT_QUERY",
      "count": 3
    },
    {
      "phrase": "发出去了吗",
      "intent": "SHIPMENT_QUERY",
      "count": 3
    },
    {
      "phrase": "今日生产",
      "intent": "REPORT_PRODUCTION",
      "count": 3
    },
    {
      "phrase": "质检记录",
      "intent": "QUALITY_CHECK_QUERY",
      "count": 3
    },
    {
      "phrase": "执行质检",
      "intent": "QUALITY_CHECK_EXECUTE",
      "count": 3
    },
    {
      "phrase": "预警监控平台",
      "intent": "ALERT_LIST",
      "count": 3
    },
    {
      "phrase": "设备运维管理",
      "intent": "EQUIPMENT_MAINTENANCE",
      "count": 3
    }
  ],
  "domain_gaps": [
    {
      "domain": "Preventive Maintenance / TPM",
      "description": "Only EQUIPMENT_MAINTENANCE exists. Missing: preventive maintenance schedules, TPM metrics (MTBF/MTTR), spare parts inventory, maintenance work orders, calibration tracking",
      "existing_intents": [
        "EQUIPMENT_MAINTENANCE"
      ],
      "severity": "HIGH"
    },
    {
      "domain": "Cold Chain Compliance",
      "description": "Only COLD_CHAIN_TEMPERATURE exists (20 phrases). Missing: cold chain breach alerts, compliance reports, temperature log export, humidity monitoring, cold chain certification status",
      "existing_intents": [
        "COLD_CHAIN_TEMPERATURE"
      ],
      "severity": "HIGH"
    },
    {
      "domain": "Lab Testing / Food Safety Testing",
      "description": "No dedicated lab testing intents. Missing: microbiological test results, chemical analysis (heavy metals, pesticide residue), shelf life testing, lab sample tracking, third-party test certificates",
      "existing_intents": [],
      "severity": "HIGH"
    },
    {
      "domain": "Financial Ratios / P&L / Budgeting",
      "description": "Only REPORT_FINANCE and COST_QUERY exist. Missing: gross margin analysis, budget vs actual, cash flow, accounts receivable/payable aging, break-even analysis, financial forecasting",
      "existing_intents": [
        "REPORT_FINANCE",
        "COST_QUERY"
      ],
      "severity": "MEDIUM"
    },
    {
      "domain": "Product Recall Management",
      "description": "No recall management intents. Missing: recall initiation, affected batch identification, recall status tracking, recall notification, recall completion report. Critical for food safety.",
      "existing_intents": [],
      "severity": "CRITICAL"
    },
    {
      "domain": "Regulatory Compliance / Certifications",
      "description": "No regulatory compliance intents. Missing: FDA/CFDA compliance status, ISO22000 audit tracking, organic/halal/kosher certification, regulatory document management, compliance gap analysis",
      "existing_intents": [],
      "severity": "HIGH"
    },
    {
      "domain": "Waste Management / Yield Optimization",
      "description": "No waste/yield intents. Missing: waste tracking by category, yield rate analysis, scrap reasons analysis, waste reduction trends, by-product utilization",
      "existing_intents": [],
      "severity": "MEDIUM"
    },
    {
      "domain": "Energy / Utilities Management",
      "description": "No energy/utilities intents. Missing: electricity consumption tracking, water usage, gas consumption, utility cost analysis, energy efficiency metrics, carbon footprint",
      "existing_intents": [],
      "severity": "MEDIUM"
    },
    {
      "domain": "Cleaning / Sanitation (CIP)",
      "description": "No cleaning/sanitation intents. Missing: CIP (Clean-in-Place) scheduling, sanitation verification, cleaning chemical tracking, hygiene audit results, allergen control",
      "existing_intents": [],
      "severity": "HIGH"
    },
    {
      "domain": "Packaging / Labeling",
      "description": "No packaging/labeling intents. Missing: packaging material inventory, label verification, packaging line status, packaging defect tracking, label compliance check",
      "existing_intents": [],
      "severity": "LOW"
    },
    {
      "domain": "Recipe / Formulation Management",
      "description": "No recipe management intents. Missing: recipe lookup, ingredient substitution, batch scaling calculations, recipe version control, allergen declaration per recipe",
      "existing_intents": [],
      "severity": "MEDIUM"
    },
    {
      "domain": "Pest Control",
      "description": "No pest control intents. Missing: pest inspection records, bait station monitoring, pest trend analysis, corrective action tracking",
      "existing_intents": [],
      "severity": "LOW"
    }
  ],
  "other_knowledge_structures": {
    "map_and_set_fields": [
      "conversationalIndicators",
      "createIndicators",
      "deleteIndicators",
      "generalQuestionIndicators",
      "intentQueryMarkers",
      "intentToDomainCache",
      "intentUpdateMarkers",
      "meaningfulEnglishWords",
      "phraseToIntentMapping",
      "queryIndicators",
      "shortInputStopWords",
      "stopWords",
      "updateIndicators"
    ],
    "enums": [
      "ActionType",
      "Domain",
      "Granularity",
      "QuestionType"
    ],
    "synonym_mappings_count": 0,
    "has_conversational_indicators": true,
    "has_strong_short_phrases": true,
    "has_domain_keywords": true,
    "has_stop_words": true,
    "has_action_indicators": false,
    "has_general_question_indicators": true,
    "has_verb_noun_disambiguation": true,
    "has_granularity_detection": true,
    "has_gap_tolerant_matching": true
  },
  "summary": {
    "strengths": [
      "64 intents with >10 phrases each (well-covered)",
      "2633 unique phrase mappings total",
      "Comprehensive coverage of core domains: production, equipment, quality, shipment, materials, alerts",
      "Good colloquial/dialect Chinese coverage (oral expressions, factory slang)",
      "Industry jargon mapped: HACCP, CCP, GMP, OEE, SPC, BOM, FIFO, WMS, TMS, ERP, SCADA",
      "Multi-layer matching pipeline: phrase match -> BERT classifier -> semantic router -> LLM fallback",
      "Typo tolerance (e.g., 考琴记录 -> ATTENDANCE_HISTORY)",
      "Gap-tolerant matching allows particles between key terms",
      "Strong short phrases bypass coverage ratio check for unambiguous 2-char verbs"
    ],
    "weaknesses": [
      "38 intents have < 3 phrases (undertrained, unreliable matching)",
      "50 phrases map to different intents (HashMap last-write-wins creates silent bugs)",
      "165 redundant .put() calls (same phrase, same intent, wasted)",
      "256 total wasted .put() calls (overwritten or duplicate)",
      "No recall management intents (critical for food safety)",
      "No lab testing / food safety testing intents",
      "No regulatory compliance intents (FDA, CFDA, ISO22000)",
      "No CIP/sanitation intents",
      "No recipe/formulation management intents",
      "No waste/yield tracking intents",
      "No energy/utilities management intents",
      "Comparison/MoM/YoY intents have only 1-2 phrases each (undertrained)",
      "Some duplicate phrases silently lose intended mapping (e.g., \"出库单\" overwrites SHIPMENT_QUERY with SHIPMENT_CREATE)",
      "File is 5000+ lines of hardcoded .put() calls - difficult to maintain and review"
    ],
    "recommendations": [
      "PRIORITY 1: Add recall management intents (regulatory requirement for food manufacturing)",
      "PRIORITY 2: Expand all 38 undertrained intents to at least 5 phrases each",
      "PRIORITY 3: Resolve 50 duplicate phrase conflicts (audit each, choose correct intent, remove duplicate)",
      "PRIORITY 4: Remove 165+ redundant .put() calls to reduce file size and confusion",
      "PRIORITY 5: Add food safety testing / lab result intents",
      "PRIORITY 6: Add regulatory compliance / certification tracking intents",
      "PRIORITY 7: Add CIP/sanitation, waste management, recipe management intents",
      "CONSIDER: Refactor phrase mappings to a structured data file (JSON/YAML) loaded at startup instead of hardcoded .put() calls"
    ]
  }
}