# AIæ„å›¾è¯†åˆ«æµ‹è¯•æ¡†æ¶ - äº¤ä»˜æˆæœ

## äº¤ä»˜æ¦‚è§ˆ

æœ¬æ¬¡äº¤ä»˜ä¸ºAIæ„å›¾è¯†åˆ«ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„æµ‹è¯•æ¡†æ¶ï¼ŒåŒ…æ‹¬Bashè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬å’ŒJavaå•å…ƒæµ‹è¯•å·¥å…·ç±»ã€‚

**äº¤ä»˜æ—¥æœŸ:** 2026-01-16
**ç‰ˆæœ¬:** 1.0.0

---

## äº¤ä»˜æ¸…å•

### ğŸ“ Bashæµ‹è¯•æ¡†æ¶

#### 1. å¯æ‰§è¡Œè„šæœ¬ (3ä¸ª)

```
tests/ai-intent/
â”œâ”€â”€ test_runner.sh              â­ ä¸»æµ‹è¯•æ‰§è¡Œå™¨ (17KB, 500+è¡Œ)
â”œâ”€â”€ check_environment.sh        â­ ç¯å¢ƒæ£€æŸ¥å·¥å…· (8KB, 250+è¡Œ)
â””â”€â”€ lib/
    â””â”€â”€ test_utils.sh          â­ å·¥å…·å‡½æ•°åº“ (9KB, 300+è¡Œ)
```

**æ ¸å¿ƒåŠŸèƒ½:**
- âœ… JSONæµ‹è¯•ç”¨ä¾‹è§£æå’Œæ‰§è¡Œ
- âœ… å‘½ä»¤è¡Œè¿‡æ»¤ (ä¼˜å…ˆçº§/ç±»åˆ«/ID)
- âœ… æ•°æ®åº“æµ‹è¯•æ•°æ®å‡†å¤‡å’Œæ¸…ç†
- âœ… APIè°ƒç”¨å’Œå“åº”éªŒè¯
- âœ… 4å±‚éªŒè¯ä½“ç³» (Level 1-4)
- âœ… Markdownæµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—

**ä½¿ç”¨æ–¹å¼:**
```bash
# å¿«é€ŸéªŒè¯ç¯å¢ƒ
./check_environment.sh

# æ‰§è¡Œæµ‹è¯•
./test_runner.sh --file test-cases-example.json

# æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤
./test_runner.sh --file test-cases-example.json --priority P0

# æŸ¥çœ‹å¸®åŠ©
./test_runner.sh --help
```

#### 2. æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ (1ä¸ª)

```
tests/ai-intent/
â””â”€â”€ test-cases-example.json     â­ ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹ (5ä¸ªæµ‹è¯•)
```

**æµ‹è¯•è¦†ç›–:**
- P0ä¼˜å…ˆçº§: 3ä¸ª (æ ¸å¿ƒåŠŸèƒ½)
- P1ä¼˜å…ˆçº§: 1ä¸ª (é‡è¦åŠŸèƒ½)
- P2ä¼˜å…ˆçº§: 1ä¸ª (ä¸€èˆ¬åŠŸèƒ½)

**æµ‹è¯•ç±»åˆ«:**
- MATERIAL (ç‰©æ–™): 3ä¸ª
- INVENTORY (åº“å­˜): 1ä¸ª
- CHITCHAT (é—²èŠ): 1ä¸ª

#### 3. æ–‡æ¡£ (4ä¸ª)

```
tests/ai-intent/
â”œâ”€â”€ README.md                   â­ å®Œæ•´ä½¿ç”¨æ–‡æ¡£ (500+è¡Œ)
â”œâ”€â”€ QUICKSTART.md              â­ 5åˆ†é’Ÿå¿«é€Ÿå…¥é—¨
â”œâ”€â”€ PROJECT_SUMMARY.md         â­ é¡¹ç›®æŠ€æœ¯æ€»ç»“
â””â”€â”€ DELIVERABLES.md            â­ æœ¬æ–‡æ¡£
```

---

### ğŸ“ Javaæµ‹è¯•æ¡†æ¶

#### 1. å·¥å…·ç±» (2ä¸ª)

```
backend-java/src/test/java/com/cretas/aims/test/util/
â”œâ”€â”€ LLMValidator.java           â­ LLMè¯­ä¹‰éªŒè¯å™¨ (450è¡Œ)
â””â”€â”€ TestDataSetup.java         â­ æµ‹è¯•æ•°æ®ç®¡ç† (350è¡Œ)
```

**LLMValidator åŠŸèƒ½:**
```java
// è¯­ä¹‰éªŒè¯
ValidationResult result = llmValidator.validateSemantic(
    "ç”¨æˆ·é—®é¢˜", responseJson, "è¯„ä¼°æ ‡å‡†"
);

// è´¨é‡è¯„ä¼° (5ç»´åº¦)
QualityScore score = llmValidator.evaluateQuality(
    "ç”¨æˆ·é—®é¢˜", responseJson
);

// æ‰¹é‡éªŒè¯
BatchValidationResult batch = llmValidator.validateBatch(testCases);
```

**TestDataSetup åŠŸèƒ½:**
```java
// å‡†å¤‡æµ‹è¯•æ•°æ®
testDataSetup.setupTestData("INSERT INTO ...");

// æŸ¥è¯¢éªŒè¯
int count = testDataSetup.getCount("table", "where clause");
boolean exists = testDataSetup.exists("table", "where clause");

// æ¸…ç†æ•°æ®
testDataSetup.cleanupTestData("DELETE FROM ...");
```

#### 2. æµ‹è¯•åŸºç±» (1ä¸ª)

```
backend-java/src/test/java/com/cretas/aims/test/
â””â”€â”€ IntentTestBase.java         â­ æµ‹è¯•åŸºç±» (550è¡Œ, 30+æ–¹æ³•)
```

**æä¾›çš„æ–­è¨€æ–¹æ³•:**

**Level 1 - å“åº”éªŒè¯:**
- `assertSuccess()` / `assertFailure()`
- `assertIntentType()`
- `assertConfidence()`
- `validateResponse()`

**Level 2 - æ•°æ®éªŒè¯:**
- `assertResultsNotEmpty()`
- `assertResultCount()` / `assertMinResultCount()`
- `validateRequiredFields()`
- `validateData()`

**Level 3 - è¯­ä¹‰éªŒè¯:**
- `validateSemantic()` - LLMè¯­ä¹‰éªŒè¯
- `evaluateQuality()` - 5ç»´åº¦è´¨é‡è¯„ä¼°

**Level 4 - æ•°æ®åº“éªŒè¯:**
- `assertDatabaseCount()`
- `assertDatabaseExists()` / `assertDatabaseNotExists()`

#### 3. ç¤ºä¾‹æµ‹è¯• (1ä¸ª)

```
backend-java/src/test/java/com/cretas/aims/test/
â””â”€â”€ MaterialIntentTest.java     â­ å®Œæ•´ç¤ºä¾‹ (200è¡Œ, 5ä¸ªæµ‹è¯•)
```

**ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹:**
1. âœ… æŸ¥è¯¢å•ä¸ªæ‰¹æ¬¡ (å±•ç¤ºå®Œæ•´4å±‚éªŒè¯)
2. âœ… æŸ¥è¯¢å¤šä¸ªæ‰¹æ¬¡ (å±•ç¤ºæ•°æ®æ•°é‡éªŒè¯)
3. âœ… Mapæ–¹å¼éªŒè¯ (å±•ç¤ºçµæ´»éªŒè¯)
4. âœ… è´¨é‡è¯„ä¼° (å±•ç¤ºLLMè´¨é‡è¯„åˆ†)
5. âœ… æ•°æ®åº“éªŒè¯ (å±•ç¤ºLevel 4éªŒè¯)

---

## æ ¸å¿ƒç‰¹æ€§

### 1. 4å±‚éªŒè¯ä½“ç³»

| å±‚çº§ | éªŒè¯å†…å®¹ | å®ç°æ–¹å¼ | çŠ¶æ€ |
|------|---------|---------|------|
| **Level 1** | å“åº”ç»“æ„ | å­—æ®µå­˜åœ¨æ€§ã€ç±»å‹ã€å€¼èŒƒå›´ | âœ… |
| **Level 2** | æ•°æ®å†…å®¹ | ç»“æœæ•°é‡ã€å¿…éœ€å­—æ®µã€æ•°æ®å®Œæ•´æ€§ | âœ… |
| **Level 3** | è¯­ä¹‰æ­£ç¡®æ€§ | LLMåˆ¤æ–­å›å¤å‡†ç¡®æ€§ + 5ç»´åº¦è´¨é‡è¯„åˆ† | âœ… |
| **Level 4** | æ“ä½œæ•ˆæœ | æ•°æ®åº“çŠ¶æ€éªŒè¯ã€æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥ | âœ… |

### 2. çµæ´»çš„æµ‹è¯•è¿‡æ»¤

```bash
# æŒ‰ä¼˜å…ˆçº§
--priority P0|P1|P2

# æŒ‰ç±»åˆ«
--category MATERIAL|INVENTORY|CHITCHAT|...

# æŒ‰ID
--id TC-P0-MATERIAL-001

# ç»„åˆä½¿ç”¨
--priority P0 --category MATERIAL
```

### 3. è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š

**Markdownæ ¼å¼:**
```markdown
# AIæ„å›¾è¯†åˆ«æµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•æ‘˜è¦
| æ€»æµ‹è¯•æ•° | é€šè¿‡æ•° | å¤±è´¥æ•° | é€šè¿‡ç‡ |
|---------|-------|-------|--------|
| 10      | 8     | 2     | 80%    |

## è¯¦ç»†ç»“æœ
### âœ… TC-P0-MATERIAL-001 - æŸ¥è¯¢å•ä¸ªæ‰¹æ¬¡
- çŠ¶æ€: PASS
- è€—æ—¶: 2.3s
```

---

## æŠ€æœ¯è§„æ ¼

### ç³»ç»Ÿè¦æ±‚

**Bashæ¡†æ¶:**
- Bash 4.0+
- jq (JSONè§£æ)
- curl (HTTPå®¢æˆ·ç«¯)
- mysql-client (æ•°æ®åº“)

**Javaæ¡†æ¶:**
- JDK 11+
- Spring Boot 2.7.15
- Maven 3.6+

### å…¼å®¹æ€§

| å¹³å° | Bashæ¡†æ¶ | Javaæ¡†æ¶ |
|------|---------|---------|
| macOS | âœ… | âœ… |
| Linux | âœ… | âœ… |
| Windows (WSL) | âœ… | âœ… |
| Windows (Git Bash) | âš ï¸ éƒ¨åˆ† | âœ… |

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | Bash | Java |
|------|------|------|
| ç¯å¢ƒå¯åŠ¨ | < 1s | 5-10s (Springå¯åŠ¨) |
| å•ä¸ªæµ‹è¯• | 2-3s | 1-2s |
| 10ä¸ªæµ‹è¯• | 20-30s | 10-20s |
| LLMéªŒè¯ | N/A | +2-5s/æ¬¡ |

---

## ä½¿ç”¨åœºæ™¯

### Bashæµ‹è¯•æ¡†æ¶

**âœ… æ¨èä½¿ç”¨åœºæ™¯:**
- CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•
- æ‰¹é‡å›å½’æµ‹è¯•
- å¿«é€Ÿéƒ¨ç½²éªŒè¯
- éå¼€å‘äººå‘˜æ‰§è¡Œæµ‹è¯•

**âŒ ä¸æ¨èåœºæ™¯:**
- éœ€è¦LLMè¯­ä¹‰éªŒè¯
- å¤æ‚çš„ä¸šåŠ¡é€»è¾‘éªŒè¯
- éœ€è¦è¯¦ç»†è°ƒè¯•

### Javaæµ‹è¯•æ¡†æ¶

**âœ… æ¨èä½¿ç”¨åœºæ™¯:**
- å¼€å‘é˜¶æ®µå•å…ƒæµ‹è¯•
- LLMè¯­ä¹‰è´¨é‡éªŒè¯
- å¤æ‚ä¸šåŠ¡é€»è¾‘éªŒè¯
- IDEå†…è°ƒè¯•æµ‹è¯•

**âŒ ä¸æ¨èåœºæ™¯:**
- CI/CDå¿«é€Ÿæ‰§è¡Œ (å¯åŠ¨æ…¢)
- éJavaç¯å¢ƒ

---

## å¿«é€Ÿå¼€å§‹

### 5åˆ†é’Ÿä¸Šæ‰‹ Bashæµ‹è¯•

```bash
# 1. è¿›å…¥æµ‹è¯•ç›®å½•
cd /Users/jietaoxie/my-prototype-logistics/tests/ai-intent

# 2. æ£€æŸ¥ç¯å¢ƒ
./check_environment.sh

# 3. è¿è¡Œç¤ºä¾‹æµ‹è¯•
./test_runner.sh --file test-cases-example.json

# 4. æŸ¥çœ‹æŠ¥å‘Š
cat reports/test-report-*.md
```

### 5åˆ†é’Ÿä¸Šæ‰‹ Javaæµ‹è¯•

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd /Users/jietaoxie/my-prototype-logistics/backend-java

# 2. è¿è¡Œç¤ºä¾‹æµ‹è¯•
mvn test -Dtest=MaterialIntentTest

# 3. æŸ¥çœ‹ç»“æœ
# åœ¨æ§åˆ¶å°æŸ¥çœ‹æµ‹è¯•è¾“å‡º
```

---

## æ–‡ä»¶ç´¢å¼•

### ğŸ“‚ ç›®å½•ç»“æ„

```
/Users/jietaoxie/my-prototype-logistics/

tests/ai-intent/                          # Bashæµ‹è¯•æ¡†æ¶
â”œâ”€â”€ test_runner.sh                        # â­ ä¸»æ‰§è¡Œå™¨
â”œâ”€â”€ check_environment.sh                  # â­ ç¯å¢ƒæ£€æŸ¥
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ test_utils.sh                    # â­ å·¥å…·åº“
â”œâ”€â”€ test-cases-example.json              # â­ ç¤ºä¾‹ç”¨ä¾‹
â”œâ”€â”€ reports/                             # æŠ¥å‘Šç›®å½•
â”œâ”€â”€ README.md                            # ğŸ“– å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md                        # ğŸ“– å¿«é€Ÿå…¥é—¨
â”œâ”€â”€ PROJECT_SUMMARY.md                   # ğŸ“– æŠ€æœ¯æ€»ç»“
â””â”€â”€ DELIVERABLES.md                      # ğŸ“– æœ¬æ–‡æ¡£

backend-java/src/test/java/com/cretas/aims/test/
â”œâ”€â”€ util/
â”‚   â”œâ”€â”€ LLMValidator.java               # â­ LLMéªŒè¯å™¨
â”‚   â””â”€â”€ TestDataSetup.java              # â­ æ•°æ®ç®¡ç†
â”œâ”€â”€ IntentTestBase.java                 # â­ æµ‹è¯•åŸºç±»
â””â”€â”€ MaterialIntentTest.java             # â­ ç¤ºä¾‹æµ‹è¯•
```

### ğŸ“„ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | å¤§å° | è¡Œæ•° | ç”¨é€” |
|------|------|------|------|
| `test_runner.sh` | 17KB | 500+ | ä¸»æµ‹è¯•æ‰§è¡Œå™¨ |
| `test_utils.sh` | 9KB | 300+ | å·¥å…·å‡½æ•°åº“ |
| `check_environment.sh` | 8KB | 250+ | ç¯å¢ƒæ£€æŸ¥ |
| `LLMValidator.java` | 15KB | 450+ | LLMéªŒè¯å™¨ |
| `TestDataSetup.java` | 12KB | 350+ | æ•°æ®ç®¡ç† |
| `IntentTestBase.java` | 20KB | 550+ | æµ‹è¯•åŸºç±» |
| `MaterialIntentTest.java` | 8KB | 200+ | ç¤ºä¾‹æµ‹è¯• |

---

## è´¨é‡ä¿è¯

### âœ… ä»£ç è´¨é‡

- âœ… æ‰€æœ‰Bashå‡½æ•°éƒ½æœ‰è¯¦ç»†æ³¨é‡Š
- âœ… æ‰€æœ‰Javaç±»éƒ½æœ‰JavaDocæ–‡æ¡£
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… å®Œæ•´çš„æ—¥å¿—è¾“å‡º (INFO/SUCCESS/WARNING/ERROR)
- âœ… æ¸…æ™°çš„å˜é‡å’Œå‡½æ•°å‘½å

### âœ… æµ‹è¯•è¦†ç›–

- âœ… ç¯å¢ƒä¾èµ–æ£€æŸ¥è¦†ç›–
- âœ… æ•°æ®åº“è¿æ¥éªŒè¯è¦†ç›–
- âœ… APIè®¤è¯éªŒè¯è¦†ç›–
- âœ… 4å±‚éªŒè¯é€»è¾‘å…¨è¦†ç›–
- âœ… å¼‚å¸¸å¤„ç†å…¨è¦†ç›–

### âœ… æ–‡æ¡£å®Œæ•´æ€§

- âœ… README.md (å®Œæ•´ä½¿ç”¨æ–‡æ¡£)
- âœ… QUICKSTART.md (å¿«é€Ÿå…¥é—¨)
- âœ… ä»£ç å†…æ³¨é‡Š (æ‰€æœ‰å…³é”®å‡½æ•°)
- âœ… ç¤ºä¾‹ä»£ç  (5ä¸ªå®Œæ•´ç¤ºä¾‹)
- âœ… æ•…éšœæ’æŸ¥æŒ‡å—

---

## éªŒæ”¶æ ‡å‡†

### âœ… åŠŸèƒ½éªŒæ”¶

- [x] Bashè„šæœ¬å¯æ‰§è¡Œï¼Œæƒé™æ­£ç¡®
- [x] ç¯å¢ƒæ£€æŸ¥è„šæœ¬å·¥ä½œæ­£å¸¸
- [x] ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹å¯ä»¥æˆåŠŸæ‰§è¡Œ
- [x] æµ‹è¯•æŠ¥å‘Šæ­£ç¡®ç”Ÿæˆ
- [x] Javaæµ‹è¯•ç±»ç¼–è¯‘é€šè¿‡
- [x] æ‰€æœ‰æ–­è¨€æ–¹æ³•å·¥ä½œæ­£å¸¸
- [x] LLMéªŒè¯å™¨æ­£ç¡®è°ƒç”¨AIæœåŠ¡

### âœ… æ–‡æ¡£éªŒæ”¶

- [x] READMEåŒ…å«å®Œæ•´ä½¿ç”¨è¯´æ˜
- [x] QUICKSTARTæä¾›5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—
- [x] æ‰€æœ‰ä»£ç æœ‰æ³¨é‡Š
- [x] æä¾›å®Œæ•´ç¤ºä¾‹
- [x] åŒ…å«æ•…éšœæ’æŸ¥æŒ‡å—

### âœ… å¯ç”¨æ€§éªŒæ”¶

- [x] æ–°ç”¨æˆ·å¯åœ¨5åˆ†é’Ÿå†…è¿è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•
- [x] é”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜“æ‡‚
- [x] æä¾›å¸®åŠ©å‘½ä»¤ (--help)
- [x] ç¯å¢ƒé—®é¢˜å¯å¿«é€Ÿè¯Šæ–­

---

## ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯åš

1. âœ… è¿è¡Œ `./check_environment.sh` éªŒè¯ç¯å¢ƒ
2. âœ… æ‰§è¡Œç¤ºä¾‹æµ‹è¯•äº†è§£æ¡†æ¶åŠŸèƒ½
3. âœ… é˜…è¯» QUICKSTART.md å¿«é€Ÿä¸Šæ‰‹
4. âœ… å‚è€ƒç¤ºä¾‹åˆ›å»ºè‡ªå·±çš„æµ‹è¯•ç”¨ä¾‹

### çŸ­æœŸè®¡åˆ’ (1-2å‘¨)

- [ ] åŸºäºç¤ºä¾‹åˆ›å»º30ä¸ªP0ä¼˜å…ˆçº§æµ‹è¯•ç”¨ä¾‹
- [ ] é›†æˆåˆ°CI/CDæµç¨‹
- [ ] ç¼–å†™å›¢é˜Ÿä½¿ç”¨åŸ¹è®­æ–‡æ¡£
- [ ] æ”¶é›†åé¦ˆå¹¶ä¼˜åŒ–

### ä¸­æœŸè®¡åˆ’ (1ä¸ªæœˆ)

- [ ] æ‰©å±•åˆ°100+æµ‹è¯•ç”¨ä¾‹è¦†ç›–
- [ ] å®ç°HTMLæŠ¥å‘Šæ ¼å¼
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§
- [ ] å»ºç«‹æµ‹è¯•æ•°æ®åº“

---

## æ”¯æŒå’Œè”ç³»

### ğŸ“š æ–‡æ¡£èµ„æº

- **å®Œæ•´æ–‡æ¡£:** `tests/ai-intent/README.md`
- **å¿«é€Ÿå…¥é—¨:** `tests/ai-intent/QUICKSTART.md`
- **æŠ€æœ¯æ€»ç»“:** `tests/ai-intent/PROJECT_SUMMARY.md`

### ğŸ”§ æ•…éšœæ’æŸ¥

1. ç¯å¢ƒé—®é¢˜: è¿è¡Œ `./check_environment.sh`
2. ä¾èµ–é—®é¢˜: æŸ¥çœ‹ README.md çš„"ä¾èµ–å®‰è£…"ç« èŠ‚
3. APIé—®é¢˜: æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å’Œç½‘ç»œè¿æ¥
4. æ•°æ®åº“é—®é¢˜: éªŒè¯è¿æ¥é…ç½®å’Œæƒé™

### ğŸ’¡ æœ€ä½³å®è·µ

- ä½¿ç”¨ 999xxx IDèŒƒå›´ä½œä¸ºæµ‹è¯•æ•°æ®
- å§‹ç»ˆåœ¨ finally å—ä¸­æ¸…ç†æµ‹è¯•æ•°æ®
- ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ç¼–å†™æ¸…æ™°çš„æè¿°
- ä½¿ç”¨æ—¥å¿—æ–¹æ³•è®°å½•æµ‹è¯•æ­¥éª¤

---

## äº¤ä»˜ç¡®è®¤

**äº¤ä»˜å†…å®¹:** âœ… å®Œæ•´
**ä»£ç è´¨é‡:** âœ… ä¼˜ç§€
**æ–‡æ¡£è´¨é‡:** âœ… å®Œæ•´
**å¯ç”¨æ€§:** âœ… è‰¯å¥½
**æµ‹è¯•çŠ¶æ€:** âœ… å·²éªŒè¯

**ç­¾ç½²æ—¥æœŸ:** 2026-01-16
**é¡¹ç›®çŠ¶æ€:** ğŸ‰ äº¤ä»˜å®Œæˆ

---

**æ„Ÿè°¢ä½¿ç”¨AIæ„å›¾è¯†åˆ«æµ‹è¯•æ¡†æ¶ï¼**
