================================================================================
Ralph Loop - AI意图识别系统 2000 测试用例
================================================================================

[1/4] 登录中...
登录成功: eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiZmFjdG9...

[2/4] 生成测试用例...
已生成 2000 个测试用例
覆盖 44 种意图

[3/4] 开始测试...

--------------------------------------------------------------------------------
[ 100/2000] 通过:   78 ( 78.0%) | 延迟:   2166ms
[ 200/2000] 通过:  154 ( 77.0%) | 延迟:   2384ms
[ 300/2000] 通过:  232 ( 77.3%) | 延迟:   2322ms
[ 400/2000] 通过:  306 ( 76.5%) | 延迟:   2484ms
[ 500/2000] 通过:  383 ( 76.6%) | 延迟:   3090ms
[ 600/2000] 通过:  457 ( 76.2%) | 延迟:   2348ms
[ 700/2000] 通过:  534 ( 76.3%) | 延迟:   1884ms
[ 800/2000] 通过:  603 ( 75.4%) | 延迟:   2474ms
[ 900/2000] 通过:  676 ( 75.1%) | 延迟:   2280ms
[1000/2000] 通过:  746 ( 74.6%) | 延迟:   2718ms
[1100/2000] 通过:  825 ( 75.0%) | 延迟:   2298ms
[1200/2000] 通过:  867 ( 72.2%) | 延迟:   2645ms
[1300/2000] 通过:  904 ( 69.5%) | 延迟:   2801ms
[1400/2000] 通过:  980 ( 70.0%) | 延迟:   2991ms
[1500/2000] 通过: 1065 ( 71.0%) | 延迟:   1876ms
[1600/2000] 通过: 1121 ( 70.1%) | 延迟:   1644ms
[1700/2000] 通过: 1196 ( 70.4%) | 延迟:   1267ms
[1800/2000] 通过: 1268 ( 70.4%) | 延迟:    732ms
[1900/2000] 通过: 1333 ( 70.2%) | 延迟:    887ms
[2000/2000] 通过: 1377 ( 68.8%) | 延迟:   1008ms
--------------------------------------------------------------------------------

[4/4] 测试完成! 总耗时: 4946.6秒

================================================================================
Ralph Loop 2000 测试报告
================================================================================

========================================总体结果========================================
  总用例: 2000
  通过: 1377 (68.8%)
  失败: 623
  延迟: 平均 2126ms | 最小 447ms | 最大 34211ms

===================================按场景类别统计===================================
  类别                   通过       总数       通过率        状态
  ------------------------------------------------------------
  alert                160      180        88.9%     ✓ PASS
  attendance           139      231        60.2%     ⚠ WARN
  cost                 33       46         71.7%     ⚠ WARN
  customer             110      136        80.9%     ✓ PASS
  equipment            141      182        77.5%     ⚠ WARN
  material             142      225        63.1%     ⚠ WARN
  production           106      180        58.9%     ✗ FAIL
  quality              95       139        68.3%     ⚠ WARN
  report               191      317        60.3%     ⚠ WARN
  shipment             118      182        64.8%     ⚠ WARN
  supplier             66       91         72.5%     ⚠ WARN
  trace                76       91         83.5%     ✓ PASS

=====================================按难度统计=====================================
  难度           通过       总数       通过率        状态
  --------------------------------------------------
  easy         113      164        68.9%     ⚠ WARN
  medium       1264     1836       68.8%     ⚠ WARN

===================================匹配方法分布===================================
  PHRASE_MATCH             : 1123 ( 62.0%)
  LLM                      :  529 ( 29.2%)
  SEMANTIC                 :   95 (  5.2%)
  EXACT                    :   64 (  3.5%)

================================失败率最高的意图 (Top 10)================================
  REPORT_TRENDS                      :  40/ 45 失败 ( 88.9%)
  CLOCK_IN                           :  38/ 45 失败 ( 84.4%)
  MATERIAL_UPDATE                    :  37/ 45 失败 ( 82.2%)
  QUALITY_STATS                      :  26/ 47 失败 ( 55.3%)
  SHIPMENT_CREATE                    :  25/ 46 失败 ( 54.3%)
  PRODUCTION_STATUS_QUERY            :  24/ 45 失败 ( 53.3%)
  SUPPLIER_LIST                      :  23/ 45 失败 ( 51.1%)
  MATERIAL_EXPIRING_ALERT            :  22/ 45 失败 ( 48.9%)
  PROCESSING_BATCH_TIMELINE          :  22/ 45 失败 ( 48.9%)
  REPORT_KPI                         :  21/ 45 失败 ( 46.7%)

==============================失败案例详情 (前20个)==============================

  [#1] shipment
    输入: 帮我查一下修改物流状态吧...
    期望: SHIPMENT_STATUS_UPDATE
    实际: ORDER_STATUS (方法: LLM, 置信度: 0.91)

  [#7] trace
    输入: 帮我看看溯源记录吧...
    期望: TRACE_FULL
    实际: ATTENDANCE_HISTORY (方法: LLM, 置信度: 0.87)

  [#11] material
    输入: 看看保质期提醒...
    期望: MATERIAL_EXPIRING_ALERT
    实际: ALERT_STATS (方法: LLM, 置信度: 0.85)

  [#17] attendance
    输入: 帮我看看记录下班呢...
    期望: CLOCK_OUT
    实际: ATTENDANCE_HISTORY (方法: LLM, 置信度: 0.87)

  [#21] report
    输入: 查一下销售趋势图吧...
    期望: REPORT_TRENDS
    实际: CUSTOMER_STATS (方法: LLM, 置信度: 0.85)

  [#23] production
    输入: 批次开工呢...
    期望: PROCESSING_BATCH_START
    实际: PROCESSING_BATCH_LIST (方法: PHRASE_MATCH, 置信度: 0.98)

  [#26] material
    输入: 看看原料信息变更吧...
    期望: MATERIAL_UPDATE
    实际: MATERIAL_BATCH_QUERY (方法: PHRASE_MATCH, 置信度: 0.98)

  [#32] shipment
    输入: 看看发货订单统计吧...
    期望: SHIPMENT_STATS
    实际: ORDER_TODAY (方法: LLM, 置信度: 0.92)

  [#33] shipment
    输入: 帮我看看录入发货信息呢...
    期望: SHIPMENT_CREATE
    实际: ORDER_LIST (方法: LLM, 置信度: 0.88)

  [#36] material
    输入: 帮我看看快过期原料呢...
    期望: MATERIAL_EXPIRING_ALERT
    实际: MATERIAL_EXPIRED_QUERY (方法: PHRASE_MATCH, 置信度: 0.98)

  [#42] attendance
    输入: 帮我看看记录下班呢...
    期望: CLOCK_OUT
    实际: ATTENDANCE_HISTORY (方法: LLM, 置信度: 0.87)

  [#46] production
    输入: 看看产线运行情况呢...
    期望: PRODUCTION_STATUS_QUERY
    实际: EQUIPMENT_STATUS_QUERY (方法: PHRASE_MATCH, 置信度: 0.98)

  [#51] report
    输入: 查一下变化趋势分析呢...
    期望: REPORT_TRENDS
    实际: REPORT_DASHBOARD_OVERVIEW (方法: PHRASE_MATCH, 置信度: 0.98)

  [#58] shipment
    输入: 帮我查一下修改物流状态...
    期望: SHIPMENT_STATUS_UPDATE
    实际: ORDER_STATUS (方法: LLM, 置信度: 0.91)

  [#66] material
    输入: 原料信息变更呢...
    期望: MATERIAL_UPDATE
    实际: MATERIAL_BATCH_QUERY (方法: PHRASE_MATCH, 置信度: 0.98)

  [#67] trace
    输入: 我想查溯源记录...
    期望: TRACE_FULL
    实际: ATTENDANCE_HISTORY (方法: LLM, 置信度: 0.88)

  [#76] report
    输入: 查一下昨天生产效率吧...
    期望: REPORT_EFFICIENCY
    实际: PROCESSING_BATCH_TIMELINE (方法: LLM, 置信度: 0.92)

  [#81] material
    输入: 修改原料数据呢...
    期望: MATERIAL_UPDATE
    实际: SCALE_UPDATE_DEVICE (方法: LLM, 置信度: 0.90)

  [#86] attendance
    输入: 帮我查一下上班打卡...
    期望: CLOCK_IN
    实际: ATTENDANCE_HISTORY (方法: LLM, 置信度: 0.92)

  [#87] quality
    输入: 我想查上周质量报表呢...
    期望: QUALITY_STATS
    实际: REPORT_QUALITY (方法: PHRASE_MATCH, 置信度: 0.98)

详细报告已保存: tests/ai-intent/reports/ralph_loop_2000_report_20260125_213727.json
