表名,字段名,数据类型,示例值,说明,是否必填,关联表,业务规则
industry_templates,id,INT,1,模板ID主键,是,,自增
industry_templates,template_name,VARCHAR(255),肉类加工模板,模板显示名称,是,,用于前端选择器
industry_templates,industry_type,VARCHAR(100),meat_processing,行业类型标识,是,,用于系统分类
industry_templates,schema_definition,JSON,"{""rollingTemp"":{""title"":""滚揉温度"",""type"":""number""}}",表单结构定义,是,,核心字段-定义动态表单
industry_templates,version,INT,1,模板版本号,是,,用于版本控制
industry_templates,is_active,BOOLEAN,true,是否启用,是,,false时前端不显示
industry_templates,created_by,VARCHAR(100),系统管理员,创建者,是,,记录操作人
industry_templates,created_at,DATETIME,2024-12-01T08:00:00Z,创建时间,是,,自动填充
industry_templates,updated_at,DATETIME,2024-12-01T08:30:00Z,更新时间,是,,自动更新
raw_material_inbound,id,VARCHAR(50),raw_001,入库ID主键,是,,业务主键
raw_material_inbound,template_id,INT,1,关联模板ID,是,industry_templates.id,外键约束
raw_material_inbound,batchCode,VARCHAR(255),BEEF-20241201-001,原料批次号,是,,唯一性约束
raw_material_inbound,materialName,VARCHAR(255),优质牛肉,原料名称,是,,业务标识
raw_material_inbound,materialType,VARCHAR(100),meat,原料类型,是,,枚举:meat/seafood/grain/vegetable/other
raw_material_inbound,supplier,VARCHAR(255),内蒙古牧场,供应商,是,,关联供应商管理
raw_material_inbound,initialWeight,DECIMAL(10,3),500.0,初始重量(kg),是,,>0 数值校验
raw_material_inbound,receivedAt,DATETIME,2024-12-01T08:00:00Z,入库时间,是,,不能晚于当前时间
raw_material_inbound,qualityGrade,VARCHAR(10),A,质量等级,是,,枚举:A/B/C
raw_material_inbound,storageLocation,VARCHAR(255),冷库A区,存储位置,是,,关联库位管理
raw_material_inbound,inspectorName,VARCHAR(100),张质检,检验员,是,,关联员工管理
raw_material_inbound,extended_data,JSON,"{""temperature"":-2,""breed"":""西门塔尔""}",模板驱动扩展字段,否,,根据template_id动态验证
raw_material_inbound,status,VARCHAR(50),approved,状态,是,,枚举:pending/approved/rejected
raw_material_inbound,notes,TEXT,肉质新鲜符合标准,备注,否,,用户输入
raw_material_inbound,createdAt,DATETIME,2024-12-01T08:00:00Z,创建时间,是,,自动填充
raw_material_inbound,updatedAt,DATETIME,2024-12-01T08:30:00Z,更新时间,是,,自动更新
production_batches,id,VARCHAR(50),batch_001,批次ID主键,是,,业务主键
production_batches,template_id,INT,1,关联模板ID,是,industry_templates.id,外键约束
production_batches,batchNumber,VARCHAR(255),PRO-20241201-001,生产批次号,是,,唯一性约束
production_batches,productName,VARCHAR(255),精装牛排,产品名称,是,,成品标识
production_batches,rawMaterialId,VARCHAR(50),raw_001,使用的原料ID,是,raw_material_inbound.id,外键约束
production_batches,preProcessWeight,DECIMAL(10,3),480.0,加工前重量,是,,>0 且<=原料重量
production_batches,postProcessWeight,DECIMAL(10,3),465.0,加工后重量,是,,>0 且<=加工前重量
production_batches,process_step_data,JSON,"{""rollingTemp"":4,""rollingTime"":120}",加工步骤数据,否,,根据template_id动态验证
production_batches,cost_breakdown_data,JSON,"{""rawMaterial"":1200,""labor"":150}",成本分解数据,否,,用于成本分析
production_batches,startTime,DATETIME,2024-12-01T09:00:00Z,开始时间,是,,不能早于原料入库时间
production_batches,endTime,DATETIME,2024-12-01T16:00:00Z,结束时间,是,,不能早于开始时间
production_batches,supervisor,VARCHAR(100),李主管,生产主管,是,,关联员工管理
production_batches,yieldRate,DECIMAL(5,2),96.9,成品率(%),否,,计算字段 postWeight/preWeight*100
production_batches,status,VARCHAR(50),completed,状态,是,,枚举:planned/in_progress/completed/failed
production_batches,notes,TEXT,加工顺利完成,备注,否,,用户输入
production_batches,createdAt,DATETIME,2024-12-01T09:00:00Z,创建时间,是,,自动填充
production_batches,updatedAt,DATETIME,2024-12-01T16:30:00Z,更新时间,是,,自动更新
quality_inspections,id,VARCHAR(50),qc_001,检测ID主键,是,,业务主键
quality_inspections,template_id,INT,1,关联模板ID,是,industry_templates.id,外键约束
quality_inspections,batchId,VARCHAR(50),batch_001,关联批次ID,是,production_batches.id,外键约束
quality_inspections,inspectionType,VARCHAR(100),出厂检验,检验类型,是,,分类管理
quality_inspections,inspectorName,VARCHAR(100),王质检,检验员,是,,关联员工管理
quality_inspections,inspectionTime,DATETIME,2024-12-01T17:00:00Z,检验时间,是,,不能早于生产结束时间
quality_inspections,test_result_data,JSON,"{""phValue"":6.2,""proteinContent"":20.5}",检测结果数据,否,,根据template_id动态验证
quality_inspections,overallResult,VARCHAR(20),pass,总体结果,是,,枚举:pass/fail/pending
quality_inspections,certificateNumber,VARCHAR(100),CERT-20241201-001,检验证书号,否,,可关联第三方检测
quality_inspections,validUntil,DATE,2024-12-31,有效期至,否,,质检报告有效期
quality_inspections,notes,TEXT,各项指标均符合标准,备注,否,,用户输入
quality_inspections,createdAt,DATETIME,2024-12-01T17:00:00Z,创建时间,是,,自动填充
quality_inspections,updatedAt,DATETIME,2024-12-01T17:30:00Z,更新时间,是,,自动更新
packaging_records,id,VARCHAR(50),pack_001,包装ID主键,是,,业务主键
packaging_records,template_id,INT,1,关联模板ID,是,industry_templates.id,外键约束
packaging_records,batchId,VARCHAR(50),batch_001,关联批次ID,是,production_batches.id,外键约束
packaging_records,packageType,VARCHAR(100),真空包装,包装类型,是,,枚举管理
packaging_records,packageSize,VARCHAR(50),500g/包,包装规格,是,,标准化规格
packaging_records,packageCount,INT,930,包装数量,是,,>0 数值校验
packaging_records,packageWeight,DECIMAL(10,3),465.0,包装总重量,是,,应等于批次产出重量
packaging_records,packaging_spec_data,JSON,"{""material"":""PA/PE复合膜""}",包装规格数据,否,,根据template_id动态验证
packaging_records,packagedBy,VARCHAR(100),包装工1号,包装员,是,,关联员工管理
packaging_records,packagedAt,DATETIME,2024-12-01T18:00:00Z,包装时间,是,,不能早于质检通过时间
packaging_records,expiryDate,DATE,2025-06-01,保质期至,是,,基于产品类型计算
packaging_records,storageRequirements,VARCHAR(255),-18°C冷冻保存,存储要求,是,,产品标准要求
packaging_records,notes,TEXT,包装完好无破损,备注,否,,用户输入
packaging_records,createdAt,DATETIME,2024-12-01T18:00:00Z,创建时间,是,,自动填充
packaging_records,updatedAt,DATETIME,2024-12-01T18:30:00Z,更新时间,是,,自动更新
finished_product_outbound,id,VARCHAR(50),out_001,出库ID主键,是,,业务主键
finished_product_outbound,packageId,VARCHAR(50),pack_001,关联包装ID,是,packaging_records.id,外键约束
finished_product_outbound,customerName,VARCHAR(255),华润万家,客户名称,是,,关联客户管理
finished_product_outbound,orderNumber,VARCHAR(255),ORDER-20241202-001,订单号,是,,关联订单管理
finished_product_outbound,shippedQuantity,INT,930,发货数量,是,,<=包装数量
finished_product_outbound,shippedWeight,DECIMAL(10,3),465.0,发货重量,是,,<=包装重量
finished_product_outbound,shippedAt,DATETIME,2024-12-02T08:00:00Z,发货时间,是,,不能早于包装时间
finished_product_outbound,deliveryAddress,TEXT,北京市朝阳区配送中心,配送地址,是,,物流信息
finished_product_outbound,transportMethod,VARCHAR(100),冷链物流,运输方式,是,,关联物流管理
finished_product_outbound,trackingNumber,VARCHAR(255),SF1234567890,物流单号,否,,第三方物流追踪
finished_product_outbound,estimatedArrival,DATETIME,2024-12-03T10:00:00Z,预计到达,否,,物流预估
finished_product_outbound,deliveryStatus,VARCHAR(50),shipped,配送状态,是,,枚举:pending/shipped/delivered/returned
finished_product_outbound,notes,TEXT,冷链运输注意温控,备注,否,,用户输入
finished_product_outbound,createdAt,DATETIME,2024-12-02T08:00:00Z,创建时间,是,,自动填充
finished_product_outbound,updatedAt,DATETIME,2024-12-02T08:30:00Z,更新时间,是,,自动更新
production_summary,id,VARCHAR(50),sum_001,统计ID主键,是,,业务主键
production_summary,template_id,INT,1,关联模板ID,是,industry_templates.id,外键约束
production_summary,summaryDate,DATE,2024-12-01,统计日期,是,,按天统计
production_summary,totalBatches,INT,5,总批次数,是,,当日生产批次统计
production_summary,totalInputWeight,DECIMAL(10,3),2500.0,总投入重量,是,,原料投入总和
production_summary,totalOutputWeight,DECIMAL(10,3),2325.0,总产出重量,是,,成品产出总和
production_summary,averageYieldRate,DECIMAL(5,2),93.0,平均成品率,是,,加权平均计算
production_summary,totalCost,DECIMAL(12,2),7375.0,总成本,是,,成本汇总
production_summary,averageCostPerKg,DECIMAL(8,2),3.17,单位成本(元/kg),是,,总成本/总产出
production_summary,qualityPassRate,DECIMAL(5,2),100.0,质检合格率,是,,合格批次/总批次*100
production_summary,summary_data,JSON,"{""topProduct"":""精装牛排""}",汇总分析数据,否,,扩展统计信息
production_summary,createdAt,DATETIME,2024-12-02T00:00:00Z,创建时间,是,,日终自动生成
production_summary,updatedAt,DATETIME,2024-12-02T00:30:00Z,更新时间,是,,重新计算时更新
