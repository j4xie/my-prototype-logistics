<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>预警处理 - 白垩纪食品溯源系统</title>
  <link rel="stylesheet" href="warehouse.css">
  <link rel="stylesheet" href="../components.css">
</head>
<body>
  <a href="alert-list.html" class="back-to-index">< 返回预警列表</a>

  <div class="mobile-container">
    <header class="header">
      <h1>预警处理</h1>
      <p>处理库存预警</p>
    </header>

    <div class="page-content">
      <!-- 预警信息 -->
      <div class="alert-detail-card">
        <div class="alert-detail-header">
          <span class="alert-detail-icon">*</span>
          <div class="alert-detail-info">
            <div class="alert-detail-name">带鱼 (鲜品)</div>
            <div class="alert-detail-batch">MB-20251223-001</div>
          </div>
          <span class="alert-detail-level urgent">紧急</span>
        </div>
        <div class="alert-detail-content">
          <div class="alert-detail-row">
            <span class="alert-detail-label">当前库存</span>
            <span class="alert-detail-value danger">85 kg</span>
          </div>
          <div class="alert-detail-row">
            <span class="alert-detail-label">安全库存</span>
            <span class="alert-detail-value">200 kg</span>
          </div>
          <div class="alert-detail-row">
            <span class="alert-detail-label">缺口</span>
            <span class="alert-detail-value danger">115 kg</span>
          </div>
          <div class="alert-detail-row">
            <span class="alert-detail-label">过期时间</span>
            <span class="alert-detail-value warning">2025-12-29 (3天后)</span>
          </div>
        </div>
      </div>

      <!-- 处理方案 -->
      <div class="form-section">
        <div class="form-section-title">选择处理方案</div>

        <div class="solution-list">
          <label class="solution-item recommended">
            <input type="radio" name="solution" value="purchase" class="solution-radio">
            <div class="solution-content">
              <div class="solution-header">
                <span class="solution-icon">*</span>
                <span class="solution-title">紧急采购</span>
                <span class="solution-tag recommended">推荐</span>
              </div>
              <div class="solution-desc">
                <p>建议采购量: <strong>150 kg</strong></p>
                <p>推荐供应商: 舟山渔业合作社</p>
                <p>预计到货: 1-2天</p>
              </div>
            </div>
          </label>

          <label class="solution-item">
            <input type="radio" name="solution" value="freeze" class="solution-radio">
            <div class="solution-content">
              <div class="solution-header">
                <span class="solution-icon">*</span>
                <span class="solution-title">转为冻品</span>
              </div>
              <div class="solution-desc">
                <p>延长保质期: <strong>+30天</strong></p>
                <p>转移至: B区-冷冻库</p>
                <p>适用于即将过期的批次</p>
              </div>
            </div>
          </label>

          <label class="solution-item">
            <input type="radio" name="solution" value="fifo" class="solution-radio">
            <div class="solution-content">
              <div class="solution-header">
                <span class="solution-icon">*</span>
                <span class="solution-title">优先消耗 (FIFO)</span>
              </div>
              <div class="solution-desc">
                <p>关联生产计划: <strong>3个</strong></p>
                <p>标记为优先消耗批次</p>
                <p>系统自动推荐此批次</p>
              </div>
            </div>
          </label>

          <label class="solution-item">
            <input type="radio" name="solution" value="dispose" class="solution-radio">
            <div class="solution-content">
              <div class="solution-header">
                <span class="solution-icon">X</span>
                <span class="solution-title">报损处理</span>
              </div>
              <div class="solution-desc">
                <p>预计损失: <strong>¥2,550</strong></p>
                <p>需审批: 仓储主管</p>
                <p>适用于已过期/变质物料</p>
              </div>
            </div>
          </label>
        </div>
      </div>

      <!-- 采购信息 (根据选择显示) -->
      <div class="form-section" id="purchase-section">
        <div class="form-section-title">采购信息</div>

        <div class="form-group">
          <label class="form-label">采购数量</label>
          <div class="input-with-unit">
            <input type="number" class="form-input" value="150">
            <span class="input-unit">kg</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">供应商</label>
          <select class="form-select">
            <option value="supplier1" selected>舟山渔业合作社 (推荐)</option>
            <option value="supplier2">东海水产</option>
            <option value="supplier3">宁波海鲜批发</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">预计单价</label>
          <div class="input-with-unit">
            <input type="number" class="form-input" value="30">
            <span class="input-unit">元/kg</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">预计总金额</label>
          <div class="calculated-value">¥4,500</div>
        </div>

        <div class="form-group">
          <label class="form-label">备注</label>
          <textarea class="form-textarea" placeholder="请输入备注信息"></textarea>
        </div>
      </div>

      <!-- 转冻品信息 -->
      <div class="form-section" id="freeze-section" style="display: none;">
        <div class="form-section-title">转冻品信息</div>

        <div class="form-group">
          <label class="form-label">转换数量</label>
          <div class="input-with-unit">
            <input type="number" class="form-input" value="85">
            <span class="input-unit">kg</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">目标库位</label>
          <select class="form-select">
            <option value="b1">B区-冷冻库-01 (剩余200kg)</option>
            <option value="b2">B区-冷冻库-02 (剩余150kg)</option>
          </select>
        </div>

        <div class="info-box">
          <div class="info-box-title">转冻品说明</div>
          <ul class="info-box-list">
            <li>转冻后保质期延长30天</li>
            <li>新到期日期: 2026-01-28</li>
            <li>需要2小时冷冻处理</li>
          </ul>
        </div>
      </div>

      <!-- 操作按钮 -->
      <div class="action-buttons">
        <button type="button" class="action-btn secondary" onclick="location.href='alert-list.html';">取消</button>
        <button type="button" class="action-btn primary" onclick="alert('处理方案已提交'); location.href='alert-list.html';">确认处理方案</button>
      </div>
    </div>
  </div>
</body>
</html>
