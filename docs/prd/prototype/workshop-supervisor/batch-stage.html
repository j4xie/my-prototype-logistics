<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>录入加工环节 - 车间主任</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../components.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="../index.html" class="back-to-index">< 返回角色选择</a>

  <div class="mobile-container">
    <!-- 子页面头部 -->
    <div class="subpage-header">
      <a href="batch-detail.html" class="back-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
      </a>
      <span class="title">录入加工环节</span>
    </div>

    <!-- 主内容 -->
    <div class="main-content" style="padding-top: 16px;">
      <!-- 批次信息 -->
      <div class="info-card">
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <div>
            <div style="font-size: 16px; font-weight: 600; color: #333;">PB-20251227-001</div>
            <div style="font-size: 13px; color: #999; margin-top: 4px;">带鱼片 | 目标: 80kg</div>
          </div>
          <span class="batch-stage">切片中</span>
        </div>
      </div>

      <!-- 自动采集数据区块 -->
      <div class="info-card" style="background: #f6ffed; border: 1px solid #b7eb8f;">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <div style="width: 28px; height: 28px; background: #52c41a; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
            </div>
            <span style="font-size: 14px; font-weight: 600; color: #333;">自动采集数据</span>
            <span style="font-size: 11px; color: #52c41a; background: #f6ffed; border: 1px solid #b7eb8f; padding: 2px 6px; border-radius: 4px;">只读</span>
          </div>
          <button style="padding: 6px 12px; background: white; border: 1px solid #b7eb8f; border-radius: 6px; font-size: 12px; color: #52c41a; cursor: pointer; display: flex; align-items: center; gap: 4px;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 4v6h-6M1 20v-6h6"/>
              <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
            </svg>
            刷新
          </button>
        </div>

        <!-- 时间数据 -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
          <div style="background: white; padding: 12px; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12,6 12,12 16,14"/>
              </svg>
              <span style="font-size: 11px; color: #999;">时长</span>
            </div>
            <div style="font-size: 18px; font-weight: 600; color: #333;">45 <span style="font-size: 12px; color: #666;">分钟</span></div>
            <div style="font-size: 11px; color: #52c41a; margin-top: 2px;">进行中</div>
          </div>
          <div style="background: white; padding: 12px; border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
                <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/>
              </svg>
              <span style="font-size: 11px; color: #999;">环境温度</span>
            </div>
            <div style="font-size: 18px; font-weight: 600; color: #333;">18 <span style="font-size: 12px; color: #666;">°C</span></div>
            <div style="font-size: 11px; color: #52c41a; margin-top: 2px;">正常范围</div>
          </div>
        </div>

        <!-- 重量数据 -->
        <div style="background: white; padding: 14px; border-radius: 8px; margin-bottom: 12px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
              <line x1="3" y1="6" x2="21" y2="6"/>
            </svg>
            <span style="font-size: 12px; color: #666;">电子秤数据</span>
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="text-align: center; flex: 1;">
              <div style="font-size: 11px; color: #999;">投入重量</div>
              <div style="font-size: 20px; font-weight: 600; color: #333; margin-top: 4px;">95.0 <span style="font-size: 12px;">kg</span></div>
            </div>
            <div style="padding: 0 16px;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b7eb8f" stroke-width="2">
                <line x1="5" y1="12" x2="19" y2="12"/>
                <polyline points="12 5 19 12 12 19"/>
              </svg>
            </div>
            <div style="text-align: center; flex: 1;">
              <div style="font-size: 11px; color: #999;">当前产出</div>
              <div style="font-size: 20px; font-weight: 600; color: #52c41a; margin-top: 4px;">52.0 <span style="font-size: 12px;">kg</span></div>
            </div>
          </div>
        </div>

        <!-- 数据来源 -->
        <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; background: white; border-radius: 6px;">
          <div style="display: flex; align-items: center; gap: 6px;">
            <div style="width: 6px; height: 6px; background: #52c41a; border-radius: 50%;"></div>
            <span style="font-size: 11px; color: #666;">数据来源: 切片机A 传感器</span>
          </div>
          <span style="font-size: 11px; color: #999;">最后更新: 10:30:15</span>
        </div>
      </div>

      <!-- AI辅助识别区块 -->
      <div class="info-card" style="background: #fff7e6; border: 1px solid #ffd591;">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
          <div style="width: 28px; height: 28px; background: #fa8c16; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
              <path d="M12 2a10 10 0 1 0 10 10"/>
              <path d="M12 12l4-4"/>
              <circle cx="12" cy="12" r="2"/>
            </svg>
          </div>
          <span style="font-size: 14px; font-weight: 600; color: #333;">AI辅助识别</span>
          <span style="font-size: 11px; color: #fa8c16; background: #fff7e6; border: 1px solid #ffd591; padding: 2px 6px; border-radius: 4px;">请确认/修正</span>
        </div>

        <!-- 产品计数 -->
        <div style="background: white; padding: 14px; border-radius: 8px; margin-bottom: 12px;">
          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
            <div style="display: flex; align-items: center; gap: 6px;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fa8c16" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              <span style="font-size: 13px; font-weight: 500; color: #333;">产品计数</span>
            </div>
            <span style="font-size: 11px; color: #fa8c16; background: #fff7e6; padding: 2px 8px; border-radius: 4px;">AI置信度: 92%</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <input type="number" value="48" style="flex: 1; padding: 10px 14px; border: 1px solid #ffd591; border-radius: 8px; font-size: 16px; font-weight: 500; text-align: center;">
            <span style="font-size: 14px; color: #666;">件</span>
          </div>
          <div style="font-size: 11px; color: #999; margin-top: 8px;">AI已识别产品数量，请核实并修正</div>
        </div>

        <!-- 可疑缺陷检测 -->
        <div style="background: white; padding: 14px; border-radius: 8px; margin-bottom: 12px;">
          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
            <div style="display: flex; align-items: center; gap: 6px;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ff4d4f" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
              <span style="font-size: 13px; font-weight: 500; color: #333;">检出可疑缺陷</span>
            </div>
            <span style="font-size: 12px; color: #ff4d4f; font-weight: 500;">3 件</span>
          </div>
          <a href="#" style="display: flex; align-items: center; justify-content: center; gap: 8px; padding: 10px; background: #fff1f0; border: 1px solid #ffa39e; border-radius: 8px; text-decoration: none; color: #ff4d4f; font-size: 13px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <path d="M21 15l-5-5L5 21"/>
            </svg>
            查看AI标记的可疑产品图片
          </a>
          <div style="margin-top: 12px;">
            <label style="font-size: 12px; color: #666; display: block; margin-bottom: 6px;">确认不合格数</label>
            <div style="display: flex; align-items: center; gap: 12px;">
              <input type="number" value="2" style="flex: 1; padding: 10px 14px; border: 1px solid #ffa39e; border-radius: 8px; font-size: 16px; font-weight: 500; text-align: center; background: #fff1f0;">
              <span style="font-size: 14px; color: #666;">件</span>
            </div>
          </div>
        </div>

        <!-- 色泽分级 (可选) -->
        <div style="background: white; padding: 14px; border-radius: 8px;">
          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
            <div style="display: flex; align-items: center; gap: 6px;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fa8c16" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 2a10 10 0 0 1 0 20"/>
              </svg>
              <span style="font-size: 13px; font-weight: 500; color: #333;">色泽分级建议</span>
            </div>
            <span style="font-size: 11px; color: #999;">可选</span>
          </div>
          <div style="display: flex; gap: 8px;">
            <button style="flex: 1; padding: 10px; background: #f6ffed; border: 2px solid #52c41a; border-radius: 8px; font-size: 14px; font-weight: 500; color: #52c41a; cursor: pointer;">
              A级 (85%)
            </button>
            <button style="flex: 1; padding: 10px; background: white; border: 1px solid #d9d9d9; border-radius: 8px; font-size: 14px; color: #666; cursor: pointer;">
              B级
            </button>
            <button style="flex: 1; padding: 10px; background: white; border: 1px solid #d9d9d9; border-radius: 8px; font-size: 14px; color: #666; cursor: pointer;">
              C级
            </button>
          </div>
        </div>
      </div>

      <!-- 手动录入数据区块 -->
      <div class="info-card">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
          <div style="width: 28px; height: 28px; background: #667eea; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
          </div>
          <span style="font-size: 14px; font-weight: 600; color: #333;">手动录入数据</span>
          <span style="font-size: 11px; color: #667eea; background: #f0f5ff; border: 1px solid #adc6ff; padding: 2px 6px; border-radius: 4px;">必填</span>
        </div>

        <div class="form-group">
          <label class="form-label">返工数量</label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <input type="number" class="form-input" value="1" placeholder="输入返工数量" style="flex: 1;">
            <span style="font-size: 14px; color: #666;">件</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">切片厚度标准差 <span style="font-size: 11px; color: #999; font-weight: normal;">(手持测量仪抽检)</span></label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <input type="number" class="form-input" value="0.5" step="0.1" placeholder="输入厚度标准差" style="flex: 1;">
            <span style="font-size: 14px; color: #666;">mm</span>
          </div>
        </div>

        <div class="form-group" style="margin-bottom: 0;">
          <label class="form-label">实际参与人数</label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <input type="number" class="form-input" value="3" placeholder="输入实际参与人数" style="flex: 1;">
            <span style="font-size: 14px; color: #666;">人</span>
          </div>
        </div>
      </div>

      <!-- 备注与问题汇报 -->
      <div class="info-card">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
          <div style="width: 28px; height: 28px; background: #8c8c8c; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
          </div>
          <span style="font-size: 14px; font-weight: 600; color: #333;">备注与问题汇报</span>
        </div>

        <div class="form-group">
          <label class="form-label">环节备注</label>
          <textarea class="form-textarea" placeholder="记录本环节的情况、问题或建议...">切片过程顺利，产品规格符合标准。</textarea>
        </div>

        <!-- 问题汇报 (可选) -->
        <div style="background: #fff7e6; border: 1px solid #ffd591; border-radius: 10px; padding: 14px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 12px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fa8c16" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
              <line x1="12" y1="9" x2="12" y2="13"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <span style="font-size: 13px; font-weight: 500; color: #333;">汇报问题 (可选)</span>
          </div>

          <div class="form-group" style="margin-bottom: 12px;">
            <label class="form-label" style="font-size: 12px;">问题类型</label>
            <div style="display: flex; flex-wrap: wrap; gap: 8px;">
              <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: white; border: 1px solid #d9d9d9; border-radius: 6px; cursor: pointer; font-size: 13px;">
                <input type="radio" name="issue_type" style="accent-color: #fa8c16;">
                设备故障
              </label>
              <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: white; border: 1px solid #d9d9d9; border-radius: 6px; cursor: pointer; font-size: 13px;">
                <input type="radio" name="issue_type" style="accent-color: #fa8c16;">
                质量问题
              </label>
              <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: white; border: 1px solid #d9d9d9; border-radius: 6px; cursor: pointer; font-size: 13px;">
                <input type="radio" name="issue_type" style="accent-color: #fa8c16;">
                人员不足
              </label>
              <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: white; border: 1px solid #d9d9d9; border-radius: 6px; cursor: pointer; font-size: 13px;">
                <input type="radio" name="issue_type" style="accent-color: #fa8c16;">
                原料异常
              </label>
            </div>
          </div>

          <div class="form-group" style="margin-bottom: 12px;">
            <textarea class="form-textarea" placeholder="详细描述问题..." style="background: white;"></textarea>
          </div>

          <div style="display: flex; align-items: center; gap: 12px;">
            <button style="display: flex; align-items: center; gap: 6px; padding: 10px 16px; background: white; border: 1px solid #d9d9d9; border-radius: 8px; font-size: 13px; color: #666; cursor: pointer;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <path d="M21 15l-5-5L5 21"/>
              </svg>
              上传图片
            </button>
            <span style="font-size: 12px; color: #999;">0/3 张</span>
          </div>
        </div>
      </div>

      <!-- AI对比数据 -->
      <div class="info-card" style="background: #f0f5ff; border: 1px solid #adc6ff;">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
          <div style="width: 28px; height: 28px; background: #667eea; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
              <line x1="18" y1="20" x2="18" y2="10"/>
              <line x1="12" y1="20" x2="12" y2="4"/>
              <line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
          </div>
          <span style="font-size: 14px; font-weight: 600; color: #333;">AI对比分析</span>
        </div>

        <div style="display: flex; flex-direction: column; gap: 10px;">
          <!-- 损耗率 -->
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: white; border-radius: 8px;">
            <div>
              <div style="font-size: 13px; color: #666;">当前损耗率</div>
              <div style="font-size: 16px; font-weight: 600; color: #333; margin-top: 2px;">5.3%</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 11px; color: #999;">行业均值: 6.0%</div>
              <div style="display: flex; align-items: center; gap: 4px; margin-top: 4px;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span style="font-size: 12px; color: #52c41a; font-weight: 500;">优于行业</span>
              </div>
            </div>
          </div>

          <!-- 合格率 -->
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: white; border-radius: 8px;">
            <div>
              <div style="font-size: 13px; color: #666;">当前合格率</div>
              <div style="font-size: 16px; font-weight: 600; color: #333; margin-top: 2px;">96%</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 11px; color: #999;">行业均值: 95%</div>
              <div style="display: flex; align-items: center; gap: 4px; margin-top: 4px;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span style="font-size: 12px; color: #52c41a; font-weight: 500;">优于行业</span>
              </div>
            </div>
          </div>

          <!-- 耗时 -->
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: white; border-radius: 8px;">
            <div>
              <div style="font-size: 13px; color: #666;">当前耗时</div>
              <div style="font-size: 16px; font-weight: 600; color: #333; margin-top: 2px;">45分钟</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 11px; color: #999;">历史均值: 50分钟</div>
              <div style="display: flex; align-items: center; gap: 4px; margin-top: 4px;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span style="font-size: 12px; color: #52c41a; font-weight: 500;">效率提升</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 切换到下一环节 -->
      <div class="info-card">
        <h3 class="section-title">切换到下一环节</h3>
        <div style="display: flex; flex-direction: column; gap: 8px;">
          <label class="checkbox-item" style="margin: 0; padding: 14px; border: 2px solid #667eea; border-radius: 8px; background: #f0f5ff;">
            <input type="radio" name="next_stage" checked style="accent-color: #667eea;">
            <div style="flex: 1; margin-left: 8px;">
              <div style="font-size: 14px; font-weight: 500; color: #333;">包装</div>
              <div style="font-size: 12px; color: #999; margin-top: 2px;">预计耗时: 30-45分钟</div>
            </div>
          </label>
          <label class="checkbox-item" style="margin: 0; padding: 14px; border: 1px solid #d9d9d9; border-radius: 8px;">
            <input type="radio" name="next_stage" style="accent-color: #667eea;">
            <div style="flex: 1; margin-left: 8px;">
              <div style="font-size: 14px; font-weight: 500; color: #333;">质检入库</div>
              <div style="font-size: 12px; color: #999; margin-top: 2px;">跳过包装，直接质检</div>
            </div>
          </label>
          <label class="checkbox-item" style="margin: 0; padding: 14px; border: 1px solid #d9d9d9; border-radius: 8px;">
            <input type="radio" name="next_stage" style="accent-color: #667eea;">
            <div style="flex: 1; margin-left: 8px;">
              <div style="font-size: 14px; font-weight: 500; color: #ff4d4f;">暂停生产</div>
              <div style="font-size: 12px; color: #999; margin-top: 2px;">遇到问题需要暂停</div>
            </div>
          </label>
        </div>
      </div>

      <!-- 操作按钮 -->
      <div class="btn-group">
        <a href="batch-detail.html" class="btn btn-secondary">取消</a>
        <a href="batch-detail.html" class="btn btn-primary">保存并继续</a>
      </div>
    </div>
  </div>
</body>
</html>
