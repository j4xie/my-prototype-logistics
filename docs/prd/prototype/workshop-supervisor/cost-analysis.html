<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>成本分析 - 车间主任</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../components.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="../index.html" class="back-to-index">< 返回角色选择</a>

  <div class="mobile-container">
    <!-- 子页面头部 -->
    <div class="subpage-header">
      <a href="batch-detail.html" class="back-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
      </a>
      <span class="title">成本分析</span>
    </div>

    <!-- 主内容 -->
    <div class="main-content" style="padding-top: 16px;">
      <!-- 批次信息 -->
      <div class="info-card">
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <div>
            <div style="font-size: 16px; font-weight: 600; color: #333;">PB-20251227-001</div>
            <div style="font-size: 13px; color: #999; margin-top: 4px;">带鱼片 | 进度: 65%</div>
          </div>
          <span class="batch-stage">切片中</span>
        </div>
      </div>

      <!-- 成本概览 -->
      <div class="info-card" style="background: var(--workshop-gradient); color: white;">
        <h3 style="font-size: 14px; font-weight: 500; opacity: 0.9; margin-bottom: 16px;">成本概览</h3>
        <div style="display: flex; justify-content: space-around; text-align: center;">
          <div>
            <div style="font-size: 28px; font-weight: 600;">2,856</div>
            <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">总成本 (元)</div>
          </div>
          <div style="width: 1px; background: rgba(255,255,255,0.2);"></div>
          <div>
            <div style="font-size: 28px; font-weight: 600;">35.7</div>
            <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">单位成本 (元/kg)</div>
          </div>
          <div style="width: 1px; background: rgba(255,255,255,0.2);"></div>
          <div>
            <div style="font-size: 28px; font-weight: 600; color: #52c41a;">-8%</div>
            <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">较上批</div>
          </div>
        </div>
      </div>

      <!-- 成本明细 -->
      <div class="info-card">
        <h3 class="section-title">成本明细</h3>
        <!-- 原材料成本 -->
        <div style="margin-bottom: 16px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-size: 14px; color: #333;">原材料成本</span>
            <span style="font-size: 14px; font-weight: 500; color: #333;">1,980 元</span>
          </div>
          <div style="height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden;">
            <div style="width: 69%; height: 100%; background: #667eea; border-radius: 4px;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px; color: #999;">
            <span>带鱼 100kg x 19.8元/kg</span>
            <span>69.3%</span>
          </div>
        </div>
        <!-- 人工成本 -->
        <div style="margin-bottom: 16px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-size: 14px; color: #333;">人工成本</span>
            <span style="font-size: 14px; font-weight: 500; color: #333;">525 元</span>
          </div>
          <div style="height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden;">
            <div style="width: 18%; height: 100%; background: #52c41a; border-radius: 4px;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px; color: #999;">
            <span>3人 x 2.5h x 70元/h</span>
            <span>18.4%</span>
          </div>
        </div>
        <!-- 设备折旧 -->
        <div style="margin-bottom: 16px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-size: 14px; color: #333;">设备折旧</span>
            <span style="font-size: 14px; font-weight: 500; color: #333;">186 元</span>
          </div>
          <div style="height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden;">
            <div style="width: 7%; height: 100%; background: #fa8c16; border-radius: 4px;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px; color: #999;">
            <span>切片机A 2.5h</span>
            <span>6.5%</span>
          </div>
        </div>
        <!-- 能耗成本 -->
        <div style="margin-bottom: 16px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-size: 14px; color: #333;">能耗成本</span>
            <span style="font-size: 14px; font-weight: 500; color: #333;">120 元</span>
          </div>
          <div style="height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden;">
            <div style="width: 4%; height: 100%; background: #1890ff; border-radius: 4px;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px; color: #999;">
            <span>电力 + 冷链</span>
            <span>4.2%</span>
          </div>
        </div>
        <!-- 其他 -->
        <div>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-size: 14px; color: #333;">其他费用</span>
            <span style="font-size: 14px; font-weight: 500; color: #333;">45 元</span>
          </div>
          <div style="height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden;">
            <div style="width: 2%; height: 100%; background: #8c8c8c; border-radius: 4px;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px; color: #999;">
            <span>包装材料 + 损耗</span>
            <span>1.6%</span>
          </div>
        </div>
      </div>

      <!-- 效率指标 -->
      <div class="info-card">
        <h3 class="section-title">效率指标</h3>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-item-label">原料转化率</div>
            <div class="info-item-value" style="color: #52c41a;">80%</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">损耗率</div>
            <div class="info-item-value" style="color: #faad14;">5%</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">人均效率</div>
            <div class="info-item-value">17.3 kg/h</div>
          </div>
          <div class="info-item">
            <div class="info-item-label">设备利用率</div>
            <div class="info-item-value" style="color: #52c41a;">85%</div>
          </div>
        </div>
      </div>

      <!-- 成本对比 -->
      <div class="info-card">
        <h3 class="section-title">与上批次对比</h3>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: #f6ffed; border-radius: 8px;">
            <div>
              <div style="font-size: 14px; color: #333;">原材料成本</div>
              <div style="font-size: 12px; color: #999;">上批: 2,100元</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 14px; font-weight: 500; color: #52c41a;">-5.7%</div>
              <div style="font-size: 12px; color: #999;">节省 120元</div>
            </div>
          </div>
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: #f6ffed; border-radius: 8px;">
            <div>
              <div style="font-size: 14px; color: #333;">人工成本</div>
              <div style="font-size: 12px; color: #999;">上批: 600元</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 14px; font-weight: 500; color: #52c41a;">-12.5%</div>
              <div style="font-size: 12px; color: #999;">节省 75元</div>
            </div>
          </div>
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: #fff7e6; border-radius: 8px;">
            <div>
              <div style="font-size: 14px; color: #333;">能耗成本</div>
              <div style="font-size: 12px; color: #999;">上批: 100元</div>
            </div>
            <div style="text-align: right;">
              <div style="font-size: 14px; font-weight: 500; color: #fa8c16;">+20%</div>
              <div style="font-size: 12px; color: #999;">增加 20元</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 优化建议 -->
      <div class="info-card" style="background: #f0f5ff; border: 1px solid #d6e4ff;">
        <h3 class="section-title" style="color: #667eea;">优化建议</h3>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: flex; gap: 12px;">
            <div style="width: 24px; height: 24px; background: #667eea; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
              <span style="font-size: 12px; color: white; font-weight: 600;">1</span>
            </div>
            <div style="flex: 1;">
              <div style="font-size: 14px; font-weight: 500; color: #333;">减少设备空转时间</div>
              <div style="font-size: 13px; color: #666; margin-top: 4px;">切片机B空转时间较长，建议合理调度批次</div>
            </div>
          </div>
          <div style="display: flex; gap: 12px;">
            <div style="width: 24px; height: 24px; background: #667eea; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
              <span style="font-size: 12px; color: white; font-weight: 600;">2</span>
            </div>
            <div style="flex: 1;">
              <div style="font-size: 14px; font-weight: 500; color: #333;">优化人员配置</div>
              <div style="font-size: 13px; color: #666; margin-top: 4px;">增加1名熟练操作员可提升效率15%</div>
            </div>
          </div>
          <div style="display: flex; gap: 12px;">
            <div style="width: 24px; height: 24px; background: #667eea; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
              <span style="font-size: 12px; color: white; font-weight: 600;">3</span>
            </div>
            <div style="flex: 1;">
              <div style="font-size: 14px; font-weight: 500; color: #333;">控制损耗率</div>
              <div style="font-size: 13px; color: #666; margin-top: 4px;">当前损耗率5%，目标控制在3%以内</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回按钮 -->
      <div class="btn-group">
        <a href="batch-detail.html" class="btn btn-primary btn-full">返回批次详情</a>
      </div>
    </div>
  </div>
</body>
</html>
