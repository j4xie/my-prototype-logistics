<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=375, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>质检员 - AI检测</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="../index.html" class="back-to-index">← 返回角色选择</a>

  <div class="phone-container">
    <!-- 头部 -->
    <div class="subpage-header">
      <a href="inspect-form.html" class="back-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15,18 9,12 15,6"/>
        </svg>
      </a>
      <span class="title">AI智能检测</span>
      <span style="margin-left: auto; font-size: 13px; color: var(--qc-primary);">外观检测</span>
    </div>

    <!-- 主内容 -->
    <div class="main-content" style="padding: 0; padding-bottom: 20px;">
      <!-- 相机预览区域 -->
      <div class="camera-preview" style="height: 280px; border-radius: 0; position: relative;">
        <!-- 模拟产品图像 -->
        <div style="position: absolute; inset: 0; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); display: flex; align-items: center; justify-content: center;">
          <div style="width: 200px; height: 140px; background: rgba(255,255,255,0.1); border-radius: 8px; border: 2px dashed rgba(255,255,255,0.3);"></div>
        </div>

        <!-- 检测框和标记 -->
        <div class="defect-marker" style="top: 35%; left: 30%; border-color: #f59e0b;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="#f59e0b" stroke="none">
            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
          </svg>
        </div>
        <div class="defect-marker" style="top: 55%; left: 65%; border-color: #ef4444;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="15" y1="9" x2="9" y2="15"/>
            <line x1="9" y1="9" x2="15" y2="15"/>
          </svg>
        </div>

        <!-- 扫描效果 -->
        <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, transparent, var(--qc-primary), transparent); animation: scan 2s infinite;"></div>

        <style>
          @keyframes scan {
            0% { top: 10%; }
            100% { top: 85%; }
          }
        </style>

        <!-- 检测状态 -->
        <div style="position: absolute; bottom: 12px; left: 12px; right: 12px; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 6px; padding: 6px 12px; background: rgba(0,0,0,0.6); border-radius: 16px; color: white; font-size: 12px;">
            <div style="width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: blink 1s infinite;"></div>
            AI检测中...
          </div>
          <div style="padding: 6px 12px; background: rgba(0,0,0,0.6); border-radius: 16px; color: white; font-size: 12px;">
            已检测 8/10 件
          </div>
        </div>

        <style>
          @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
          }
        </style>
      </div>

      <!-- 检测结果 -->
      <div style="padding: 16px;">
        <!-- AI结果卡片 -->
        <div class="ai-result-card">
          <div class="ai-result-header">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
              <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"/>
              <circle cx="7.5" cy="14.5" r="1.5"/>
              <circle cx="16.5" cy="14.5" r="1.5"/>
            </svg>
            <h3>AI检测结果</h3>
          </div>

          <div class="ai-result-item">
            <div class="ai-result-icon pass">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20,6 9,17 4,12"/>
              </svg>
            </div>
            <span class="ai-result-text">表面完整性</span>
            <span style="font-weight: 600; color: var(--qc-primary);">8/10 件合格</span>
          </div>

          <div class="ai-result-item">
            <div class="ai-result-icon warning">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
            </div>
            <span class="ai-result-text">检测到可疑缺陷</span>
            <span style="font-weight: 600; color: #f59e0b;">2 件</span>
          </div>

          <div class="ai-result-item">
            <div class="ai-result-icon pass">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20,6 9,17 4,12"/>
              </svg>
            </div>
            <span class="ai-result-text">颜色分级</span>
            <span style="font-weight: 600; color: var(--qc-primary);">正常</span>
          </div>
        </div>

        <!-- 缺陷详情 -->
        <div style="background: #fef3c7; border: 1px solid #fde68a; border-radius: 12px; padding: 16px; margin-bottom: 16px;">
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="8" x2="12" y2="12"/>
              <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
            <span style="font-size: 14px; font-weight: 600; color: #92400e;">可疑缺陷详情</span>
          </div>

          <div style="background: white; border-radius: 8px; padding: 12px; margin-bottom: 8px;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px;">
              <span style="font-size: 13px; color: #333;">第3件 - 轻微裂纹</span>
              <span class="confidence-badge">置信度 85%</span>
            </div>
            <p style="font-size: 12px; color: #666;">建议: 人工复核确认</p>
          </div>

          <div style="background: white; border-radius: 8px; padding: 12px;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px;">
              <span style="font-size: 13px; color: #333;">第7件 - 色泽偏暗</span>
              <span class="confidence-badge">置信度 72%</span>
            </div>
            <p style="font-size: 12px; color: #666;">建议: 检查存储条件</p>
          </div>
        </div>

        <!-- AI建议 -->
        <div class="ai-suggestion">
          <div class="ai-suggestion-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <h4>AI建议</h4>
          </div>
          <p class="ai-suggestion-text">
            本批次整体质量良好，2件可疑品建议人工复核。根据历史数据，轻微裂纹产品通常仍可接受，建议标记后继续检验流程。
          </p>
        </div>

        <!-- 历史对比 -->
        <div style="background: white; border-radius: 12px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2">
              <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
            </svg>
            <span style="font-size: 14px; font-weight: 500; color: #333;">AI检测统计</span>
          </div>
          <div style="display: flex; justify-content: space-around; text-align: center;">
            <div>
              <div style="font-size: 20px; font-weight: 600; color: var(--qc-primary);">91%</div>
              <div style="font-size: 12px; color: #999;">今日准确率</div>
            </div>
            <div>
              <div style="font-size: 20px; font-weight: 600; color: #333;">2.3s</div>
              <div style="font-size: 12px; color: #999;">平均处理</div>
            </div>
            <div>
              <div style="font-size: 20px; font-weight: 600; color: #333;">156</div>
              <div style="font-size: 12px; color: #999;">今日检测</div>
            </div>
          </div>
        </div>

        <!-- 操作按钮 -->
        <div class="btn-group">
          <button class="btn btn-secondary" onclick="location.reload()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="1,4 1,10 7,10"/>
              <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
            </svg>
            重新检测
          </button>
          <button class="btn btn-primary" onclick="location.href='inspect-form.html'">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20,6 9,17 4,12"/>
            </svg>
            确认结果
          </button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
