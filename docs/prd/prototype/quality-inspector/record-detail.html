<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=375, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>质检员 - 检验详情</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="../index.html" class="back-to-index">← 返回角色选择</a>

  <div class="phone-container">
    <!-- 头部 -->
    <div class="subpage-header">
      <a href="records.html" class="back-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15,18 9,12 15,6"/>
        </svg>
      </a>
      <span class="title">检验详情</span>
      <button class="icon-btn" style="background: transparent;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2">
          <circle cx="12" cy="12" r="1"/>
          <circle cx="12" cy="5" r="1"/>
          <circle cx="12" cy="19" r="1"/>
        </svg>
      </button>
    </div>

    <!-- 主内容 -->
    <div class="main-content" style="padding-bottom: 20px;">
      <!-- 批次信息 -->
      <div class="batch-info-card">
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <div>
            <div class="batch-info-title">PB-20251228-001</div>
            <div class="batch-info-subtitle">带鱼片 | 50kg</div>
          </div>
          <div class="grade-badge grade-badge-lg grade-b">B</div>
        </div>
      </div>

      <!-- 检验结果 -->
      <div class="result-summary-card">
        <div class="result-summary-header">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22,4 12,14.01 9,11.01"/>
          </svg>
          <h3>检验结果: 通过</h3>
        </div>
        <div class="result-summary-grid">
          <div class="result-summary-item">
            <span class="result-summary-label">抽样数量</span>
            <span class="result-summary-value">10 件</span>
          </div>
          <div class="result-summary-item">
            <span class="result-summary-label">合格数量</span>
            <span class="result-summary-value pass">9 件</span>
          </div>
          <div class="result-summary-item">
            <span class="result-summary-label">合格率</span>
            <span class="result-summary-value pass">90%</span>
          </div>
          <div class="result-summary-item">
            <span class="result-summary-label">质量等级</span>
            <span class="result-summary-value">B级</span>
          </div>
        </div>
      </div>

      <!-- 分数明细 -->
      <div class="score-display">
        <div class="score-circle">
          <div class="score-value">93</div>
          <div class="score-max">/100</div>
        </div>
        <div class="score-details">
          <div class="score-item">
            <span class="score-item-name">外观</span>
            <span class="score-item-value">18/20</span>
          </div>
          <div class="score-item">
            <span class="score-item-name">气味</span>
            <span class="score-item-value">20/20</span>
          </div>
          <div class="score-item">
            <span class="score-item-name">规格</span>
            <span class="score-item-value">16/20</span>
          </div>
          <div class="score-item">
            <span class="score-item-name">重量</span>
            <span class="score-item-value">19/20</span>
          </div>
          <div class="score-item">
            <span class="score-item-name">包装</span>
            <span class="score-item-value">20/20</span>
          </div>
        </div>
      </div>

      <!-- HACCP检查详情 -->
      <div style="margin-bottom: 16px;">
        <div class="section-title">检验项目详情</div>

        <div class="check-item-card appearance">
          <div class="check-item-header">
            <div class="check-item-title">
              <span class="check-item-number appearance">1</span>
              <span class="check-item-name">外观检查</span>
            </div>
            <span style="font-size: 16px; font-weight: 600; color: var(--check-appearance);">18/20</span>
          </div>
          <div style="font-size: 13px; color: #666;">
            <div style="margin-bottom: 6px;">✓ 色泽正常</div>
            <div style="margin-bottom: 6px;">✓ 形态完整</div>
            <div style="color: #f59e0b;">⚠ 1件轻微裂纹</div>
          </div>
          <div class="ai-assist-row" style="margin-top: 10px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
              <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1"/>
            </svg>
            <span class="ai-assist-text">AI检测: 8/10件表面完整</span>
          </div>
        </div>

        <div class="check-item-card smell">
          <div class="check-item-header">
            <div class="check-item-title">
              <span class="check-item-number smell">2</span>
              <span class="check-item-name">气味检查</span>
            </div>
            <span style="font-size: 16px; font-weight: 600; color: var(--check-smell);">20/20</span>
          </div>
          <div style="font-size: 13px; color: #666;">
            <div>✓ 气味正常，无异味</div>
          </div>
        </div>

        <div class="check-item-card spec">
          <div class="check-item-header">
            <div class="check-item-title">
              <span class="check-item-number spec">3</span>
              <span class="check-item-name">规格检查</span>
            </div>
            <span style="font-size: 16px; font-weight: 600; color: var(--check-spec);">16/20</span>
          </div>
          <div style="font-size: 13px; color: #666;">
            <div style="margin-bottom: 6px;">标准: 15cm ±2cm</div>
            <div style="color: #f59e0b;">⚠ 2件尺寸略小 (12.5cm)</div>
          </div>
          <div class="ai-assist-row warning" style="margin-top: 10px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            </svg>
            <span class="ai-assist-text" style="color: #f59e0b;">AI测量: 平均14.8cm</span>
          </div>
        </div>

        <div class="check-item-card weight">
          <div class="check-item-header">
            <div class="check-item-title">
              <span class="check-item-number weight">4</span>
              <span class="check-item-name">重量检查</span>
            </div>
            <span style="font-size: 16px; font-weight: 600; color: var(--check-weight);">19/20</span>
          </div>
          <div style="font-size: 13px; color: #666;">
            <div style="margin-bottom: 6px;">标准: 150g ±10g</div>
            <div>✓ 平均重量: 148g</div>
          </div>
        </div>

        <div class="check-item-card package">
          <div class="check-item-header">
            <div class="check-item-title">
              <span class="check-item-number package">5</span>
              <span class="check-item-name">包装检查</span>
            </div>
            <span style="font-size: 16px; font-weight: 600; color: var(--check-package);">20/20</span>
          </div>
          <div style="font-size: 13px; color: #666;">
            <div style="margin-bottom: 6px;">✓ 包装完整</div>
            <div>✓ 标签清晰</div>
          </div>
          <div class="ai-assist-row" style="margin-top: 10px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
              <polyline points="20,6 9,17 4,12"/>
            </svg>
            <span class="ai-assist-text">AI检测: 包装完整率100%</span>
          </div>
        </div>
      </div>

      <!-- AI建议 -->
      <div class="ai-suggestion">
        <div class="ai-suggestion-header">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--qc-primary)" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
          <h4>AI分析建议</h4>
        </div>
        <p class="ai-suggestion-text">
          规格得分较低(16/20)，连续3批带鱼片规格评分下降。建议：<br>
          1. 检查切片机刀片磨损情况<br>
          2. 确认原料尺寸是否符合标准<br>
          3. 与切片工序主管沟通调整参数
        </p>
      </div>

      <!-- 检验信息 -->
      <div style="background: white; border-radius: 12px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
        <div class="section-title" style="margin-bottom: 12px; padding: 0;">检验信息</div>
        <div style="display: grid; gap: 10px; font-size: 13px;">
          <div style="display: flex; justify-content: space-between;">
            <span style="color: #999;">检验时间</span>
            <span style="color: #333;">2025-12-28 10:30:25</span>
          </div>
          <div style="display: flex; justify-content: space-between;">
            <span style="color: #999;">检验用时</span>
            <span style="color: #333;">8分32秒</span>
          </div>
          <div style="display: flex; justify-content: space-between;">
            <span style="color: #999;">检验员</span>
            <span style="color: #333;">张质检 (QC-001)</span>
          </div>
          <div style="display: flex; justify-content: space-between;">
            <span style="color: #999;">来源工序</span>
            <span style="color: #333;">切片工序</span>
          </div>
          <div style="display: flex; justify-content: space-between;">
            <span style="color: #999;">操作员</span>
            <span style="color: #333;">李师傅 (OP-003)</span>
          </div>
        </div>
      </div>

      <!-- 备注 -->
      <div style="background: white; border-radius: 12px; padding: 16px; margin-top: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
        <div class="section-title" style="margin-bottom: 12px; padding: 0;">检验备注</div>
        <p style="font-size: 14px; color: #666; line-height: 1.6;">
          2件规格略小，建议调整切割参数。整体质量良好，产品可正常流转至下一工序。
        </p>
      </div>

      <!-- 操作按钮 -->
      <div class="btn-group">
        <button class="btn btn-secondary" onclick="window.print()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6,9 6,2 18,2 18,9"/>
            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
            <rect x="6" y="14" width="12" height="8"/>
          </svg>
          打印报告
        </button>
        <button class="btn btn-primary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
            <polyline points="16,6 12,2 8,6"/>
            <line x1="12" y1="2" x2="12" y2="15"/>
          </svg>
          分享
        </button>
      </div>
    </div>
  </div>
</body>
</html>
