<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>供应商审核 - 平台管理员</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../components.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header header--platform">
    <a href="supplier-rules.html" class="back-btn">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
    <h1 class="header__title">供应商审核</h1>
    <button class="icon-btn">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M2.5 6.667h15M6.667 6.667V4.167c0-.92.746-1.667 1.666-1.667h3.334c.92 0 1.666.746 1.666 1.667v2.5m1.667 0v9.166c0 .92-.746 1.667-1.667 1.667H6.667c-.92 0-1.667-.746-1.667-1.667V6.667h10z" stroke="currentColor" stroke-width="1.5"/>
      </svg>
    </button>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card stat-card--warning">
        <div class="stat-card__value">12</div>
        <div class="stat-card__label">待审核</div>
      </div>
      <div class="stat-card stat-card--success">
        <div class="stat-card__value">156</div>
        <div class="stat-card__label">已通过</div>
      </div>
      <div class="stat-card stat-card--error">
        <div class="stat-card__value">8</div>
        <div class="stat-card__label">已拒绝</div>
      </div>
    </div>

    <!-- Filter Tabs -->
    <div class="tabs">
      <button class="tab tab--active" data-status="pending">待审核 (12)</button>
      <button class="tab" data-status="approved">已通过 (156)</button>
      <button class="tab" data-status="rejected">已拒绝 (8)</button>
    </div>

    <!-- Pending Suppliers List -->
    <div class="card-list" data-list="pending">
      <!-- Supplier Card 1 -->
      <div class="card">
        <div class="card__header">
          <div>
            <h3 class="card__title">海洋之星水产供应</h3>
            <span class="badge badge--warning">待审核</span>
          </div>
        </div>
        <div class="card__body">
          <div class="info-row">
            <span class="info-label">供应商类型</span>
            <span class="info-value">
              <span class="badge badge--sm badge--info">鲜活海鲜</span>
              <span class="badge badge--sm badge--info">冷冻水产</span>
            </span>
          </div>
          <div class="info-row">
            <span class="info-label">申请工厂</span>
            <span class="info-value">F001 - 白垩纪水产加工厂</span>
          </div>
          <div class="info-row">
            <span class="info-label">申请时间</span>
            <span class="info-value">2025-12-28 09:15</span>
          </div>
          <div class="info-row">
            <span class="info-label">联系人</span>
            <span class="info-value">张海涛 / 13800138001</span>
          </div>
          <div class="info-row">
            <span class="info-label">提交资质</span>
            <div class="document-list">
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>营业执照.pdf</span>
              </div>
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>食品经营许可证.pdf</span>
              </div>
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>质检报告.pdf</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card__footer">
          <button class="btn btn--sm btn--secondary" onclick="alert('要求补充材料')">补充材料</button>
          <button class="btn btn--sm btn--error" onclick="showRejectModal('海洋之星水产供应')">拒绝</button>
          <button class="btn btn--sm btn--success" onclick="showApproveModal('海洋之星水产供应')">通过</button>
        </div>
      </div>

      <!-- Supplier Card 2 -->
      <div class="card">
        <div class="card__header">
          <div>
            <h3 class="card__title">绿源包装材料有限公司</h3>
            <span class="badge badge--warning">待审核</span>
          </div>
        </div>
        <div class="card__body">
          <div class="info-row">
            <span class="info-label">供应商类型</span>
            <span class="info-value">
              <span class="badge badge--sm badge--success">包装材料</span>
            </span>
          </div>
          <div class="info-row">
            <span class="info-label">申请工厂</span>
            <span class="info-value">F001 - 白垩纪水产加工厂</span>
          </div>
          <div class="info-row">
            <span class="info-label">申请时间</span>
            <span class="info-value">2025-12-27 14:30</span>
          </div>
          <div class="info-row">
            <span class="info-label">联系人</span>
            <span class="info-value">李明 / 13900139002</span>
          </div>
          <div class="info-row">
            <span class="info-label">提交资质</span>
            <div class="document-list">
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>营业执照.pdf</span>
              </div>
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>食品级认证.pdf</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card__footer">
          <button class="btn btn--sm btn--secondary" onclick="alert('要求补充材料')">补充材料</button>
          <button class="btn btn--sm btn--error" onclick="showRejectModal('绿源包装材料有限公司')">拒绝</button>
          <button class="btn btn--sm btn--success" onclick="showApproveModal('绿源包装材料有限公司')">通过</button>
        </div>
      </div>

      <!-- Supplier Card 3 -->
      <div class="card">
        <div class="card__header">
          <div>
            <h3 class="card__title">味美调味品批发中心</h3>
            <span class="badge badge--warning">待审核</span>
          </div>
        </div>
        <div class="card__body">
          <div class="info-row">
            <span class="info-label">供应商类型</span>
            <span class="info-value">
              <span class="badge badge--sm badge--warning">调味料</span>
            </span>
          </div>
          <div class="info-row">
            <span class="info-label">申请工厂</span>
            <span class="info-value">F008 - 海洋之星水产</span>
          </div>
          <div class="info-row">
            <span class="info-label">申请时间</span>
            <span class="info-value">2025-12-26 10:45</span>
          </div>
          <div class="info-row">
            <span class="info-label">联系人</span>
            <span class="info-value">王芳 / 13700137003</span>
          </div>
          <div class="info-row">
            <span class="info-label">提交资质</span>
            <div class="document-list">
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>营业执照.pdf</span>
              </div>
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>食品经营许可证.pdf</span>
              </div>
              <div class="document-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M4 2h5l3 3v9H4V2z" stroke="#0ea5e9" stroke-width="1.5"/>
                  <path d="M9 2v3h3" stroke="#0ea5e9" stroke-width="1.5"/>
                </svg>
                <span>产品检验报告.pdf</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card__footer">
          <button class="btn btn--sm btn--secondary" onclick="alert('要求补充材料')">补充材料</button>
          <button class="btn btn--sm btn--error" onclick="showRejectModal('味美调味品批发中心')">拒绝</button>
          <button class="btn btn--sm btn--success" onclick="showApproveModal('味美调味品批发中心')">通过</button>
        </div>
      </div>
    </div>

    <!-- Approved Suppliers List (hidden by default) -->
    <div class="card-list" data-list="approved" style="display: none;">
      <div class="card">
        <div class="card__header">
          <div>
            <h3 class="card__title">鲜悦海鲜供应链</h3>
            <span class="badge badge--success">已通过</span>
          </div>
        </div>
        <div class="card__body">
          <div class="info-row">
            <span class="info-label">供应商类型</span>
            <span class="info-value">
              <span class="badge badge--sm badge--info">鲜活海鲜</span>
            </span>
          </div>
          <div class="info-row">
            <span class="info-label">审核时间</span>
            <span class="info-value">2025-12-20 11:20</span>
          </div>
          <div class="info-row">
            <span class="info-label">服务工厂</span>
            <span class="info-value">3 家工厂</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Rejected Suppliers List (hidden by default) -->
    <div class="card-list" data-list="rejected" style="display: none;">
      <div class="card">
        <div class="card__header">
          <div>
            <h3 class="card__title">某不合格供应商</h3>
            <span class="badge badge--error">已拒绝</span>
          </div>
        </div>
        <div class="card__body">
          <div class="info-row">
            <span class="info-label">拒绝原因</span>
            <span class="info-value">资质不全，缺少食品经营许可证</span>
          </div>
          <div class="info-row">
            <span class="info-label">拒绝时间</span>
            <span class="info-value">2025-12-15 16:30</span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Approve Modal -->
  <div id="approveModal" class="modal" style="display: none;">
    <div class="modal__backdrop" onclick="hideApproveModal()"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h3>审核通过</h3>
        <button class="icon-btn" onclick="hideApproveModal()">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M5 5L15 15M5 15L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="modal__body">
        <p id="approveText" style="margin-bottom: 16px;"></p>
        <div class="form-group">
          <label class="form-label">备注（可选）</label>
          <textarea class="form-input" rows="3" placeholder="添加审核备注..."></textarea>
        </div>
      </div>
      <div class="modal__footer">
        <button class="btn btn--secondary" onclick="hideApproveModal()">取消</button>
        <button class="btn btn--success" onclick="confirmApprove()">确认通过</button>
      </div>
    </div>
  </div>

  <!-- Reject Modal -->
  <div id="rejectModal" class="modal" style="display: none;">
    <div class="modal__backdrop" onclick="hideRejectModal()"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h3>拒绝申请</h3>
        <button class="icon-btn" onclick="hideRejectModal()">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M5 5L15 15M5 15L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="modal__body">
        <p id="rejectText" style="margin-bottom: 16px;"></p>
        <div class="form-group">
          <label class="form-label">拒绝原因 <span style="color: #ef4444;">*</span></label>
          <textarea class="form-input" rows="4" placeholder="请说明拒绝原因..." required></textarea>
        </div>
      </div>
      <div class="modal__footer">
        <button class="btn btn--secondary" onclick="hideRejectModal()">取消</button>
        <button class="btn btn--error" onclick="confirmReject()">确认拒绝</button>
      </div>
    </div>
  </div>

  <script>
    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function() {
        const status = this.dataset.status;

        // Update active tab
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('tab--active'));
        this.classList.add('tab--active');

        // Show corresponding list
        document.querySelectorAll('[data-list]').forEach(list => {
          list.style.display = list.dataset.list === status ? 'block' : 'none';
        });
      });
    });

    // Approve modal
    function showApproveModal(supplierName) {
      document.getElementById('approveText').textContent = `确认通过「${supplierName}」的供应商申请?`;
      document.getElementById('approveModal').style.display = 'block';
    }

    function hideApproveModal() {
      document.getElementById('approveModal').style.display = 'none';
    }

    function confirmApprove() {
      alert('审核通过');
      hideApproveModal();
    }

    // Reject modal
    function showRejectModal(supplierName) {
      document.getElementById('rejectText').textContent = `确认拒绝「${supplierName}」的供应商申请?`;
      document.getElementById('rejectModal').style.display = 'block';
    }

    function hideRejectModal() {
      document.getElementById('rejectModal').style.display = 'none';
    }

    function confirmReject() {
      const reason = document.querySelector('#rejectModal textarea').value;
      if (!reason.trim()) {
        alert('请填写拒绝原因');
        return;
      }
      alert('已拒绝申请');
      hideRejectModal();
    }
  </script>
</body>
</html>
