<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>紧急插单 - 调度员</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; min-height: 100vh; }
    .mobile-container { max-width: 375px; margin: 0 auto; background: #fff; min-height: 100vh; position: relative; padding-bottom: 70px; }
    .header { background: linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%); padding: 48px 16px 20px; color: #fff; }
    .header-content { display: flex; align-items: center; gap: 12px; }
    .back-btn { width: 32px; height: 32px; border-radius: 8px; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; cursor: pointer; }
    .back-btn svg { width: 20px; height: 20px; fill: #fff; }
    .header h1 { font-size: 18px; font-weight: 600; }
    .urgent-badge { margin-left: auto; background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; gap: 4px; }
    .urgent-badge svg { width: 14px; height: 14px; fill: #fff; }
    .warning-banner { margin: 16px; padding: 12px 16px; background: #fff7e6; border: 1px solid #ffd591; border-radius: 8px; display: flex; align-items: flex-start; gap: 10px; }
    .warning-banner svg { width: 20px; height: 20px; fill: #fa8c16; flex-shrink: 0; margin-top: 2px; }
    .warning-text { font-size: 13px; color: #d48806; line-height: 1.5; }
    .form-section { padding: 0 16px 16px; }
    .section-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .section-title::before { content: ''; width: 3px; height: 14px; background: linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%); border-radius: 2px; }
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 13px; color: #666; margin-bottom: 6px; }
    .form-label.required::after { content: ' *'; color: #ff4d4f; }
    .form-input { width: 100%; padding: 12px; border: 1px solid #e8e8e8; border-radius: 8px; font-size: 14px; background: #fafafa; }
    .form-input:focus { outline: none; border-color: #ff4d4f; background: #fff; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .form-textarea { width: 100%; padding: 12px; border: 1px solid #e8e8e8; border-radius: 8px; font-size: 14px; background: #fafafa; min-height: 80px; resize: vertical; }
    .priority-selector { display: flex; gap: 8px; }
    .priority-option { flex: 1; padding: 12px; text-align: center; border: 2px solid #e8e8e8; border-radius: 8px; font-size: 14px; cursor: pointer; transition: all 0.3s; }
    .priority-option.critical { border-color: #ff4d4f; color: #ff4d4f; }
    .priority-option.critical.active { background: #ff4d4f; color: #fff; }
    .priority-option.high { border-color: #fa8c16; color: #fa8c16; }
    .priority-option.high.active { background: #fa8c16; color: #fff; }
    .impact-analysis { margin: 0 16px 16px; background: #fff1f0; border: 1px solid #ffccc7; border-radius: 12px; padding: 16px; }
    .impact-header { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
    .impact-icon { width: 24px; height: 24px; fill: #ff4d4f; }
    .impact-title { font-size: 14px; font-weight: 600; color: #cf1322; }
    .impact-list { list-style: none; }
    .impact-item { display: flex; align-items: flex-start; gap: 8px; padding: 8px 0; border-bottom: 1px dashed #ffccc7; font-size: 13px; color: #a8071a; }
    .impact-item:last-child { border-bottom: none; }
    .impact-item svg { width: 16px; height: 16px; fill: #ff4d4f; flex-shrink: 0; margin-top: 2px; }
    .ai-suggestion { margin: 0 16px 16px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 50%, #fbc2eb 100%); border-radius: 12px; padding: 14px; color: #fff; }
    .ai-suggestion-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
    .ai-suggestion-title { font-size: 14px; font-weight: 600; }
    .ai-suggestion-content { font-size: 13px; opacity: 0.95; line-height: 1.5; margin-bottom: 10px; }
    .ai-options { display: flex; gap: 8px; }
    .ai-option { flex: 1; padding: 10px; background: rgba(255,255,255,0.2); border-radius: 8px; text-align: center; cursor: pointer; }
    .ai-option-value { font-size: 16px; font-weight: 600; }
    .ai-option-label { font-size: 11px; opacity: 0.9; margin-top: 2px; }
    .ai-option.recommended { background: rgba(255,255,255,0.35); border: 1px solid rgba(255,255,255,0.5); }
    .ai-option.recommended::after { content: '推荐'; font-size: 10px; background: #fff; color: #722ed1; padding: 2px 6px; border-radius: 4px; margin-left: 4px; }
    .affected-plans { margin: 0 16px 16px; }
    .affected-plan { display: flex; align-items: center; justify-content: space-between; padding: 12px; background: #fafafa; border-radius: 8px; margin-bottom: 8px; }
    .affected-plan-info { display: flex; align-items: center; gap: 10px; }
    .affected-plan-icon { width: 36px; height: 36px; border-radius: 8px; background: #fff7e6; display: flex; align-items: center; justify-content: center; }
    .affected-plan-icon svg { width: 20px; height: 20px; fill: #fa8c16; }
    .affected-plan-name { font-size: 14px; color: #333; font-weight: 500; }
    .affected-plan-desc { font-size: 12px; color: #999; margin-top: 2px; }
    .affected-plan-status { font-size: 12px; padding: 4px 8px; border-radius: 4px; background: #fff7e6; color: #d46b08; }
    .action-buttons { padding: 16px; display: flex; gap: 12px; }
    .btn { flex: 1; padding: 14px; border-radius: 10px; font-size: 15px; font-weight: 500; cursor: pointer; border: none; text-align: center; }
    .btn-secondary { background: #f5f5f5; color: #666; }
    .btn-danger { background: linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%); color: #fff; }
    .bottom-nav { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 375px; background: #fff; display: flex; justify-content: space-around; padding: 8px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 100; }
    .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; text-decoration: none; color: #999; font-size: 10px; position: relative; }
    .nav-item.active { color: #a18cd1; }
    .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
    .nav-item.ai-nav { color: #fff; }
    .nav-item.ai-nav::before { content: ''; position: absolute; top: -8px; left: 50%; transform: translateX(-50%); width: 48px; height: 48px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 100%); border-radius: 50%; z-index: -1; }
    .nav-item.ai-nav svg { fill: #fff; position: relative; top: 4px; }
    .nav-item.ai-nav span { position: relative; top: 4px; color: #722ed1; }
  </style>
</head>
<body>
  <div class="mobile-container">
    <div class="header">
      <div class="header-content">
        <div class="back-btn" onclick="history.back()"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg></div>
        <h1>紧急插单</h1>
        <div class="urgent-badge"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>紧急</div>
      </div>
    </div>
    <div class="warning-banner">
      <svg viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
      <div class="warning-text">紧急插单将影响当前生产排程，请确认订单信息准确无误。系统将自动评估影响范围并调整排产计划。</div>
    </div>
    <div class="form-section">
      <div class="section-title">订单信息</div>
      <div class="form-group"><label class="form-label required">客户名称</label><input type="text" class="form-input" placeholder="请输入客户名称" value="鲜生超市"></div>
      <div class="form-group"><label class="form-label required">产品类型</label><select class="form-input"><option value="">请选择产品</option><option value="1" selected>带鱼切片</option><option value="2">黄鱼去骨</option><option value="3">鱿鱼圈</option></select></div>
      <div class="form-row">
        <div class="form-group"><label class="form-label required">数量 (kg)</label><input type="number" class="form-input" value="2000"></div>
        <div class="form-group"><label class="form-label required">交付日期</label><input type="date" class="form-input" value="2024-12-29"></div>
      </div>
    </div>
    <div class="form-section">
      <div class="section-title">紧急程度</div>
      <div class="priority-selector">
        <div class="priority-option critical active">特急 (24h内)</div>
        <div class="priority-option high">紧急 (48h内)</div>
      </div>
    </div>
    <div class="impact-analysis">
      <div class="impact-header"><svg class="impact-icon" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg><span class="impact-title">影响评估</span></div>
      <ul class="impact-list">
        <li class="impact-item"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>PP-2024-0129 (黄鱼去骨) 将延期约4小时</li>
        <li class="impact-item"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>需临时增加切片车间2名工人</li>
        <li class="impact-item"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>加班成本预估: ¥1,200</li>
      </ul>
    </div>
    <div class="ai-suggestion">
      <div class="ai-suggestion-header"><svg width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span class="ai-suggestion-title">AI 插单方案</span></div>
      <div class="ai-suggestion-content">AI已分析3种可行方案，以下是最优插单时间点，可最小化对现有计划的影响：</div>
      <div class="ai-options">
        <div class="ai-option"><div class="ai-option-value">今日16:00</div><div class="ai-option-label">延期2计划</div></div>
        <div class="ai-option recommended"><div class="ai-option-value">明日08:00</div><div class="ai-option-label">延期1计划</div></div>
        <div class="ai-option"><div class="ai-option-value">明日16:00</div><div class="ai-option-label">无影响</div></div>
      </div>
    </div>
    <div class="form-section"><div class="section-title">受影响计划</div></div>
    <div class="affected-plans">
      <div class="affected-plan">
        <div class="affected-plan-info">
          <div class="affected-plan-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
          <div><div class="affected-plan-name">PP-2024-0129</div><div class="affected-plan-desc">黄鱼去骨 3000kg</div></div>
        </div>
        <div class="affected-plan-status">延期4h</div>
      </div>
    </div>
    <div class="form-section">
      <div class="section-title">备注说明</div>
      <textarea class="form-textarea" placeholder="请输入插单原因或其他说明...">客户紧急追加订单，需优先处理。</textarea>
    </div>
    <div class="action-buttons">
      <button class="btn btn-secondary" onclick="history.back()">取消</button>
      <button class="btn btn-danger">确认插单</button>
    </div>
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span>首页</span></a>
      <a href="plan-list.html" class="nav-item active"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg><span>计划</span></a>
      <a href="ai-schedule.html" class="nav-item ai-nav"><svg viewBox="0 0 24 24"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span>AI调度</span></a>
      <a href="personnel-list.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span>人员</span></a>
      <a href="profile.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>我的</span></a>
    </nav>
  </div>
  <script>
    document.querySelectorAll('.priority-option').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.priority-option').forEach(i => i.classList.remove('active'));
        this.classList.add('active');
      });
    });
  </script>
</body>
</html>
