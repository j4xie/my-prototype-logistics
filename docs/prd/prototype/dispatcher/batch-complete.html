<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>批次完成确认 - 调度员</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; min-height: 100vh; }
    .mobile-container { max-width: 375px; margin: 0 auto; background: #fff; min-height: 100vh; position: relative; padding-bottom: 70px; }
    .header { background: linear-gradient(135deg, #52c41a 0%, #73d13d 100%); padding: 48px 16px 20px; color: #fff; }
    .header-content { display: flex; align-items: center; gap: 12px; }
    .back-btn { width: 32px; height: 32px; border-radius: 8px; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; cursor: pointer; }
    .back-btn svg { width: 20px; height: 20px; fill: #fff; }
    .header h1 { font-size: 18px; font-weight: 600; }
    .batch-card { margin: 16px; background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%); border-radius: 12px; padding: 16px; color: #fff; }
    .batch-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; }
    .batch-number { font-size: 18px; font-weight: 600; }
    .batch-status { background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 12px; font-size: 12px; }
    .batch-progress { margin-bottom: 16px; }
    .progress-label { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px; }
    .progress-bar { height: 8px; background: rgba(255,255,255,0.3); border-radius: 4px; overflow: hidden; }
    .progress-fill { height: 100%; background: #fff; border-radius: 4px; }
    .batch-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .batch-info-item { font-size: 12px; opacity: 0.9; }
    .batch-info-item strong { display: block; font-size: 16px; opacity: 1; margin-top: 4px; }
    .form-section { padding: 0 16px; margin-bottom: 16px; }
    .section-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .section-title::before { content: ''; width: 3px; height: 14px; background: linear-gradient(135deg, #52c41a 0%, #73d13d 100%); border-radius: 2px; }
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 13px; color: #666; margin-bottom: 6px; }
    .form-input { width: 100%; padding: 12px; border: 1px solid #e8e8e8; border-radius: 8px; font-size: 14px; background: #fafafa; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .form-textarea { width: 100%; padding: 12px; border: 1px solid #e8e8e8; border-radius: 8px; font-size: 14px; background: #fafafa; min-height: 80px; resize: vertical; }
    .quantity-summary { background: #f6ffed; border: 1px solid #b7eb8f; border-radius: 12px; padding: 16px; margin: 0 16px 16px; }
    .quantity-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px dashed #d9f7be; }
    .quantity-row:last-child { border-bottom: none; }
    .quantity-label { font-size: 14px; color: #666; }
    .quantity-value { font-size: 16px; color: #333; font-weight: 500; }
    .quantity-value.highlight { color: #52c41a; font-size: 20px; }
    .quantity-value.warning { color: #fa8c16; }
    .quality-check { margin: 0 16px 16px; padding: 16px; background: #fff; border-radius: 12px; border: 1px solid #e8e8e8; }
    .check-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f0f0f0; }
    .check-item:last-child { border-bottom: none; }
    .check-info { display: flex; align-items: center; gap: 10px; }
    .check-icon { width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
    .check-icon.passed { background: #f6ffed; }
    .check-icon.passed svg { fill: #52c41a; }
    .check-icon.pending { background: #fffbe6; }
    .check-icon.pending svg { fill: #fa8c16; }
    .check-name { font-size: 14px; color: #333; }
    .check-status { font-size: 12px; padding: 4px 8px; border-radius: 4px; }
    .check-status.passed { background: #f6ffed; color: #52c41a; }
    .check-status.pending { background: #fffbe6; color: #fa8c16; }
    .ai-analysis { margin: 16px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 50%, #fbc2eb 100%); border-radius: 12px; padding: 14px; color: #fff; }
    .ai-analysis-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
    .ai-analysis-title { font-size: 14px; font-weight: 600; }
    .ai-metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 10px; }
    .ai-metric { text-align: center; background: rgba(255,255,255,0.15); border-radius: 8px; padding: 8px; }
    .ai-metric-value { font-size: 18px; font-weight: 600; }
    .ai-metric-label { font-size: 11px; opacity: 0.9; }
    .ai-analysis-content { font-size: 13px; opacity: 0.95; line-height: 1.5; }
    .action-buttons { padding: 16px; display: flex; gap: 12px; }
    .btn { flex: 1; padding: 14px; border-radius: 10px; font-size: 15px; font-weight: 500; cursor: pointer; border: none; text-align: center; }
    .btn-secondary { background: #f5f5f5; color: #666; }
    .btn-success { background: linear-gradient(135deg, #52c41a 0%, #73d13d 100%); color: #fff; }
    .bottom-nav { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 375px; background: #fff; display: flex; justify-content: space-around; padding: 8px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 100; }
    .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; text-decoration: none; color: #999; font-size: 10px; position: relative; }
    .nav-item.active { color: #a18cd1; }
    .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
    .nav-item.ai-nav { color: #fff; }
    .nav-item.ai-nav::before { content: ''; position: absolute; top: -8px; left: 50%; transform: translateX(-50%); width: 48px; height: 48px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 100%); border-radius: 50%; z-index: -1; }
    .nav-item.ai-nav svg { fill: #fff; position: relative; top: 4px; }
    .nav-item.ai-nav span { position: relative; top: 4px; color: #722ed1; }
  </style>
</head>
<body>
  <div class="mobile-container">
    <div class="header">
      <div class="header-content">
        <div class="back-btn" onclick="history.back()">
          <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        </div>
        <h1>批次完成确认</h1>
      </div>
    </div>
    <div class="batch-card">
      <div class="batch-header">
        <div class="batch-number">PB-2024-1228-001</div>
        <div class="batch-status">生产中</div>
      </div>
      <div class="batch-progress">
        <div class="progress-label"><span>生产进度</span><span>4,750 / 5,000 kg (95%)</span></div>
        <div class="progress-bar"><div class="progress-fill" style="width: 95%"></div></div>
      </div>
      <div class="batch-info-grid">
        <div class="batch-info-item">产品类型<strong>带鱼切片</strong></div>
        <div class="batch-info-item">生产车间<strong>切片车间</strong></div>
        <div class="batch-info-item">开始时间<strong>08:00</strong></div>
        <div class="batch-info-item">用时<strong>6小时32分</strong></div>
      </div>
    </div>
    <div class="quantity-summary">
      <div class="quantity-row"><span class="quantity-label">目标产量</span><span class="quantity-value">5,000 kg</span></div>
      <div class="quantity-row"><span class="quantity-label">实际产量</span><span class="quantity-value highlight">4,850 kg</span></div>
      <div class="quantity-row"><span class="quantity-label">良品率</span><span class="quantity-value">97.2%</span></div>
      <div class="quantity-row"><span class="quantity-label">损耗量</span><span class="quantity-value warning">136 kg (2.8%)</span></div>
      <div class="quantity-row"><span class="quantity-label">完成率</span><span class="quantity-value highlight">97.0%</span></div>
    </div>
    <div class="form-section">
      <div class="section-title">产量确认</div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">实际产量 (kg)</label><input type="number" class="form-input" value="4850"></div>
        <div class="form-group"><label class="form-label">良品数量 (kg)</label><input type="number" class="form-input" value="4714"></div>
      </div>
      <div class="form-group"><label class="form-label">损耗原因</label><select class="form-input"><option value="material" selected>原料损耗</option><option value="process">加工损耗</option><option value="equipment">设备故障</option></select></div>
    </div>
    <div class="form-section"><div class="section-title">质检确认</div></div>
    <div class="quality-check">
      <div class="check-item"><div class="check-info"><div class="check-icon passed"><svg width="18" height="18" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg></div><span class="check-name">外观检查</span></div><span class="check-status passed">已通过</span></div>
      <div class="check-item"><div class="check-info"><div class="check-icon passed"><svg width="18" height="18" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg></div><span class="check-name">重量抽检</span></div><span class="check-status passed">已通过</span></div>
      <div class="check-item"><div class="check-info"><div class="check-icon pending"><svg width="18" height="18" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg></div><span class="check-name">微生物检测</span></div><span class="check-status pending">待确认</span></div>
    </div>
    <div class="form-section"><div class="section-title">备注说明</div><textarea class="form-textarea">本批次生产顺利，设备运行正常。</textarea></div>
    <div class="ai-analysis">
      <div class="ai-analysis-header"><svg width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span class="ai-analysis-title">AI 生产分析</span></div>
      <div class="ai-metrics"><div class="ai-metric"><div class="ai-metric-value">97%</div><div class="ai-metric-label">完成率</div></div><div class="ai-metric"><div class="ai-metric-value">A+</div><div class="ai-metric-label">效率评级</div></div><div class="ai-metric"><div class="ai-metric-value">+2%</div><div class="ai-metric-label">较上批</div></div></div>
      <div class="ai-analysis-content">本批次生产效率优于历史平均水平，良品率较上月提升1.5%。</div>
    </div>
    <div class="action-buttons"><button class="btn btn-secondary" onclick="history.back()">暂存</button><button class="btn btn-success">确认完成</button></div>
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span>首页</span></a>
      <a href="plan-list.html" class="nav-item active"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg><span>计划</span></a>
      <a href="ai-schedule.html" class="nav-item ai-nav"><svg viewBox="0 0 24 24"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span>AI调度</span></a>
      <a href="personnel-list.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span>人员</span></a>
      <a href="profile.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>我的</span></a>
    </nav>
  </div>
</body>
</html>
