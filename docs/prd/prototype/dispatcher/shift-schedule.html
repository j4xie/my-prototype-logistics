<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>班次排班 - 调度员</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; min-height: 100vh; }
    .mobile-container { max-width: 375px; margin: 0 auto; background: #fff; min-height: 100vh; position: relative; padding-bottom: 70px; }
    .header { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); padding: 48px 16px 20px; color: #fff; }
    .header-content { display: flex; align-items: center; gap: 12px; }
    .back-btn { width: 32px; height: 32px; border-radius: 8px; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; cursor: pointer; }
    .back-btn svg { width: 20px; height: 20px; fill: #fff; }
    .header h1 { font-size: 18px; font-weight: 600; }
    .date-selector { display: flex; align-items: center; justify-content: center; gap: 16px; padding: 16px; background: #fff; border-bottom: 1px solid #f0f0f0; }
    .date-arrow { width: 32px; height: 32px; border-radius: 50%; background: #f5f5f5; display: flex; align-items: center; justify-content: center; cursor: pointer; }
    .date-arrow svg { width: 20px; height: 20px; fill: #666; }
    .current-week { text-align: center; }
    .current-week .week-text { font-size: 16px; font-weight: 600; color: #333; }
    .current-week .date-range { font-size: 12px; color: #999; margin-top: 4px; }
    .week-days { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; padding: 12px 16px; background: #fafafa; }
    .day-item { text-align: center; padding: 8px 4px; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
    .day-item.active { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: #fff; }
    .day-item .day-name { font-size: 10px; color: #999; }
    .day-item.active .day-name { color: rgba(255,255,255,0.8); }
    .day-item .day-num { font-size: 16px; font-weight: 600; color: #333; margin-top: 4px; }
    .day-item.active .day-num { color: #fff; }
    .day-item .day-dot { width: 6px; height: 6px; border-radius: 50%; margin: 4px auto 0; background: transparent; }
    .day-item .day-dot.has-shift { background: #52c41a; }
    .day-item.active .day-dot.has-shift { background: #fff; }
    .shift-section { padding: 16px; }
    .section-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .section-title::before { content: ''; width: 3px; height: 14px; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); border-radius: 2px; }
    .shift-card { background: #fff; border: 1px solid #e8e8e8; border-radius: 12px; margin-bottom: 12px; overflow: hidden; }
    .shift-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid #f0f0f0; }
    .shift-name { font-size: 15px; font-weight: 600; color: #333; display: flex; align-items: center; gap: 8px; }
    .shift-badge { padding: 2px 8px; border-radius: 10px; font-size: 10px; font-weight: 500; }
    .shift-badge.morning { background: #e6f7ff; color: #1890ff; }
    .shift-badge.afternoon { background: #fff7e6; color: #fa8c16; }
    .shift-badge.night { background: #f0f5ff; color: #2f54eb; }
    .shift-time { font-size: 13px; color: #666; }
    .shift-workers { padding: 12px 16px; }
    .workers-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .workers-count { font-size: 13px; color: #666; }
    .workers-count strong { color: #333; }
    .add-worker-btn { padding: 4px 10px; background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: #fff; border: none; border-radius: 6px; font-size: 12px; cursor: pointer; }
    .worker-list { display: flex; flex-wrap: wrap; gap: 8px; }
    .worker-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 14px; font-weight: 500; position: relative; }
    .worker-avatar.leader::after { content: '组'; position: absolute; bottom: -2px; right: -2px; width: 16px; height: 16px; background: #fa8c16; border-radius: 50%; font-size: 8px; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }
    .worker-avatar.add { background: #f5f5f5; border: 2px dashed #d9d9d9; color: #999; }
    .shift-tasks { padding: 12px 16px; background: #fafafa; border-top: 1px solid #f0f0f0; }
    .task-tag { display: inline-block; padding: 4px 10px; background: #fff; border: 1px solid #e8e8e8; border-radius: 6px; font-size: 12px; color: #666; margin-right: 8px; margin-bottom: 8px; }
    .task-tag.primary { background: #f0f5ff; border-color: #adc6ff; color: #2f54eb; }
    .ai-suggestion { margin: 0 16px 16px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 50%, #fbc2eb 100%); border-radius: 12px; padding: 14px; color: #fff; }
    .ai-suggestion-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .ai-suggestion-title { font-size: 14px; font-weight: 600; }
    .ai-suggestion-content { font-size: 13px; opacity: 0.95; line-height: 1.5; }
    .ai-action { display: inline-flex; align-items: center; gap: 4px; margin-top: 10px; padding: 6px 12px; background: rgba(255,255,255,0.2); border-radius: 6px; font-size: 12px; cursor: pointer; }
    .add-shift-btn { margin: 16px; padding: 14px; background: #f5f5f5; border: 2px dashed #d9d9d9; border-radius: 12px; text-align: center; color: #999; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }
    .add-shift-btn svg { width: 20px; height: 20px; fill: #999; }
    .bottom-nav { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 375px; background: #fff; display: flex; justify-content: space-around; padding: 8px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 100; }
    .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; text-decoration: none; color: #999; font-size: 10px; position: relative; }
    .nav-item.active { color: #a18cd1; }
    .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
    .nav-item.ai-nav { color: #fff; }
    .nav-item.ai-nav::before { content: ''; position: absolute; top: -8px; left: 50%; transform: translateX(-50%); width: 48px; height: 48px; background: linear-gradient(135deg, #722ed1 0%, #a18cd1 100%); border-radius: 50%; z-index: -1; }
    .nav-item.ai-nav svg { fill: #fff; position: relative; top: 4px; }
    .nav-item.ai-nav span { position: relative; top: 4px; color: #722ed1; }
  </style>
</head>
<body>
  <div class="mobile-container">
    <div class="header">
      <div class="header-content">
        <div class="back-btn" onclick="history.back()"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg></div>
        <h1>班次排班</h1>
      </div>
    </div>
    <div class="date-selector">
      <div class="date-arrow"><svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></div>
      <div class="current-week">
        <div class="week-text">2024年第52周</div>
        <div class="date-range">12月23日 - 12月29日</div>
      </div>
      <div class="date-arrow"><svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg></div>
    </div>
    <div class="week-days">
      <div class="day-item"><div class="day-name">周一</div><div class="day-num">23</div><div class="day-dot has-shift"></div></div>
      <div class="day-item"><div class="day-name">周二</div><div class="day-num">24</div><div class="day-dot has-shift"></div></div>
      <div class="day-item"><div class="day-name">周三</div><div class="day-num">25</div><div class="day-dot has-shift"></div></div>
      <div class="day-item"><div class="day-name">周四</div><div class="day-num">26</div><div class="day-dot has-shift"></div></div>
      <div class="day-item"><div class="day-name">周五</div><div class="day-num">27</div><div class="day-dot has-shift"></div></div>
      <div class="day-item active"><div class="day-name">周六</div><div class="day-num">28</div><div class="day-dot has-shift"></div></div>
      <div class="day-item"><div class="day-name">周日</div><div class="day-num">29</div><div class="day-dot"></div></div>
    </div>
    <div class="shift-section">
      <div class="section-title">12月28日排班</div>
      <div class="shift-card">
        <div class="shift-header">
          <div class="shift-name"><span class="shift-badge morning">早班</span> 切片车间</div>
          <div class="shift-time">08:00 - 16:00</div>
        </div>
        <div class="shift-workers">
          <div class="workers-header"><span class="workers-count">已排 <strong>8</strong> 人</span><button class="add-worker-btn">+ 添加</button></div>
          <div class="worker-list">
            <div class="worker-avatar leader">张</div>
            <div class="worker-avatar">李</div>
            <div class="worker-avatar">王</div>
            <div class="worker-avatar">赵</div>
            <div class="worker-avatar">孙</div>
            <div class="worker-avatar">周</div>
            <div class="worker-avatar">吴</div>
            <div class="worker-avatar">郑</div>
          </div>
        </div>
        <div class="shift-tasks">
          <span class="task-tag primary">PP-2024-0128</span>
          <span class="task-tag">带鱼切片 5000kg</span>
        </div>
      </div>
      <div class="shift-card">
        <div class="shift-header">
          <div class="shift-name"><span class="shift-badge afternoon">中班</span> 切片车间</div>
          <div class="shift-time">16:00 - 24:00</div>
        </div>
        <div class="shift-workers">
          <div class="workers-header"><span class="workers-count">已排 <strong>6</strong> 人</span><button class="add-worker-btn">+ 添加</button></div>
          <div class="worker-list">
            <div class="worker-avatar leader">刘</div>
            <div class="worker-avatar">陈</div>
            <div class="worker-avatar">杨</div>
            <div class="worker-avatar">黄</div>
            <div class="worker-avatar">林</div>
            <div class="worker-avatar">何</div>
          </div>
        </div>
        <div class="shift-tasks">
          <span class="task-tag primary">PP-2024-0129</span>
          <span class="task-tag">黄鱼去骨 3000kg</span>
        </div>
      </div>
      <div class="add-shift-btn"><svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>添加班次</div>
    </div>
    <div class="ai-suggestion">
      <div class="ai-suggestion-header"><svg width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span class="ai-suggestion-title">AI 排班建议</span></div>
      <div class="ai-suggestion-content">根据历史产能数据，建议中班增加2名切片工人，可提升产能15%。同时检测到下周三有3人请假，请提前安排替班。</div>
      <div class="ai-action"><svg width="14" height="14" viewBox="0 0 24 24" fill="#fff"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>查看详情</div>
    </div>
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span>首页</span></a>
      <a href="plan-list.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg><span>计划</span></a>
      <a href="ai-schedule.html" class="nav-item ai-nav"><svg viewBox="0 0 24 24"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span>AI调度</span></a>
      <a href="personnel-list.html" class="nav-item active"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span>人员</span></a>
      <a href="profile.html" class="nav-item"><svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>我的</span></a>
    </nav>
  </div>
</body>
</html>
