<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>设备告警详情 - 调度员</title>
  <link rel="stylesheet" href="../styles.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f5f5;
      min-height: 100vh;
    }

    .mobile-container {
      max-width: 375px;
      margin: 0 auto;
      background: #fff;
      min-height: 100vh;
      position: relative;
      padding-bottom: 70px;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
      padding: 48px 16px 20px;
      color: #fff;
    }

    .header-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .back-btn {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .back-btn svg {
      width: 20px;
      height: 20px;
      fill: #fff;
    }

    .header h1 {
      font-size: 18px;
      font-weight: 600;
    }

    /* Alert Status Card */
    .alert-status-card {
      margin: 16px;
      background: #fff5f5;
      border: 2px solid #ff4d4f;
      border-radius: 12px;
      padding: 16px;
    }

    .alert-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }

    .alert-icon {
      width: 48px;
      height: 48px;
      background: #ff4d4f;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.6; }
      100% { opacity: 1; }
    }

    .alert-icon svg {
      width: 28px;
      height: 28px;
      fill: #fff;
    }

    .alert-info {
      flex: 1;
    }

    .alert-title {
      font-size: 16px;
      font-weight: 600;
      color: #ff4d4f;
      margin-bottom: 4px;
    }

    .alert-time {
      font-size: 12px;
      color: #999;
    }

    .alert-level {
      padding: 4px 10px;
      background: #ff4d4f;
      color: #fff;
      border-radius: 12px;
      font-size: 12px;
    }

    .alert-desc {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }

    /* Equipment Info */
    .equipment-info {
      margin: 16px;
      background: #f9f9f9;
      border-radius: 12px;
      padding: 16px;
    }

    .section-title {
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title::before {
      content: '';
      width: 3px;
      height: 14px;
      background: #ff4d4f;
      border-radius: 2px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .info-item {
      font-size: 12px;
      color: #999;
    }

    .info-item strong {
      display: block;
      font-size: 14px;
      color: #333;
      margin-top: 4px;
    }

    /* Impact Analysis */
    .impact-section {
      margin: 16px;
    }

    .impact-card {
      background: #fff;
      border: 1px solid #f0f0f0;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }

    .impact-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .impact-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .impact-icon.production {
      background: #fff2f0;
    }

    .impact-icon.production svg {
      fill: #ff4d4f;
    }

    .impact-icon.schedule {
      background: #fff7e6;
    }

    .impact-icon.schedule svg {
      fill: #fa8c16;
    }

    .impact-title {
      font-size: 14px;
      font-weight: 500;
      color: #333;
    }

    .impact-content {
      font-size: 13px;
      color: #666;
      line-height: 1.5;
    }

    .impact-highlight {
      color: #ff4d4f;
      font-weight: 500;
    }

    /* AI Diagnosis */
    .ai-diagnosis {
      margin: 16px;
      background: linear-gradient(135deg, #722ed1 0%, #a18cd1 50%, #fbc2eb 100%);
      border-radius: 12px;
      padding: 14px;
      color: #fff;
    }

    .ai-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .ai-icon {
      width: 24px;
      height: 24px;
    }

    .ai-title {
      font-size: 14px;
      font-weight: 600;
    }

    .ai-content {
      font-size: 13px;
      opacity: 0.95;
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .ai-diagnosis-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .diagnosis-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      background: rgba(255,255,255,0.15);
      border-radius: 8px;
    }

    .diagnosis-item svg {
      width: 16px;
      height: 16px;
      fill: #fff;
    }

    .diagnosis-text {
      font-size: 12px;
      flex: 1;
    }

    .diagnosis-prob {
      font-size: 12px;
      padding: 2px 8px;
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
    }

    /* Action Section */
    .action-section {
      margin: 16px;
    }

    .action-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .action-option {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px;
      background: #f9f9f9;
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .action-option.active {
      background: #f9f0ff;
      border-color: #a18cd1;
    }

    .action-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .action-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .action-icon.repair {
      background: #e6f7ff;
    }

    .action-icon.repair svg {
      fill: #1890ff;
    }

    .action-icon.switch {
      background: #f6ffed;
    }

    .action-icon.switch svg {
      fill: #52c41a;
    }

    .action-icon.stop {
      background: #fff2f0;
    }

    .action-icon.stop svg {
      fill: #ff4d4f;
    }

    .action-name {
      font-size: 14px;
      font-weight: 500;
      color: #333;
    }

    .action-desc {
      font-size: 12px;
      color: #999;
    }

    .action-check {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 2px solid #e8e8e8;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .action-option.active .action-check {
      background: #a18cd1;
      border-color: #a18cd1;
    }

    .action-option.active .action-check svg {
      fill: #fff;
    }

    /* Notify Section */
    .notify-section {
      margin: 16px;
    }

    .notify-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .notify-tag {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      background: #f5f5f5;
      border-radius: 20px;
      font-size: 12px;
      color: #666;
    }

    .notify-tag.active {
      background: #a18cd1;
      color: #fff;
    }

    .notify-tag svg {
      width: 14px;
      height: 14px;
      fill: currentColor;
    }

    /* Action Buttons */
    .action-buttons {
      padding: 16px;
      display: flex;
      gap: 12px;
    }

    .btn {
      flex: 1;
      padding: 14px;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      text-align: center;
    }

    .btn-secondary {
      background: #f5f5f5;
      color: #666;
    }

    .btn-primary {
      background: linear-gradient(135deg, #ff6b6b 0%, #ff4d4f 100%);
      color: #fff;
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 375px;
      background: #fff;
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
      z-index: 100;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      text-decoration: none;
      color: #999;
      font-size: 10px;
      position: relative;
    }

    .nav-item.active {
      color: #a18cd1;
    }

    .nav-item svg {
      width: 24px;
      height: 24px;
      fill: currentColor;
    }

    .nav-item.ai-nav {
      color: #fff;
    }

    .nav-item.ai-nav::before {
      content: '';
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, #722ed1 0%, #a18cd1 100%);
      border-radius: 50%;
      z-index: -1;
      box-shadow: 0 4px 12px rgba(114, 46, 209, 0.3);
    }

    .nav-item.ai-nav svg {
      fill: #fff;
      position: relative;
      top: 4px;
    }

    .nav-item.ai-nav span {
      position: relative;
      top: 4px;
      color: #722ed1;
    }
  </style>
</head>
<body>
  <div class="mobile-container">
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <div class="back-btn" onclick="history.back()">
          <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        </div>
        <h1>设备告警详情</h1>
      </div>
    </div>

    <!-- Alert Status Card -->
    <div class="alert-status-card">
      <div class="alert-header">
        <div class="alert-icon">
          <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
        </div>
        <div class="alert-info">
          <div class="alert-title">切片机温度过高</div>
          <div class="alert-time">2024-12-28 09:32:15</div>
        </div>
        <span class="alert-level">严重</span>
      </div>
      <div class="alert-desc">
        切片机 A1-SL-001 传感器检测到刀片温度达到 85°C，超过安全阈值 75°C，建议立即停机检查。
      </div>
    </div>

    <!-- Equipment Info -->
    <div class="equipment-info">
      <div class="section-title">设备信息</div>
      <div class="info-grid">
        <div class="info-item">
          设备名称
          <strong>切片机 A1-SL-001</strong>
        </div>
        <div class="info-item">
          所在车间
          <strong>切片车间 A</strong>
        </div>
        <div class="info-item">
          设备状态
          <strong style="color: #ff4d4f">告警中</strong>
        </div>
        <div class="info-item">
          运行时长
          <strong>4.5 小时</strong>
        </div>
        <div class="info-item">
          上次维护
          <strong>2024-12-20</strong>
        </div>
        <div class="info-item">
          负责人
          <strong>王工</strong>
        </div>
      </div>
    </div>

    <!-- Impact Analysis -->
    <div class="impact-section">
      <div class="section-title">影响分析</div>

      <div class="impact-card">
        <div class="impact-header">
          <div class="impact-icon production">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
          </div>
          <div class="impact-title">生产影响</div>
        </div>
        <div class="impact-content">
          当前批次 PB-2024-0128 进度将受影响，已完成 <span class="impact-highlight">350 kg</span>，剩余 <span class="impact-highlight">150 kg</span> 需重新安排。
        </div>
      </div>

      <div class="impact-card">
        <div class="impact-header">
          <div class="impact-icon schedule">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
          </div>
          <div class="impact-title">时间影响</div>
        </div>
        <div class="impact-content">
          若停机维修预计需要 <span class="impact-highlight">2小时</span>，今日计划完成率将降至 <span class="impact-highlight">78%</span>。
        </div>
      </div>
    </div>

    <!-- AI Diagnosis -->
    <div class="ai-diagnosis">
      <div class="ai-header">
        <svg class="ai-icon" viewBox="0 0 24 24" fill="#fff">
          <path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/>
        </svg>
        <span class="ai-title">AI 故障诊断</span>
      </div>
      <div class="ai-content">
        基于历史数据和传感器信息分析，可能的故障原因如下：
      </div>
      <div class="ai-diagnosis-list">
        <div class="diagnosis-item">
          <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
          <span class="diagnosis-text">刀片磨损严重导致摩擦过热</span>
          <span class="diagnosis-prob">78%</span>
        </div>
        <div class="diagnosis-item">
          <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
          <span class="diagnosis-text">冷却液不足或循环故障</span>
          <span class="diagnosis-prob">15%</span>
        </div>
        <div class="diagnosis-item">
          <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
          <span class="diagnosis-text">传感器异常/误报</span>
          <span class="diagnosis-prob">7%</span>
        </div>
      </div>
    </div>

    <!-- Action Section -->
    <div class="action-section">
      <div class="section-title">处理方式</div>
      <div class="action-options">
        <div class="action-option active">
          <div class="action-left">
            <div class="action-icon repair">
              <svg width="20" height="20" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>
            </div>
            <div>
              <div class="action-name">立即维修</div>
              <div class="action-desc">停机检修，预计2小时</div>
            </div>
          </div>
          <div class="action-check">
            <svg width="12" height="12" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
          </div>
        </div>

        <div class="action-option">
          <div class="action-left">
            <div class="action-icon switch">
              <svg width="20" height="20" viewBox="0 0 24 24"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/></svg>
            </div>
            <div>
              <div class="action-name">切换设备</div>
              <div class="action-desc">使用备用设备 A1-SL-002</div>
            </div>
          </div>
          <div class="action-check">
            <svg width="12" height="12" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
          </div>
        </div>

        <div class="action-option">
          <div class="action-left">
            <div class="action-icon stop">
              <svg width="20" height="20" viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
            </div>
            <div>
              <div class="action-name">暂停生产</div>
              <div class="action-desc">等待进一步评估</div>
            </div>
          </div>
          <div class="action-check">
            <svg width="12" height="12" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
          </div>
        </div>
      </div>
    </div>

    <!-- Notify Section -->
    <div class="notify-section">
      <div class="section-title">通知人员</div>
      <div class="notify-list">
        <div class="notify-tag active">
          <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          设备主管
        </div>
        <div class="notify-tag active">
          <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          车间主任
        </div>
        <div class="notify-tag">
          <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          生产经理
        </div>
        <div class="notify-tag">
          <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          安全员
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn btn-secondary" onclick="history.back()">返回</button>
      <button class="btn btn-primary">确认处理</button>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item active">
        <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        <span>首页</span>
      </a>
      <a href="plan-list.html" class="nav-item">
        <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
        <span>计划</span>
      </a>
      <a href="ai-schedule.html" class="nav-item ai-nav">
        <svg viewBox="0 0 24 24"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg>
        <span>AI调度</span>
      </a>
      <a href="personnel-list.html" class="nav-item">
        <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
        <span>人员</span>
      </a>
      <a href="profile.html" class="nav-item">
        <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
        <span>我的</span>
      </a>
    </nav>
  </div>

  <script>
    // Action option selection
    document.querySelectorAll('.action-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.action-option').forEach(o => o.classList.remove('active'));
        this.classList.add('active');
      });
    });

    // Notify tag selection
    document.querySelectorAll('.notify-tag').forEach(tag => {
      tag.addEventListener('click', function() {
        this.classList.toggle('active');
      });
    });
  </script>
</body>
</html>
