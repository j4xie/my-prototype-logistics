<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>生产计划 - 调度员</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../components.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="../index.html" class="back-to-index">< 返回角色选择</a>

  <div class="mobile-container">
    <div class="status-bar">
      <span>9:41</span>
      <span></span>
    </div>

    <div class="subpage-header">
      <a href="index.html" class="back-btn" style="text-decoration: none; color: inherit;"><</a>
      <span class="title">生产计划</span>
      <a href="plan-add.html" style="color: #a18cd1; text-decoration: none; font-size: 14px;">+ 新建</a>
    </div>

    <div class="content" style="background: #f5f5f5;">
      <!-- 筛选条件 -->
      <div style="display: flex; gap: 8px; margin-bottom: 8px;">
        <select class="form-select" style="flex: 1; padding: 8px; font-size: 12px;">
          <option>全部状态</option>
          <option>待开始</option>
          <option>进行中</option>
          <option>已完成</option>
        </select>
        <select class="form-select" style="flex: 1; padding: 8px; font-size: 12px;">
          <option>全部车间</option>
          <option>切片车间</option>
          <option>包装车间</option>
          <option>冷冻车间</option>
        </select>
        <select class="form-select" style="flex: 1; padding: 8px; font-size: 12px;">
          <option>日期范围</option>
          <option>今天</option>
          <option>本周</option>
          <option>本月</option>
        </select>
      </div>

      <!-- 计划来源筛选 -->
      <div class="filter-chips" style="margin-bottom: 12px;">
        <button class="filter-chip active">全部来源</button>
        <button class="filter-chip">客户订单</button>
        <button class="filter-chip">AI预测</button>
        <button class="filter-chip">安全库存</button>
        <button class="filter-chip">混批</button>
      </div>

      <!-- 搜索框 -->
      <div class="search-box">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="M21 21l-4.35-4.35"/>
        </svg>
        <input type="text" placeholder="搜索计划编号/产品名称...">
      </div>

      <!-- 快捷入口 -->
      <div style="display: flex; gap: 8px; margin-bottom: 16px;">
        <a href="plan-gantt.html" style="flex: 1; background: white; border-radius: 8px; padding: 10px 8px; text-align: center; text-decoration: none; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#a18cd1" stroke-width="2" style="margin-bottom: 4px;">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <line x1="3" y1="9" x2="21" y2="9"/>
            <line x1="9" y1="21" x2="9" y2="9"/>
          </svg>
          <div style="font-size: 11px;">甘特图</div>
        </a>
        <a href="urgent-insert.html" style="flex: 1; background: white; border-radius: 8px; padding: 10px 8px; text-align: center; text-decoration: none; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ff4d4f" stroke-width="2" style="margin-bottom: 4px;">
            <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
          </svg>
          <div style="font-size: 11px;">紧急插单</div>
        </a>
        <a href="mixed-batch.html" style="flex: 1; background: white; border-radius: 8px; padding: 10px 8px; text-align: center; text-decoration: none; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.06); position: relative;">
          <div style="position: absolute; top: -4px; right: -4px; width: 16px; height: 16px; background: #ff4d4f; border-radius: 50%; font-size: 10px; color: white; display: flex; align-items: center; justify-content: center;">3</div>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#722ed1" stroke-width="2" style="margin-bottom: 4px;">
            <rect x="3" y="3" width="7" height="7"/>
            <rect x="14" y="3" width="7" height="7"/>
            <rect x="14" y="14" width="7" height="7"/>
            <rect x="3" y="14" width="7" height="7"/>
          </svg>
          <div style="font-size: 11px;">混批排产</div>
        </a>
        <a href="resource-overview.html" style="flex: 1; background: white; border-radius: 8px; padding: 10px 8px; text-align: center; text-decoration: none; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#52c41a" stroke-width="2" style="margin-bottom: 4px;">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
            <line x1="8" y1="21" x2="16" y2="21"/>
            <line x1="12" y1="17" x2="12" y2="21"/>
          </svg>
          <div style="font-size: 11px;">资源总览</div>
        </a>
      </div>

      <!-- 今日计划 -->
      <div class="section-header">
        <span class="section-title">今日计划 (12个)</span>
      </div>

      <!-- 计划卡片1: 客户订单来源 -->
      <a href="plan-detail.html" class="plan-card">
        <div class="plan-header">
          <span class="plan-id">PP20241227001</span>
          <span class="plan-status in-progress">进行中</span>
        </div>
        <div class="plan-info">冷冻带鱼段 · 500kg</div>
        <div class="plan-workshop">切片车间 · 张主任</div>
        <div class="plan-progress">
          <div class="plan-progress-fill" style="width: 65%;"></div>
        </div>
        <!-- 计划来源信息 -->
        <div style="border-top: 1px solid #f0f0f0; margin-top: 10px; padding-top: 10px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
            <span style="font-size: 11px; color: #666;">来源:</span>
            <span style="font-size: 11px; padding: 2px 6px; background: #e6f7ff; color: #1890ff; border-radius: 3px; font-weight: 500;">客户订单</span>
            <span style="font-size: 12px; color: #333; font-weight: 500;">永辉超市</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px; font-size: 11px; color: #666;">
            <span style="display: flex; align-items: center; gap: 4px;">
              CR值: <span style="color: #ff4d4f; font-weight: 600;">0.8</span>
              <span style="font-size: 10px; padding: 1px 4px; background: #fff1f0; color: #ff4d4f; border-radius: 2px;">紧急</span>
            </span>
            <span>交期: 12-28 18:00</span>
          </div>
        </div>
        <div class="plan-tags">
          <span class="plan-tag matched">已匹配</span>
          <span class="plan-tag priority-high">高</span>
        </div>
      </a>

      <!-- 计划卡片2: 混批来源 (可展开) -->
      <div class="plan-card" style="cursor: pointer;">
        <a href="plan-detail.html" style="text-decoration: none; color: inherit;">
          <div class="plan-header">
            <div style="display: flex; align-items: center; gap: 6px;">
              <span class="plan-id">PP20241227002</span>
              <span style="font-size: 10px; padding: 2px 5px; background: #722ed1; color: white; border-radius: 3px;">混批</span>
            </div>
            <span class="plan-status pending">待开始</span>
          </div>
          <div class="plan-info">鱿鱼圈 · 800袋 <span style="font-size: 11px; color: #999;">(合并3个订单)</span></div>
          <div class="plan-workshop">包装车间 · 李主任</div>
          <div class="plan-progress">
            <div class="plan-progress-fill" style="width: 0%;"></div>
          </div>
        </a>
        <!-- 混批来源信息 -->
        <div style="border-top: 1px solid #f0f0f0; margin-top: 10px; padding-top: 10px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
            <span style="font-size: 11px; color: #666;">来源:</span>
            <span style="font-size: 11px; padding: 2px 6px; background: #f9f0ff; color: #722ed1; border-radius: 3px; font-weight: 500;">混批</span>
            <span style="font-size: 11px; color: #722ed1;">ORD-001 + ORD-002 + ORD-003</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px; font-size: 11px; color: #666;">
            <span style="display: flex; align-items: center; gap: 4px;">
              CR值: <span style="color: #fa8c16; font-weight: 600;">1.2</span>
              <span style="font-size: 10px; padding: 1px 4px; background: #fff7e6; color: #fa8c16; border-radius: 2px;">较紧</span>
            </span>
            <span>最早交期: 12-29 12:00</span>
          </div>
        </div>
        <!-- 混批详情 (可展开) -->
        <div style="margin-top: 8px; padding: 8px; background: #fafafa; border-radius: 6px; font-size: 11px;">
          <div style="display: flex; align-items: center; gap: 4px; color: #722ed1; margin-bottom: 6px; cursor: pointer;">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6,9 12,15 18,9"/>
            </svg>
            <span>混批详情</span>
          </div>
          <div style="padding-left: 16px; color: #666;">
            <div style="margin-bottom: 4px;">├─ ORD-001: <span style="color: #333;">盒马</span> 300袋</div>
            <div style="margin-bottom: 4px;">├─ ORD-002: <span style="color: #333;">永辉</span> 300袋</div>
            <div>└─ ORD-003: <span style="color: #333;">大润发</span> 200袋</div>
          </div>
        </div>
        <div class="plan-tags">
          <span class="plan-tag pending-match">待匹配</span>
          <span class="plan-tag priority-normal">中</span>
        </div>
      </div>

      <!-- 计划卡片3: AI预测来源 -->
      <a href="plan-detail.html" class="plan-card">
        <div class="plan-header">
          <span class="plan-id">PP20241227003</span>
          <span class="plan-status completed">已完成</span>
        </div>
        <div class="plan-info">大虾仁 · 300kg</div>
        <div class="plan-workshop">冷冻车间 · 王主任</div>
        <div class="plan-progress">
          <div class="plan-progress-fill" style="width: 100%;"></div>
        </div>
        <!-- AI预测来源信息 -->
        <div style="border-top: 1px solid #f0f0f0; margin-top: 10px; padding-top: 10px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
            <span style="font-size: 11px; color: #666;">来源:</span>
            <span style="font-size: 11px; padding: 2px 6px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 3px; font-weight: 500;">AI预测</span>
            <span style="font-size: 12px; color: #333;">冬季火锅需求 +15%</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px; font-size: 11px; color: #666;">
            <span style="display: flex; align-items: center; gap: 4px;">
              预测置信度:
              <span style="display: inline-flex; align-items: center; gap: 3px;">
                <span style="color: #52c41a; font-weight: 600;">85%</span>
                <svg width="10" height="10" viewBox="0 0 24 24" fill="#52c41a">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
              </span>
            </span>
            <span>季节性: <span style="color: #1890ff;">冬季</span></span>
          </div>
        </div>
        <div class="plan-tags">
          <span class="plan-tag matched">已消耗</span>
          <span class="plan-tag priority-normal">普通</span>
        </div>
      </a>

      <!-- 计划卡片4: 安全库存来源 -->
      <a href="plan-detail.html" class="plan-card">
        <div class="plan-header">
          <span class="plan-id">PP20241227004</span>
          <span class="plan-status in-progress">进行中</span>
        </div>
        <div class="plan-info">带鱼段 · 400kg</div>
        <div class="plan-workshop">切片车间 · 张主任</div>
        <div class="plan-progress">
          <div class="plan-progress-fill" style="width: 30%;"></div>
        </div>
        <!-- 安全库存来源信息 -->
        <div style="border-top: 1px solid #f0f0f0; margin-top: 10px; padding-top: 10px;">
          <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
            <span style="font-size: 11px; color: #666;">来源:</span>
            <span style="font-size: 11px; padding: 2px 6px; background: #f6ffed; color: #52c41a; border-radius: 3px; font-weight: 500; border: 1px solid #b7eb8f;">安全库存</span>
            <span style="font-size: 12px; color: #fa8c16;">库存低于30%触发</span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px; font-size: 11px; color: #666;">
            <span style="display: flex; align-items: center; gap: 4px;">
              CR值: <span style="color: #52c41a; font-weight: 600;">2.5</span>
              <span style="font-size: 10px; padding: 1px 4px; background: #f6ffed; color: #52c41a; border-radius: 2px;">充裕</span>
            </span>
            <span>当前库存: <span style="color: #ff4d4f;">28%</span></span>
          </div>
        </div>
        <div class="plan-tags">
          <span class="plan-tag matched">已匹配</span>
          <span class="plan-tag priority-normal">中</span>
        </div>
      </a>

      <div style="text-align: center; padding: 20px; color: #999; font-size: 14px; margin-bottom: 80px;">
        加载更多...
      </div>
    </div>

    <!-- 底部导航 -->
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span>首页</span></a>
      <a href="plan-list.html" class="nav-item active"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg><span>计划</span></a>
      <a href="ai-schedule.html" class="nav-item ai-nav"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg><span>AI调度</span></a>
      <a href="personnel-list.html" class="nav-item"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span>人员</span></a>
      <a href="profile.html" class="nav-item"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>我的</span></a>
    </nav>
  </div>
</body>
</html>
