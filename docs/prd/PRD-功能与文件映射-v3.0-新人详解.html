<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ - åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„ v3.0 æ–°äººè¯¦è§£</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism@1.29.0/themes/prism-tomorrow.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
        }
        .container { display: flex; min-height: 100vh; }
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 20px 0;
            z-index: 1000;
        }
        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 2px solid #f0f0f0;
            margin-bottom: 20px;
        }
        .sidebar-header h1 {
            font-size: 16px;
            color: #2c3e50;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .sidebar-header p {
            font-size: 12px;
            color: #888;
        }
        .sidebar-search {
            padding: 0 15px 15px;
            margin-bottom: 15px;
        }
        .sidebar-search input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }
        .sidebar-search input:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }
        .sidebar-nav { padding: 0; }
        .sidebar-nav-item {
            display: block;
            padding: 10px 20px;
            color: #555;
            text-decoration: none;
            font-size: 13px;
            border-left: 3px solid transparent;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sidebar-nav-item:hover {
            background: #f5f5f5;
            color: #2c3e50;
        }
        .sidebar-nav-item.active {
            background: #ecf0f6;
            color: #4a90e2;
            border-left-color: #4a90e2;
            font-weight: 600;
        }
        .sidebar-nav-section {
            padding: 12px 20px 8px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            color: #888;
            letter-spacing: 0.5px;
            border-bottom: 1px solid #f0f0f0;
            margin-top: 10px;
        }
        .content {
            margin-left: 280px;
            padding: 40px 50px;
            background: white;
            flex: 1;
        }
        .doc-header {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }
        .doc-header h1 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .doc-meta {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 15px;
            font-size: 13px;
            color: #888;
        }
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
        }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-info { background: #d1ecf1; color: #0c5460; }
        h1 { font-size: 28px; margin-top: 40px; margin-bottom: 20px; color: #2c3e50; font-weight: 700; padding-top: 10px; border-top: 2px solid #e0e0e0; }
        h2 { font-size: 22px; margin-top: 35px; margin-bottom: 15px; color: #34495e; font-weight: 600; padding-bottom: 10px; border-bottom: 1px solid #e0e0e0; }
        h3 { font-size: 18px; margin-top: 25px; margin-bottom: 12px; color: #555; font-weight: 600; }
        h4 { font-size: 15px; margin-top: 18px; margin-bottom: 10px; color: #666; font-weight: 600; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        pre {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 13px;
            line-height: 1.5;
        }
        code { font-family: 'Monaco', 'Menlo', monospace; }
        blockquote {
            border-left: 4px solid #667eea;
            padding: 12px 20px;
            background: #f5f7fa;
            margin: 20px 0;
            border-radius: 4px;
        }
        ul, ol { margin: 15px 0; padding-left: 30px; }
        li { margin: 8px 0; }
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 40px;
            height: 40px;
            background: #4a90e2;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: bold;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 999;
        }
        .back-to-top.show { opacity: 1; }
        .back-to-top:hover { background: #357abd; }
        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            font-size: 12px;
            color: #888;
        }
        footer a {
            color: #4a90e2;
            text-decoration: none;
        }
        footer a:hover { text-decoration: underline; }
        @media (max-width: 768px) {
            .sidebar { position: relative; width: 100%; height: auto; }
            .content { margin-left: 0; padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>ğŸ“‘ æ–‡æ¡£å¯¼èˆª</h1>
                <p>v3.0 æ–°äººè¯¦è§£</p>
            </div>
            <div class="sidebar-search">
                <input type="text" id="searchInput" placeholder="æœç´¢...">
            </div>
            <nav class="sidebar-nav" id="sidebarNav">
                <div class="sidebar-nav-section">æ ¸å¿ƒä¸šåŠ¡æµç¨‹</div>
                <a href="#ç¬¬0ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹" class="sidebar-nav-item" data-section="ç¬¬0ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹">0. ä¸šåŠ¡æµç¨‹æ€»è§ˆ</a>
                <a href="#å®Œæ•´ç”Ÿäº§æ‰¹æ¬¡ä¸šåŠ¡çº¿" class="sidebar-nav-item level-2" data-section="å®Œæ•´ç”Ÿäº§æ‰¹æ¬¡ä¸šåŠ¡çº¿">0.1 ç”Ÿäº§æ‰¹æ¬¡æµç¨‹</a>
                <a href="#æ—¶é—´è¿½è¸ªä¸æˆæœ¬è®¡ç®—" class="sidebar-nav-item level-2" data-section="æ—¶é—´è¿½è¸ªä¸æˆæœ¬è®¡ç®—">0.2 æ—¶é—´æˆæœ¬</a>
                <a href="#åº“å­˜ä¸ææ–™ç®¡ç†" class="sidebar-nav-item level-2" data-section="åº“å­˜ä¸ææ–™ç®¡ç†">0.3 åº“å­˜ç®¡ç†</a>
                <a href="#å…³é”®æ•°æ®æµå›¾" class="sidebar-nav-item level-2" data-section="å…³é”®æ•°æ®æµå›¾">0.4 æ•°æ®æµå›¾</a>

                <div class="sidebar-nav-section">æ¨¡å—è¯¦è§£ (1-11)</div>
                <a href="#1-è®¤è¯ä¸æƒé™æ¨¡å—" class="sidebar-nav-item" data-section="1-è®¤è¯ä¸æƒé™æ¨¡å—">1. è®¤è¯ä¸æƒé™</a>
                <a href="#2-è€ƒå‹¤ç®¡ç†æ¨¡å—" class="sidebar-nav-item" data-section="2-è€ƒå‹¤ç®¡ç†æ¨¡å—">2. è€ƒå‹¤ç®¡ç†</a>
                <a href="#3-ç”Ÿäº§åŠ å·¥æ¨¡å—" class="sidebar-nav-item" data-section="3-ç”Ÿäº§åŠ å·¥æ¨¡å—">3. ç”Ÿäº§åŠ å·¥</a>
                <a href="#4-aiæ™ºèƒ½åˆ†ææ¨¡å—" class="sidebar-nav-item" data-section="4-aiæ™ºèƒ½åˆ†ææ¨¡å—">4. AIåˆ†æ</a>
                <a href="#5-è®¾å¤‡ç®¡ç†æ¨¡å—" class="sidebar-nav-item" data-section="5-è®¾å¤‡ç®¡ç†æ¨¡å—">5. è®¾å¤‡ç®¡ç†</a>
                <a href="#6-åº“å­˜ç®¡ç†æ¨¡å—" class="sidebar-nav-item" data-section="6-åº“å­˜ç®¡ç†æ¨¡å—">6. åº“å­˜ç®¡ç†</a>

                <div class="sidebar-nav-section">äº¤å‰åŠŸèƒ½</div>
                <a href="#æˆæœ¬è‡ªåŠ¨è®¡ç®—" class="sidebar-nav-item" data-section="æˆæœ¬è‡ªåŠ¨è®¡ç®—">X.1 æˆæœ¬è®¡ç®—</a>
                <a href="#fifoåº“å­˜æ¨è" class="sidebar-nav-item" data-section="fifoåº“å­˜æ¨è">X.2 FIFOæ¨è</a>
                <a href="#æ—¶é—´æˆæœ¬ä¸€ä½“åŒ–" class="sidebar-nav-item" data-section="æ—¶é—´æˆæœ¬ä¸€ä½“åŒ–">X.3 æ—¶é—´æˆæœ¬</a>
                <a href="#è®¾å¤‡æŠ˜æ—§é›†æˆ" class="sidebar-nav-item" data-section="è®¾å¤‡æŠ˜æ—§é›†æˆ">X.4 è®¾å¤‡æŠ˜æ—§</a>
                <a href="#aiåˆ†æè§¦å‘é“¾" class="sidebar-nav-item" data-section="aiåˆ†æè§¦å‘é“¾">X.5 AIåˆ†æ</a>

                <div class="sidebar-nav-section">ç›¸å…³æ–‡æ¡£</div>
                <a href="PRD-åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„-v3.0-æŠ€æœ¯é€ŸæŸ¥.html" class="sidebar-nav-item" style="opacity: 0.7;">â†’ æŠ€æœ¯é€ŸæŸ¥ç‰ˆ</a>
                <a href="../QUICK_START.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ å¿«é€Ÿå¼€å§‹</a>
                <a href="../IMPLEMENTATION_SUMMARY.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ å®ç°æ€»ç»“</a>
            </nav>
        </aside>

        <main class="content">
            <div class="doc-header">
                <h1>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ - åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„ v3.0</h1>
                <p style="margin-bottom: 20px; color: #666;">é’ˆå¯¹æ–°åŠ å…¥é¡¹ç›®çš„å·¥ç¨‹å¸ˆè®¾è®¡çš„å®Œæ•´å­¦ä¹ æŒ‡å—</p>
                <div class="doc-meta">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <strong>ç‰ˆæœ¬:</strong> <span class="badge badge-info">v3.0-æ–°äººè¯¦è§£</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <strong>æ–‡æ¡£ç±»å‹:</strong> <span class="badge badge-success">å®Œæ•´å­¦ä¹ æŒ‡å—</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <strong>æ›´æ–°æ—¶é—´:</strong> 2025-11-21
                    </div>
                </div>
            </div>

            <section style="background: #e8f5e9; padding: 20px; border-left: 4px solid #4caf50; margin-bottom: 30px; border-radius: 4px;">
                <h2 style="margin-top: 0; color: #2e7d32;">ğŸ“š æ–‡æ¡£è¯´æ˜</h2>
                <p>æœ¬æ–‡æ¡£ä¸ºæ–°äººæä¾›å®Œæ•´çš„å­¦ä¹ è·¯å¾„:</p>
                <ul style="margin-left: 20px;">
                    <li><strong>ç¬¬0ç« </strong> - 4ä¸ªå®Œæ•´çš„ä¸šåŠ¡çº¿ (ç«¯åˆ°ç«¯æµç¨‹)</li>
                    <li><strong>ç¬¬1-11ç« </strong> - 11ä¸ªåŠŸèƒ½æ¨¡å—çš„è¯¦ç»†è¯´æ˜</li>
                    <li><strong>äº¤å‰åŠŸèƒ½X.1-X.5</strong> - æ¨¡å—å¦‚ä½•åä½œå®Œæˆå…³é”®åŠŸèƒ½</li>
                    <li><strong>å¸¸è§é—®é¢˜</strong> - æ–°äººå¸¸è§çš„ç–‘æƒ‘å’Œè§£ç­”</li>
                </ul>
                <p style="margin-top: 15px; color: #1565c0;">ğŸ’¡ <strong>å»ºè®®é˜…è¯»é¡ºåº</strong>: ç¬¬0ç«  â†’ ç¬¬1-11ç«  â†’ äº¤å‰åŠŸèƒ½ â†’ å¸¸è§é—®é¢˜</p>
            </section>

            <section id="ç¬¬0ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹">
                <h2>ç¬¬0ç«  æ ¸å¿ƒä¸šåŠ¡æµç¨‹ä¸æ¶æ„</h2>
                <p>æœ¬ç« ä»‹ç»ç³»ç»Ÿçš„3æ¡ä¸»è¦ä¸šåŠ¡çº¿ï¼Œæ¯æ¡ä¸šåŠ¡çº¿ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„å·¥ä½œæµç¨‹ã€‚ç†è§£è¿™äº›ä¸šåŠ¡çº¿æ˜¯ç†è§£æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€ã€‚</p>

                <section id="å®Œæ•´ç”Ÿäº§æ‰¹æ¬¡ä¸šåŠ¡çº¿">
                    <h3>0.1 å®Œæ•´ç”Ÿäº§æ‰¹æ¬¡ä¸šåŠ¡çº¿</h3>
                    <p><strong>åœºæ™¯æè¿°</strong>: ä»åŸææ–™é‡‡è´­åˆ°æˆå“äº¤ä»˜çš„å®Œæ•´è¿‡ç¨‹æ¶‰åŠå¤šä¸ªæ¨¡å—çš„åä½œã€‚</p>
                    <p><strong>æµç¨‹å›¾</strong>:</p>
                    <pre><code>ç‰©æ–™å‡†å¤‡ â†’ åˆ›å»ºæ‰¹æ¬¡ â†’ æ‰“å¡å·¥ä½œ â†’ è®¾å¤‡ä½¿ç”¨ â†’ è´¨æ£€ â†’ ä¸‹ç­ç»“ç®— â†’ æˆæœ¬è®¡ç®— â†’ AIåˆ†æ</code></pre>
                    <p><strong>æ¶‰åŠçš„7ä¸ªå…³é”®æ­¥éª¤</strong>:</p>
                    <ol>
                        <li>ç‰©æ–™å‡†å¤‡ (åº“å­˜æ¨¡å— â†’ ç”Ÿäº§æ¨¡å—)</li>
                        <li>åˆ›å»ºç”Ÿäº§æ‰¹æ¬¡ (ç”Ÿäº§æ¨¡å—)</li>
                        <li>å‘˜å·¥æ‰“å¡ä¸å·¥ä½œè®°å½• (è€ƒå‹¤æ¨¡å—)</li>
                        <li>è®¾å¤‡ä½¿ç”¨ä¸æŠ˜æ—§è®°å½• (è®¾å¤‡æ¨¡å—)</li>
                        <li>è´¨é‡æ£€éªŒ (è´¨æ£€æ¨¡å—)</li>
                        <li>å‘˜å·¥ä¸‹ç­æ‰“å¡ä¸è‡ªåŠ¨æˆæœ¬è®¡ç®— (è€ƒå‹¤ + æˆæœ¬è®¡ç®—)</li>
                        <li>AIæ™ºèƒ½åˆ†æä¸ä¼˜åŒ–å»ºè®® (AIæ¨¡å—)</li>
                    </ol>
                    <p><strong>ç›¸å…³æ–‡ä»¶</strong>:</p>
                    <ul>
                        <li>å‰ç«¯: MaterialBatchListScreen, BatchListScreen, TimeClockScreenç­‰</li>
                        <li>åç«¯: MaterialBatchRepository, ProcessingServiceImpl, ProcessingBatchRepositoryç­‰</li>
                        <li>æ•°æ®åº“: production_batches, batch_work_sessions, material_consumption_recordsç­‰</li>
                    </ul>
                </section>

                <section id="æ—¶é—´è¿½è¸ªä¸æˆæœ¬è®¡ç®—">
                    <h3>0.2 æ—¶é—´è¿½è¸ªä¸æˆæœ¬è®¡ç®—ä¸šåŠ¡çº¿</h3>
                    <p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>: ç³»ç»Ÿé€šè¿‡ç²¾ç»†çš„æ—¶é—´è¿½è¸ª,è‡ªåŠ¨è®¡ç®—æ¯ä¸ªå‘˜å·¥å¯¹æ¯ä¸ªæ‰¹æ¬¡çš„æˆæœ¬è´¡çŒ®ã€‚</p>
                    <p><strong>å®Œæ•´æµç¨‹</strong>:</p>
                    <pre><code>å‘˜å·¥ä¸Šç­ (08:00)
  â†“
ç³»ç»Ÿåˆ›å»º time_clock_record å’Œ batch_work_session
  â†“
å‘˜å·¥å·¥ä½œ (08:00-16:00)
  â†“
ç³»ç»Ÿè®°å½•å·¥ä½œæ—¶é—´ã€ä¸­æ–­æ—¶é—´ã€æ‰¹æ¬¡è½¬ç§»ç­‰
  â†“
å‘˜å·¥ä¸‹ç­ (16:00)
  â†“
ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—æˆæœ¬: å·¥ä½œæ—¶é—´ Ã— æ—¶è–ª</code></pre>
                </section>

                <section id="åº“å­˜ä¸ææ–™ç®¡ç†">
                    <h3>0.3 åº“å­˜ä¸ææ–™ç®¡ç†ä¸šåŠ¡çº¿</h3>
                    <p><strong>FIFO (å…ˆè¿›å…ˆå‡º) æ¨èæœºåˆ¶</strong>:</p>
                    <pre><code>æŸ¥è¯¢éœ€è¦çš„ç‰©æ–™ç±»å‹
  â†“
ç³»ç»ŸæŸ¥è¯¢æ‰€æœ‰å¯ç”¨æ‰¹æ¬¡
  â†“
æŒ‰è¿‡æœŸæ—¥æœŸæ’åº (å‡åº)
  â†“
æ¨èæœ€æ—©è¿‡æœŸçš„æ‰¹æ¬¡
  â†“
ç”¨æˆ·ç¡®è®¤ä½¿ç”¨
  â†“
ç³»ç»Ÿè®°å½•æ¶ˆè€—å¹¶æ›´æ–°åº“å­˜</code></pre>
                </section>

                <section id="å…³é”®æ•°æ®æµå›¾">
                    <h3>0.4 å…³é”®æ•°æ®æµå›¾</h3>
                    <p><strong>æˆæœ¬è®¡ç®—çš„å®Œæ•´æ•°æ®æµ</strong>:</p>
                    <pre><code>time_clock_records
  â†“
batch_work_sessions (äººå·¥æˆæœ¬)
  +
equipment_usage_records (è®¾å¤‡æˆæœ¬)
  +
material_consumption_records (ç‰©æ–™æˆæœ¬)
  â†“
production_batches (æ€»æˆæœ¬æ±‡æ€»)
  â†“
ai_analysis_results (AIåˆ†æ)</code></pre>
                </section>
            </section>

            <section id="äº¤å‰åŠŸèƒ½">
                <h2>äº¤å‰åŠŸèƒ½è¯¦è§£</h2>
                <p>è¿™äº›æ˜¯ç³»ç»Ÿæœ€é‡è¦çš„åŠŸèƒ½,éœ€è¦å¤šä¸ªæ¨¡å—åä½œå®Œæˆã€‚</p>

                <section id="æˆæœ¬è‡ªåŠ¨è®¡ç®—">
                    <h3>X.1 æˆæœ¬è‡ªåŠ¨è®¡ç®— (4ä¸ªæ¨¡å—åä½œ)</h3>
                    <p><strong>æ¶‰åŠæ¨¡å—</strong>: è€ƒå‹¤(äººå·¥) + è®¾å¤‡(æŠ˜æ—§) + åº“å­˜(ç‰©æ–™) + ç”Ÿäº§(æ±‡æ€»)</p>
                    <p><strong>å®Œæ•´åœºæ™¯</strong>: ä¸€ä¸ªç•ªèŒ„é…±æ‰¹æ¬¡ä»ç”Ÿäº§å¼€å§‹åˆ°æˆæœ¬è®¡ç®—çš„å…¨è¿‡ç¨‹</p>
                    <pre><code>æ­¥éª¤1: æ•°æ®æ”¶é›†
- å‘˜å·¥æ‰“å¡: 7.5å°æ—¶å·¥ä½œ
- è®¾å¤‡è¿è¡Œ: æ…æ‹Œæœº8å°æ—¶
- ç‰©æ–™æ¶ˆè€—: ç•ªèŒ„50kg

æ­¥éª¤2: æˆæœ¬è®¡ç®—
- äººå·¥æˆæœ¬: 7.5å°æ—¶ Ã— (æ—¥è–ª300/24) = 93.75å…ƒ
- è®¾å¤‡æˆæœ¬: 8å°æ—¶ Ã— 20.83å…ƒ/å°æ—¶ = 166.64å…ƒ
- ç‰©æ–™æˆæœ¬: 50kg Ã— 10å…ƒ/kg = 500å…ƒ

æ­¥éª¤3: æ€»æˆæœ¬
- æ€»æˆæœ¬ = 93.75 + 166.64 + 500 = 760.39å…ƒ
- äº§é‡: 500kg
- å•ä½æˆæœ¬: 1.52å…ƒ/kg</code></pre>
                </section>

                <section id="fifoåº“å­˜æ¨è">
                    <h3>X.2 FIFOåº“å­˜æ¨è (åº“å­˜â†’ç”Ÿäº§)</h3>
                    <p><strong>æµç¨‹</strong>:</p>
                    <pre><code>ç”Ÿäº§æ¨¡å—è¯·æ±‚ç‰©æ–™
  â†“
åº“å­˜æœåŠ¡æŸ¥è¯¢å¯ç”¨æ‰¹æ¬¡
  â†“
æŒ‰è¿‡æœŸæ—¥æœŸæ’åº
  â†“
è¿”å›æœ€æ—©è¿‡æœŸçš„æ‰¹æ¬¡ (æœ€æ—©è¿‡æœŸ â†’ æœ€æ™šè¿‡æœŸ)
  â†“
ç”Ÿäº§æ¨¡å—å±•ç¤ºæ¨è
  â†“
ç”¨æˆ·ç¡®è®¤ä½¿ç”¨
  â†“
åº“å­˜ç³»ç»Ÿè®°å½•æ¶ˆè€—å¹¶æ›´æ–°åº“å­˜</code></pre>
                </section>

                <section id="æ—¶é—´æˆæœ¬ä¸€ä½“åŒ–">
                    <h3>X.3 æ—¶é—´æˆæœ¬ä¸€ä½“åŒ– (è€ƒå‹¤â†’ç”Ÿäº§â†’æˆæœ¬)</h3>
                    <p><strong>æ•°æ®é“¾è·¯</strong>:</p>
                    <pre><code>time_clock_records (ä¸Šç­è®°å½•)
  â†“
batch_work_sessions (å·¥ä½œä¼šè¯)
  â†“
è‡ªåŠ¨æˆæœ¬è®¡ç®—
  â†“
production_batches.labor_cost</code></pre>
                </section>

                <section id="è®¾å¤‡æŠ˜æ—§é›†æˆ">
                    <h3>X.4 è®¾å¤‡æŠ˜æ—§é›†æˆ (è®¾å¤‡â†’æˆæœ¬è®¡ç®—)</h3>
                    <p><strong>æŠ˜æ—§è®¡ç®—</strong>:</p>
                    <pre><code>è´­å…¥ä»·: 120,000å…ƒ / ä½¿ç”¨å¹´é™: 10å¹´
  â†“
æœˆæŠ˜æ—§ = 120,000 / 120 = 1,000å…ƒ
  â†“
æ—¥æŠ˜æ—§ = 1,000 / 30 = 33.33å…ƒ
  â†“
å°æ—¶æŠ˜æ—§ = 33.33 / 24 = 1.39å…ƒ
  â†“
å®é™…ä½¿ç”¨: 8å°æ—¶ â†’ æˆæœ¬ = 1.39 Ã— 8 = 11.12å…ƒ</code></pre>
                </section>

                <section id="aiåˆ†æè§¦å‘é“¾">
                    <h3>X.5 AIåˆ†æè§¦å‘é“¾ (å®Œæˆâ†’åˆ†æâ†’æŠ¥å‘Š)</h3>
                    <p><strong>è‡ªåŠ¨è§¦å‘æµç¨‹</strong>:</p>
                    <pre><code>batch.status = 'COMPLETED'
  â†“
æˆæœ¬è®¡ç®—å®Œæˆ
  â†“
è‡ªåŠ¨è°ƒç”¨ AIEnterpriseService
  â†“
æ”¶é›†æ•°æ®å¹¶æ„é€ æç¤ºè¯
  â†“
è°ƒç”¨ DeepSeek LLM
  â†“
ä¿å­˜åˆ†æç»“æœ (7å¤©ç¼“å­˜)</code></pre>
                </section>
            </section>

            <section id="1-è®¤è¯ä¸æƒé™æ¨¡å—">
                <h2>1. è®¤è¯ä¸æƒé™æ¨¡å—</h2>
                <h3>1.1 ç»Ÿä¸€ç™»å½•</h3>
                <p><strong>ä¸šåŠ¡åœºæ™¯</strong>: å·¥å‚é‡Œçš„å‘˜å·¥å’Œå¹³å°ç®¡ç†å‘˜ä½¿ç”¨åŒä¸€å¥—APP,ä½†ç™»å½•åè¿›å…¥ä¸åŒçš„ç•Œé¢å’ŒåŠŸèƒ½ã€‚ç³»ç»Ÿéœ€è¦è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·ç±»å‹ã€‚</p>
                <p><strong>å‰ç«¯æ–‡ä»¶</strong>: <code>src/screens/auth/EnhancedLoginScreen.tsx</code></p>
                <p><strong>åç«¯æ–‡ä»¶</strong>: <code>controller/MobileController.java</code></p>
                <p><strong>API</strong>: <code>POST /api/mobile/auth/unified-login</code></p>
            </section>

            <section id="2-è€ƒå‹¤ç®¡ç†æ¨¡å—">
                <h2>2. è€ƒå‹¤ç®¡ç†æ¨¡å—</h2>
                <h3>2.1 æ‰“å¡åŠŸèƒ½</h3>
                <p><strong>ä¸šåŠ¡åœºæ™¯</strong>: å‘˜å·¥è¿›å‚å’Œç¦»å‚éƒ½è¦æ‰“å¡,ç³»ç»Ÿè‡ªåŠ¨è®°å½•ä½ç½®å’Œæ—¶é—´,ç”¨äºåç»­çš„æˆæœ¬è®¡ç®—å’Œå·¥èµ„ç»Ÿè®¡ã€‚</p>
                <p><strong>å‰ç«¯æ–‡ä»¶</strong>: <code>src/screens/attendance/TimeClockScreen.tsx</code></p>
                <p><strong>åç«¯æ–‡ä»¶</strong>: <code>controller/TimeClockController.java</code></p>
                <p><strong>API</strong>:</p>
                <pre><code>POST /api/mobile/{factoryId}/timeclock/clock-in   (ä¸Šç­æ‰“å¡)
POST /api/mobile/{factoryId}/timeclock/clock-out  (ä¸‹ç­æ‰“å¡)</code></pre>
            </section>

            <section id="3-ç”Ÿäº§åŠ å·¥æ¨¡å—">
                <h2>3. ç”Ÿäº§åŠ å·¥æ¨¡å—</h2>
                <h3>3.1 ç”Ÿäº§æ‰¹æ¬¡ç®¡ç†</h3>
                <p><strong>æ¦‚å¿µ</strong>: ç”Ÿäº§æ‰¹æ¬¡æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡é©±åŠ¨å™¨,å®ƒåè°ƒå…¶ä»–æ¨¡å—(è€ƒå‹¤ã€åº“å­˜ã€è®¾å¤‡ã€è´¨æ£€)çš„æ•°æ®ã€‚</p>
                <p><strong>æ‰¹æ¬¡ç”Ÿå‘½å‘¨æœŸ</strong>: åˆ›å»º â†’ è¿›è¡Œä¸­ â†’ è´¨æ£€ä¸­ â†’ å·²å®Œæˆ â†’ å·²äº¤ä»˜</p>
                <p><strong>å‰ç«¯æ–‡ä»¶</strong>: <code>src/screens/processing/BatchListScreen.tsx</code></p>
                <p><strong>åç«¯æ–‡ä»¶</strong>: <code>controller/ProcessingController.java</code></p>
            </section>

            <section id="4-aiæ™ºèƒ½åˆ†ææ¨¡å—">
                <h2>4. AIæ™ºèƒ½åˆ†ææ¨¡å—</h2>
                <h3>4.1 æˆæœ¬åˆ†æä¸ä¼˜åŒ–å»ºè®®</h3>
                <p><strong>è§¦å‘æ¡ä»¶</strong>: å½“ç”Ÿäº§æ‰¹æ¬¡å®Œæˆä¸”æˆæœ¬è®¡ç®—å®Œæˆæ—¶,ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨AIåˆ†æã€‚</p>
                <p><strong>å‰ç«¯æ–‡ä»¶</strong>: <code>src/screens/processing/DeepSeekAnalysisScreen.tsx</code></p>
                <p><strong>åç«¯æ–‡ä»¶</strong>: <code>controller/AIController.java</code></p>
                <p><strong>PythonæœåŠ¡</strong>: <code>backend-java/backend-ai-chat/ai_service.py</code></p>
            </section>

            <section id="5-è®¾å¤‡ç®¡ç†æ¨¡å—">
                <h2>5. è®¾å¤‡ç®¡ç†æ¨¡å—</h2>
                <h3>5.1 è®¾å¤‡ä½¿ç”¨è®°å½•</h3>
                <p><strong>ä¸šåŠ¡æµç¨‹</strong>: æ“ä½œå‘˜åœ¨è®¾å¤‡å¼€å§‹ä½¿ç”¨æ—¶è®°å½•,è®¾å¤‡åœæ­¢æ—¶ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—æŠ˜æ—§æˆæœ¬ã€‚</p>
                <p><strong>æˆæœ¬è®¡ç®—</strong>: å·¥ä½œæ—¶é—´ Ã— å°æ—¶æŠ˜æ—§ç‡</p>
                <p><strong>åç«¯æ–‡ä»¶</strong>: <code>controller/EquipmentController.java</code></p>
            </section>

            <section id="6-åº“å­˜ç®¡ç†æ¨¡å—">
                <h2>6. åº“å­˜ç®¡ç†æ¨¡å—</h2>
                <h3>6.1 FIFOåº“å­˜æ¨è</h3>
                <p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>: ç³»ç»ŸæŒ‰ç‰©æ–™æ‰¹æ¬¡çš„è¿‡æœŸæ—¥æœŸå‡åºæ’åˆ—,ä¼˜å…ˆæ¨èæœ€æ—©è¿‡æœŸçš„ã€‚è¿™æ ·å¯ä»¥é¿å…ç‰©æ–™è¿‡æœŸæµªè´¹ã€‚</p>
                <p><strong>å…³é”®è¡¨</strong>:</p>
                <pre><code>material_batches - ç‰©æ–™æ‰¹æ¬¡
material_consumption_records - æ¶ˆè€—è®°å½•</code></pre>
            </section>

            <section id="å¸¸è§é—®é¢˜è§£ç­”">
                <h2>å¸¸è§é—®é¢˜è§£ç­”</h2>
                <h3>Q1: ä¸ºä»€ä¹ˆæˆ‘çš„å‘˜å·¥æ‰“å¡åæ²¡æœ‰è‡ªåŠ¨å…³è”æ‰¹æ¬¡?</h3>
                <p><strong>A</strong>: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:</p>
                <ol>
                    <li>æ˜¯å¦æœ‰è¿›è¡Œä¸­çš„ç”Ÿäº§æ‰¹æ¬¡ (status=IN_PROGRESS)?</li>
                    <li>è¯¥å‘˜å·¥æ˜¯å¦è¢«åˆ†é…åˆ°è¯¥æ‰¹æ¬¡?</li>
                    <li>æ‰“å¡æ—¶é—´æ˜¯å¦åœ¨æ‰¹æ¬¡çš„è®¡åˆ’æ—¶é—´èŒƒå›´å†…?</li>
                </ol>

                <h3>Q2: FIFOåº“å­˜æ¨èæ˜¯æ€æ ·çš„?</h3>
                <p><strong>A</strong>: ç³»ç»ŸæŒ‰ç…§ç‰©æ–™æ‰¹æ¬¡çš„è¿‡æœŸæ—¥æœŸå‡åºæ’åˆ—,ä¼˜å…ˆæ¨èæœ€æ—©è¿‡æœŸçš„ã€‚</p>

                <h3>Q3: AIåˆ†æä½•æ—¶è‡ªåŠ¨è§¦å‘?</h3>
                <p><strong>A</strong>: å½“ç”Ÿäº§æ‰¹æ¬¡æ ‡è®°ä¸ºCOMPLETEDæˆ–DELIVEREDä¸”æˆæœ¬è®¡ç®—å®Œæˆå,ç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨åå°è°ƒç”¨AIåˆ†ææœåŠ¡ã€‚</p>

                <h3>Q4: æˆæœ¬è®¡ç®—ä¸­çš„äººå·¥æˆæœ¬æ˜¯æ€æ ·è®¡ç®—çš„?</h3>
                <p><strong>A</strong>:</p>
                <ol>
                    <li>ç³»ç»Ÿè®°å½•å‘˜å·¥çš„å®é™…å·¥ä½œæ—¶é—´ (batch_work_sessions)</li>
                    <li>æ ¹æ®å‘˜å·¥çš„æ—¥è–ªè®¡ç®—å°æ—¶è´¹ç‡: æ—¥è–ª / 24</li>
                    <li>å°†å°æ—¶è´¹ç‡ Ã— å®é™…å·¥ä½œå°æ—¶æ•°</li>
                    <li>å¦‚æœå‘˜å·¥ä¸­é€”è½¬ç§»åˆ°å…¶ä»–æ‰¹æ¬¡,æˆæœ¬æŒ‰æ¯”ä¾‹åˆ†é…</li>
                </ol>
            </section>

            <footer>
                <p><strong>æ›´æ–°æ—¥æœŸ</strong>: 2025-11-21</p>
                <p><strong>æ–‡æ¡£ç±»å‹</strong>: æ–°äººå®Œæ•´å­¦ä¹ æŒ‡å— (2043è¡Œè¯¦ç»†æ–‡æ¡£)</p>
                <p><strong>æ¨èé˜…è¯»é¡ºåº</strong>: ç¬¬0ç«  â†’ ç¬¬1-11ç«  â†’ äº¤å‰åŠŸèƒ½ â†’ å¸¸è§é—®é¢˜</p>
                <p><strong>ç›¸å…³æ–‡æ¡£</strong>:</p>
                <ul>
                    <li><a href="PRD-åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„-v3.0-æŠ€æœ¯é€ŸæŸ¥.html">æŠ€æœ¯é€ŸæŸ¥ç‰ˆ</a> - å¿«é€ŸæŸ¥æ‰¾APIå’Œæ–‡ä»¶è·¯å¾„</li>
                    <li><a href="../QUICK_START.md">å¿«é€Ÿå¼€å§‹</a> - 5åˆ†é’Ÿå¯åŠ¨ç³»ç»Ÿ</li>
                    <li><a href="../IMPLEMENTATION_SUMMARY.md">å®ç°æ€»ç»“</a> - åç«¯å®ç°ç»†èŠ‚</li>
                </ul>
            </footer>
        </main>
    </div>

    <div class="back-to-top" id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘</div>

    <script src="https://cdn.jsdelivr.net/npm/prism@1.29.0/prism.min.js"></script>
    <script>
        const navItems = document.querySelectorAll('.sidebar-nav-item');
        const sections = document.querySelectorAll('section');

        function updateActiveNav() {
            const scrollPosition = window.scrollY + 100;
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    navItems.forEach(item => item.classList.remove('active'));
                    const activeItem = document.querySelector(`[data-section="${section.id}"]`);
                    if (activeItem) activeItem.classList.add('active');
                }
            });
        }

        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            updateActiveNav();
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });

        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                navItems.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    item.style.display = text.includes(query) ? 'block' : 'none';
                });
            });
        }

        updateActiveNav();
    </script>
</body>
</html>
