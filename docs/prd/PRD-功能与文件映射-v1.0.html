<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ - åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„ v1.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 50px 40px;
        }

        h2 {
            color: #667eea;
            font-size: 2em;
            margin: 40px 0 25px 0;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        h3 {
            color: #764ba2;
            font-size: 1.6em;
            margin: 35px 0 20px 0;
            padding-left: 15px;
            border-left: 5px solid #764ba2;
        }

        h4 {
            color: #555;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
        }

        p {
            margin: 15px 0;
            text-align: justify;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 10px 0;
        }

        code {
            background: #f4f4f4;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: "Courier New", monospace;
            color: #e83e8c;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: "Courier New", monospace;
            line-height: 1.6;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        tr:hover {
            background: #e9ecef;
        }

        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 50px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 30px 20px;
            }

            h2 {
                font-size: 1.6em;
            }

            h3 {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—‚ï¸ ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ</h1>
            <div class="subtitle">åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„æ–‡æ¡£ v1.0</div>
            <div style="margin-top: 20px; font-size: 0.95em; opacity: 0.85;">
                å®Œæ•´çš„åŠŸèƒ½ç‚¹åˆ°å®ç°æ–‡ä»¶çš„æ˜ å°„å…³ç³»
            </div>
        </div>

        <div class="content">
            <!-- ç¬¬9ç« ï¼šåŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„ -->
            <section id="chapter9" style="margin-bottom: 60px;">
                <h2 style="font-size: 2.5em; color: #667eea; border-bottom: 3px solid #667eea; padding-bottom: 15px; margin-bottom: 40px;">
                    ç¬¬9ç« ï¼šåŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„
                </h2>

                <div class="info-box" style="margin-bottom: 40px;">
                    <p style="font-size: 1.1em; line-height: 2;">
                        <strong>ç« èŠ‚ç›®çš„</strong>ï¼šæœ¬ç« ä»åŠŸèƒ½è§†è§’å‡ºå‘ï¼Œè¯¦ç»†æ¢³ç†ç³»ç»Ÿä¸­æ¯ä¸ªæ ¸å¿ƒåŠŸèƒ½æ‰€æ¶‰åŠçš„å‰ç«¯å’Œåç«¯æ–‡ä»¶ã€APIæ¥å£åŠæ•°æ®åº“è¡¨ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›æ¸…æ™°çš„æŠ€æœ¯å‚è€ƒã€‚<br><br>

                        <strong>é˜…è¯»è¯´æ˜</strong>ï¼š<br>
                        â€¢ æ–‡ä»¶è·¯å¾„é‡‡ç”¨é¡¹ç›®ç›¸å¯¹è·¯å¾„æ ¼å¼<br>
                        â€¢ æ ¸å¿ƒåŠŸèƒ½åˆ—å‡ºå®Œæ•´æ–‡ä»¶ï¼Œè¾…åŠ©åŠŸèƒ½åˆ—å‡ºæ ¸å¿ƒæ–‡ä»¶<br>
                        â€¢ APIç«¯ç‚¹æ ¼å¼ï¼š<code>HTTPæ–¹æ³• /è·¯å¾„</code><br>
                        â€¢ æ•°æ®åº“è¡¨åå¯¹åº”å®é™…MySQLè¡¨å<br>
                        â€¢ é‡è¦å‚æ•°ï¼šåˆ—å‡ºå…³é”®APIè¯·æ±‚/å“åº”å‚æ•°
                    </p>
                </div>

                <!-- ç« èŠ‚ç›®å½• -->
                <div id="chapter9-toc" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 30px; border-radius: 12px; margin-bottom: 50px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="border: none; padding: 0; margin-bottom: 25px; color: #2c3e50; text-align: center; font-size: 1.8em;">
                        ğŸ“‘ ç« èŠ‚ç›®å½•
                    </h3>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <!-- ç¬¬ä¸€åˆ— -->
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                            <h4 style="color: #667eea; margin-top: 0; padding-bottom: 10px; border-bottom: 2px solid #667eea;">
                                9.1 è®¤è¯ä¸æƒé™æ¨¡å—
                            </h4>
                            <ul style="list-style: none; padding-left: 0; line-height: 2.2;">
                                <li>â€¢ <a href="#section-9-1-1" style="color: #555; text-decoration: none;">9.1.1 ç»Ÿä¸€ç™»å½•</a></li>
                                <li>â€¢ <a href="#section-9-1-2" style="color: #555; text-decoration: none;">9.1.2 ç”¨æˆ·æ³¨å†Œ</a></li>
                                <li>â€¢ <a href="#section-9-1-3" style="color: #555; text-decoration: none;">9.1.3 ç™½åå•ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-1-4" style="color: #555; text-decoration: none;">9.1.4 æƒé™éªŒè¯</a></li>
                            </ul>
                        </div>

                        <!-- ç¬¬äºŒåˆ— -->
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                            <h4 style="color: #667eea; margin-top: 0; padding-bottom: 10px; border-bottom: 2px solid #667eea;">
                                9.2 è€ƒå‹¤ç®¡ç†æ¨¡å—
                            </h4>
                            <ul style="list-style: none; padding-left: 0; line-height: 2.2;">
                                <li>â€¢ <a href="#section-9-2-1" style="color: #555; text-decoration: none;">9.2.1 å‘˜å·¥æ‰“å¡</a></li>
                                <li>â€¢ <a href="#section-9-2-2" style="color: #555; text-decoration: none;">9.2.2 å·¥æ—¶ç»Ÿè®¡</a></li>
                            </ul>

                            <h4 style="color: #667eea; margin-top: 20px; padding-bottom: 10px; border-bottom: 2px solid #667eea;">
                                9.5 å¹³å°ç®¡ç†æ¨¡å—
                            </h4>
                            <ul style="list-style: none; padding-left: 0; line-height: 2.2;">
                                <li>â€¢ <a href="#section-9-5-1" style="color: #555; text-decoration: none;">9.5.1 å·¥å‚ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-5-2" style="color: #555; text-decoration: none;">9.5.2 AIé…é¢ç®¡ç†</a></li>
                            </ul>
                        </div>

                        <!-- ç¬¬ä¸‰åˆ— -->
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                            <h4 style="color: #667eea; margin-top: 0; padding-bottom: 10px; border-bottom: 2px solid #667eea;">
                                9.3 ç”Ÿäº§åŠ å·¥æ¨¡å—
                            </h4>
                            <ul style="list-style: none; padding-left: 0; line-height: 2.2;">
                                <li><strong>9.3.1 æ‰¹æ¬¡ç®¡ç†</strong></li>
                                <li style="padding-left: 15px;">â€¢ <a href="#section-9-3-1-1" style="color: #555; text-decoration: none;">æ‰¹æ¬¡åˆ—è¡¨</a></li>
                                <li style="padding-left: 15px;">â€¢ <a href="#section-9-3-1-2" style="color: #555; text-decoration: none;">æ‰¹æ¬¡åˆ›å»º</a></li>
                                <li style="padding-left: 15px;">â€¢ <a href="#section-9-3-1-3" style="color: #555; text-decoration: none;">æ‰¹æ¬¡è¯¦æƒ…</a></li>
                                <li><strong>9.3.2 åŸææ–™ç®¡ç†</strong></li>
                                <li style="padding-left: 15px;">â€¢ <a href="#section-9-3-2-1" style="color: #555; text-decoration: none;">åŸææ–™å…¥åº“</a></li>
                                <li style="padding-left: 15px;">â€¢ <a href="#section-9-3-2-2" style="color: #555; text-decoration: none;">åŸææ–™æ‰¹æ¬¡ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-3-3" style="color: #555; text-decoration: none;">9.3.3 ç”Ÿäº§è®¡åˆ’</a></li>
                                <li>â€¢ <a href="#section-9-3-4" style="color: #555; text-decoration: none;">9.3.4 è´¨æ£€ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-3-5" style="color: #555; text-decoration: none;">9.3.5 æˆæœ¬åˆ†æ</a></li>
                                <li>â€¢ <a href="#section-9-3-6" style="color: #555; text-decoration: none;">9.3.6 AIæ™ºèƒ½åˆ†æ</a></li>
                            </ul>
                        </div>

                        <!-- ç¬¬å››åˆ— -->
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                            <h4 style="color: #667eea; margin-top: 0; padding-bottom: 10px; border-bottom: 2px solid #667eea;">
                                9.4 åŸºç¡€æ•°æ®ç®¡ç†æ¨¡å—
                            </h4>
                            <ul style="list-style: none; padding-left: 0; line-height: 2.2;">
                                <li>â€¢ <a href="#section-9-4-1" style="color: #555; text-decoration: none;">9.4.1 äº§å“ç±»å‹ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-2" style="color: #555; text-decoration: none;">9.4.2 åŸææ–™ç±»å‹ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-3" style="color: #555; text-decoration: none;">9.4.3 å·¥ç§ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-4" style="color: #555; text-decoration: none;">9.4.4 ä¾›åº”å•†ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-5" style="color: #555; text-decoration: none;">9.4.5 å®¢æˆ·ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-6" style="color: #555; text-decoration: none;">9.4.6 ç”¨æˆ·ç®¡ç†</a></li>
                                <li>â€¢ <a href="#section-9-4-7" style="color: #555; text-decoration: none;">9.4.7 åŸææ–™è§„æ ¼é…ç½® âœ¨</a></li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 25px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 6px; text-align: center;">
                        <p style="margin: 0; color: #666; font-size: 0.95em;">
                            ğŸ’¡ <strong>æç¤º</strong>ï¼šç‚¹å‡»ç›®å½•é¡¹å¯å¿«é€Ÿè·³è½¬åˆ°å¯¹åº”ç« èŠ‚ | æœ¬ç« å…±åŒ…å« <strong>26ä¸ªåŠŸèƒ½ç‚¹</strong>
                        </p>
                    </div>
                </div>

                <h3>9.1 è®¤è¯ä¸æƒé™æ¨¡å—ï¼ˆAuthentication & Authorizationï¼‰</h3>

                <h4 id="section-9-1-1">9.1.1 ç»Ÿä¸€ç™»å½•ï¼ˆUnified Loginï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šæ”¯æŒå¹³å°ç®¡ç†å‘˜å’Œå·¥å‚ç”¨æˆ·çš„ç»Ÿä¸€ç™»å½•å…¥å£ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ç”¨æˆ·ç±»å‹å¹¶è·¯ç”±åˆ°å¯¹åº”ç•Œé¢ã€‚æ”¯æŒJWTåŒtokenæœºåˆ¶ã€è®¾å¤‡ç»‘å®šéªŒè¯ã€‚
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼š<br>
                            <strong>è¯·æ±‚å‚æ•°</strong>ï¼ˆPOST /api/mobile/auth/unified-loginï¼‰ï¼š<br>
                            â€¢ <code>username</code>: string - ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>password</code>: string - å¯†ç ï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>deviceId</code>: string - è®¾å¤‡å”¯ä¸€æ ‡è¯†ï¼ˆå¿…å¡«ï¼Œç”¨äºè®¾å¤‡ç»‘å®šï¼‰<br>
                            â€¢ <code>deviceInfo</code>: object - è®¾å¤‡ä¿¡æ¯ï¼ˆå‹å·ã€OSç‰ˆæœ¬ç­‰ï¼Œé€‰å¡«ï¼‰<br><br>

                            <strong>å“åº”å‚æ•°</strong>ï¼š<br>
                            â€¢ <code>accessToken</code>: string - è®¿é—®ä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ2å°æ—¶ï¼‰<br>
                            â€¢ <code>refreshToken</code>: string - åˆ·æ–°ä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ7å¤©ï¼‰<br>
                            â€¢ <code>userType</code>: "platform_admin" | "factory_user" - ç”¨æˆ·ç±»å‹<br>
                            â€¢ <code>userId</code>: string - ç”¨æˆ·ID<br>
                            â€¢ <code>factoryId</code>: string - å·¥å‚IDï¼ˆå·¥å‚ç”¨æˆ·ä¸“æœ‰ï¼‰<br>
                            â€¢ <code>role</code>: string - è§’è‰²ï¼ˆ8çº§RBACè§’è‰²ä¹‹ä¸€ï¼‰<br>
                            â€¢ <code>permissions</code>: string[] - æƒé™åˆ—è¡¨
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/auth/EnhancedLoginScreen.tsx</code> - ç™»å½•ç•Œé¢ä¸»ç»„ä»¶</li>
                        <li><code>frontend/CretasFoodTrace/src/services/auth/authService.ts</code> - è®¤è¯æœåŠ¡ï¼ˆç™»å½•ã€ç™»å‡ºã€tokenç®¡ç†ï¼‰</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/mobileApiClient.ts</code> - ç§»åŠ¨ç«¯APIå®¢æˆ·ç«¯</li>
                        <li><code>frontend/CretasFoodTrace/src/store/authStore.ts</code> - è®¤è¯çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰</li>
                        <li><code>frontend/CretasFoodTrace/src/store/permissionStore.ts</code> - æƒé™çŠ¶æ€ç®¡ç†</li>
                        <li><code>frontend/CretasFoodTrace/src/navigation/MainNavigator.tsx</code> - ç™»å½•åå¯¼èˆªè·¯ç”±</li>
                        <li><code>frontend/CretasFoodTrace/src/types/auth.ts</code> - è®¤è¯ç›¸å…³ç±»å‹å®šä¹‰</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/SystemController.java</code> - ç§»åŠ¨ç«¯è®¤è¯æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AuthService.java</code> - è®¤è¯ä¸šåŠ¡é€»è¾‘</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/UserService.java</code> - ç”¨æˆ·æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/PlatformAdminService.java</code> - å¹³å°ç®¡ç†å‘˜æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/UserRepository.java</code> - ç”¨æˆ·æ•°æ®ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/PlatformAdminRepository.java</code> - å¹³å°ç®¡ç†å‘˜ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/SessionRepository.java</code> - ä¼šè¯ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/User.java</code> - ç”¨æˆ·å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/PlatformAdmin.java</code> - å¹³å°ç®¡ç†å‘˜å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/Session.java</code> - ä¼šè¯å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/security/JwtUtil.java</code> - JWTå·¥å…·ç±»</li>
                        <li><code>backend/src/main/java/com/cretas/aims/security/JwtAuthenticationFilter.java</code> - JWTè®¤è¯è¿‡æ»¤å™¨</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>POST /api/mobile/auth/unified-login</code> - ç»Ÿä¸€ç™»å½•æ¥å£</li>
                        <li><code>POST /api/mobile/auth/refresh-token</code> - åˆ·æ–°tokenæ¥å£</li>
                        <li><code>POST /api/mobile/auth/logout</code> - ç™»å‡ºæ¥å£</li>
                        <li><code>GET /api/mobile/auth/verify-token</code> - éªŒè¯tokenæœ‰æ•ˆæ€§</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>user</code> - å·¥å‚ç”¨æˆ·è¡¨ï¼ˆå­˜å‚¨8çº§è§’è‰²ï¼‰</li>
                        <li><code>platform_admin</code> - å¹³å°ç®¡ç†å‘˜è¡¨</li>
                        <li><code>session</code> - ä¼šè¯ç®¡ç†è¡¨ï¼ˆè®°å½•è®¾å¤‡ä¿¡æ¯ã€ç™»å½•æ—¶é—´ï¼‰</li>
                    </ul>
                </div>

                <h4 id="section-9-1-2">9.1.2 ç”¨æˆ·æ³¨å†Œï¼ˆUser Registrationï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šä¸¤é˜¶æ®µæ³¨å†Œæµç¨‹ï¼Œç¬¬ä¸€é˜¶æ®µæ‰‹æœºå·éªŒè¯å’Œç™½åå•æ£€æŸ¥ï¼Œç¬¬äºŒé˜¶æ®µå®Œæˆç”¨æˆ·ä¿¡æ¯å¡«å†™å’Œè´¦å·åˆ›å»ºã€‚
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼š<br>
                            <strong>é˜¶æ®µä¸€è¯·æ±‚</strong>ï¼ˆPOST /api/mobile/auth/register-phase-oneï¼‰ï¼š<br>
                            â€¢ <code>phoneNumber</code>: string - æ‰‹æœºå·ï¼ˆå¿…å¡«ï¼Œæ ¼å¼ï¼š+8613800000000ï¼‰<br>
                            â€¢ <code>verificationType</code>: "registration" - éªŒè¯ç±»å‹ï¼ˆå¿…å¡«ï¼‰<br><br>

                            <strong>é˜¶æ®µä¸€å“åº”</strong>ï¼š<br>
                            â€¢ <code>tempToken</code>: string - ä¸´æ—¶ä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ15åˆ†é’Ÿï¼‰<br>
                            â€¢ <code>whitelistStatus</code>: boolean - æ˜¯å¦åœ¨ç™½åå•ä¸­<br>
                            â€¢ <code>factoryId</code>: string - æ‰€å±å·¥å‚ID<br><br>

                            <strong>é˜¶æ®µäºŒè¯·æ±‚</strong>ï¼ˆPOST /api/mobile/auth/register-phase-twoï¼‰ï¼š<br>
                            â€¢ <code>tempToken</code>: string - é˜¶æ®µä¸€è·å–çš„ä¸´æ—¶ä»¤ç‰Œï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>username</code>: string - ç”¨æˆ·åï¼ˆå¿…å¡«ï¼Œ3-20å­—ç¬¦ï¼‰<br>
                            â€¢ <code>password</code>: string - å¯†ç ï¼ˆå¿…å¡«ï¼Œ8ä½ä»¥ä¸Šå«å¤§å°å†™+æ•°å­—ï¼‰<br>
                            â€¢ <code>fullName</code>: string - çœŸå®å§“åï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>department</code>: string - éƒ¨é—¨ï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>workType</code>: string - å·¥ç§ï¼ˆé€‰å¡«ï¼‰<br><br>

                            <strong>é˜¶æ®µäºŒå“åº”</strong>ï¼š<br>
                            â€¢ <code>userId</code>: string - æ–°åˆ›å»ºçš„ç”¨æˆ·ID<br>
                            â€¢ <code>accessToken</code>: string - è®¿é—®ä»¤ç‰Œ<br>
                            â€¢ <code>refreshToken</code>: string - åˆ·æ–°ä»¤ç‰Œ
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/auth/RegisterScreen.tsx</code> - æ³¨å†Œç•Œé¢ä¸»ç»„ä»¶</li>
                        <li><code>frontend/CretasFoodTrace/src/services/auth/authService.ts</code> - æ³¨å†ŒæœåŠ¡</li>
                        <li><code>frontend/CretasFoodTrace/src/hooks/useRegister.ts</code> - æ³¨å†Œé€»è¾‘Hook</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/SystemController.java</code> - æ³¨å†Œæ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/RegistrationService.java</code> - æ³¨å†Œä¸šåŠ¡é€»è¾‘</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/WhitelistService.java</code> - ç™½åå•éªŒè¯æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/UserWhitelist.java</code> - ç™½åå•å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>POST /api/mobile/auth/register-phase-one</code> - ç¬¬ä¸€é˜¶æ®µï¼šæ‰‹æœºå·éªŒè¯</li>
                        <li><code>POST /api/mobile/auth/register-phase-two</code> - ç¬¬äºŒé˜¶æ®µï¼šå®Œæˆæ³¨å†Œ</li>
                        <li><code>POST /api/mobile/auth/verify-phone</code> - éªŒè¯ç éªŒè¯</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>user_whitelist</code> - ç”¨æˆ·ç™½åå•è¡¨</li>
                        <li><code>user</code> - æ–°ç”¨æˆ·è®°å½•</li>
                    </ul>
                </div>

                <h4 id="section-9-1-3">9.1.3 ç™½åå•ç®¡ç†ï¼ˆWhitelist Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šå·¥å‚ç®¡ç†å‘˜ç®¡ç†ç”¨æˆ·æ³¨å†Œç™½åå•ï¼ŒåŒ…æ‹¬æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥è¯¢ç™½åå•è®°å½•ï¼Œæ”¯æŒæœ‰æ•ˆæœŸè®¾ç½®ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/WhitelistManagementScreen.tsx</code> - ç™½åå•ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/whitelistApiClient.ts</code> - ç™½åå•APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/WhitelistController.java</code> - ç™½åå•æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/WhitelistService.java</code> - ç™½åå•æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/WhitelistRepository.java</code> - ç™½åå•ä»“åº“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/whitelist</code> - è·å–ç™½åå•åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/whitelist</code> - æ·»åŠ ç™½åå•</li>
                        <li><code>PUT /api/mobile/{factoryId}/whitelist/{id}</code> - æ›´æ–°ç™½åå•</li>
                        <li><code>DELETE /api/mobile/{factoryId}/whitelist/{id}</code> - åˆ é™¤ç™½åå•</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>user_whitelist</code> - ç™½åå•è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-1-4">9.1.4 æƒé™éªŒè¯ï¼ˆPermission Validationï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šåŸºäº8çº§RBACè§’è‰²ç³»ç»Ÿçš„æƒé™éªŒè¯ï¼Œå‰ç«¯è·¯ç”±å®ˆå«å’Œåç«¯æ¥å£æ‹¦æˆªã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/navigation/PermissionGuard.tsx</code> - æƒé™è·¯ç”±å®ˆå«</li>
                        <li><code>frontend/CretasFoodTrace/src/store/permissionStore.ts</code> - æƒé™çŠ¶æ€ç®¡ç†</li>
                        <li><code>frontend/CretasFoodTrace/src/utils/permissions.ts</code> - æƒé™å·¥å…·å‡½æ•°</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/security/PermissionInterceptor.java</code> - æƒé™æ‹¦æˆªå™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/security/annotation/RequirePermission.java</code> - æƒé™æ³¨è§£</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/PermissionService.java</code> - æƒé™æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/UserRoleHistory.java</code> - è§’è‰²å˜æ›´å†å²</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/auth/permissions</code> - è·å–å½“å‰ç”¨æˆ·æƒé™</li>
                        <li><code>GET /api/mobile/auth/role-hierarchy</code> - è·å–è§’è‰²å±‚çº§</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>user</code> - ç”¨æˆ·è§’è‰²å­—æ®µï¼ˆroleï¼‰</li>
                        <li><code>user_role_history</code> - è§’è‰²å˜æ›´å†å²</li>
                    </ul>
                </div>

                <h3>9.2 è€ƒå‹¤ç®¡ç†æ¨¡å—ï¼ˆAttendance Managementï¼‰</h3>

                <h4 id="section-9-2-1">9.2.1 å‘˜å·¥æ‰“å¡ï¼ˆTime Clockï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šå‘˜å·¥ä¸Šä¸‹ç­æ‰“å¡åŠŸèƒ½ï¼Œæ”¯æŒGPSå®šä½éªŒè¯ã€æ‹ç…§æ‰“å¡ã€è‡ªåŠ¨è®¡ç®—å·¥æ—¶ã€‚
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼š<br>
                            <strong>ä¸Šç­æ‰“å¡è¯·æ±‚</strong>ï¼ˆPOST /api/mobile/{factoryId}/timeclock/clock-inï¼‰ï¼š<br>
                            â€¢ <code>workTypeId</code>: string - å·¥ç§IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>location</code>: object - GPSåæ ‡ï¼ˆå¿…å¡«ï¼‰<br>
                            &nbsp;&nbsp;â”œâ”€ <code>latitude</code>: number - çº¬åº¦<br>
                            &nbsp;&nbsp;â””â”€ <code>longitude</code>: number - ç»åº¦<br>
                            â€¢ <code>photo</code>: string - æ‰“å¡ç…§ç‰‡URLï¼ˆé€‰å¡«ï¼‰<br>
                            â€¢ <code>notes</code>: string - å¤‡æ³¨ï¼ˆé€‰å¡«ï¼‰<br><br>

                            <strong>ä¸Šç­æ‰“å¡å“åº”</strong>ï¼š<br>
                            â€¢ <code>sessionId</code>: string - å·¥ä½œä¼šè¯ID<br>
                            â€¢ <code>clockInTime</code>: string - æ‰“å¡æ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼‰<br>
                            â€¢ <code>isWithinGeofence</code>: boolean - æ˜¯å¦åœ¨åœ°ç†å›´æ å†…<br>
                            â€¢ <code>distanceFromFactory</code>: number - è·å·¥å‚è·ç¦»ï¼ˆç±³ï¼‰<br><br>

                            <strong>ä¸‹ç­æ‰“å¡è¯·æ±‚</strong>ï¼ˆPOST /api/mobile/{factoryId}/timeclock/clock-outï¼‰ï¼š<br>
                            â€¢ <code>sessionId</code>: string - å·¥ä½œä¼šè¯IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>location</code>: object - GPSåæ ‡ï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>photo</code>: string - ä¸‹ç­ç…§ç‰‡URLï¼ˆé€‰å¡«ï¼‰<br><br>

                            <strong>ä¸‹ç­æ‰“å¡å“åº”</strong>ï¼š<br>
                            â€¢ <code>sessionId</code>: string - å·¥ä½œä¼šè¯ID<br>
                            â€¢ <code>clockOutTime</code>: string - ä¸‹ç­æ—¶é—´<br>
                            â€¢ <code>totalHours</code>: number - æ€»å·¥æ—¶ï¼ˆå°æ—¶ï¼‰<br>
                            â€¢ <code>wages</code>: number - è®¡ç®—å·¥èµ„ï¼ˆå…ƒï¼‰
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/attendance/TimeClockScreen.tsx</code> - æ‰“å¡ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/timeclockApiClient.ts</code> - æ‰“å¡APIå®¢æˆ·ç«¯</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/attendanceApiClient.ts</code> - è€ƒå‹¤APIå®¢æˆ·ç«¯</li>
                        <li><code>frontend/CretasFoodTrace/src/hooks/useLocation.ts</code> - GPSå®šä½Hook</li>
                        <li><code>frontend/CretasFoodTrace/src/hooks/useCamera.ts</code> - ç›¸æœºHook</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/TimeClockController.java</code> - æ‰“å¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/TimeClockService.java</code> - æ‰“å¡ä¸šåŠ¡é€»è¾‘</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/WorkSessionService.java</code> - å·¥ä½œä¼šè¯æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/EmployeeWorkSessionRepository.java</code> - å·¥ä½œä¼šè¯ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/EmployeeWorkSession.java</code> - å·¥ä½œä¼šè¯å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/util/GeoLocationUtil.java</code> - åœ°ç†ä½ç½®å·¥å…·</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>POST /api/mobile/{factoryId}/timeclock/clock-in</code> - ä¸Šç­æ‰“å¡</li>
                        <li><code>POST /api/mobile/{factoryId}/timeclock/clock-out</code> - ä¸‹ç­æ‰“å¡</li>
                        <li><code>GET /api/mobile/{factoryId}/timeclock/status</code> - è·å–æ‰“å¡çŠ¶æ€</li>
                        <li><code>GET /api/mobile/{factoryId}/timeclock/today</code> - ä»Šæ—¥æ‰“å¡è®°å½•</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>employee_work_session</code> - å·¥ä½œä¼šè¯è¡¨ï¼ˆè®°å½•æ‰“å¡æ—¶é—´ã€GPSåæ ‡ï¼‰</li>
                        <li><code>work_type</code> - å·¥ç§è¡¨ï¼ˆå…³è”æ‰“å¡è®°å½•ï¼‰</li>
                    </ul>
                </div>

                <h4 id="section-9-2-2">9.2.2 å·¥æ—¶ç»Ÿè®¡ï¼ˆAttendance Statisticsï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šæŸ¥è¯¢å‘˜å·¥å·¥æ—¶ç»Ÿè®¡ï¼Œæ”¯æŒæŒ‰æ—¥/å‘¨/æœˆæŸ¥è¯¢ï¼Œè‡ªåŠ¨è®¡ç®—æ€»å·¥æ—¶ã€åŠ ç­å·¥æ—¶ã€å‡ºå‹¤ç‡ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/attendance/AttendanceStatisticsScreen.tsx</code> - å·¥æ—¶ç»Ÿè®¡ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/timeStatsApiClient.ts</code> - ç»Ÿè®¡APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/TimeStatsController.java</code> - ç»Ÿè®¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AttendanceStatsService.java</code> - ç»Ÿè®¡æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/EmployeeWorkSessionRepository.java</code> - æŸ¥è¯¢ä»“åº“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/attendance/stats/daily</code> - æ—¥ç»Ÿè®¡</li>
                        <li><code>GET /api/mobile/{factoryId}/attendance/stats/weekly</code> - å‘¨ç»Ÿè®¡</li>
                        <li><code>GET /api/mobile/{factoryId}/attendance/stats/monthly</code> - æœˆç»Ÿè®¡</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>employee_work_session</code> - åŸºç¡€æ•°æ®æº</li>
                    </ul>
                </div>

                <h3>9.3 ç”Ÿäº§åŠ å·¥æ¨¡å—ï¼ˆProcessing Moduleï¼‰</h3>

                <h4>9.3.1 æ‰¹æ¬¡ç®¡ç†ï¼ˆBatch Managementï¼‰</h4>

                <h5 id="section-9-3-1-1">9.3.1.1 æ‰¹æ¬¡åˆ—è¡¨ï¼ˆBatch Listï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h5>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šæŸ¥è¯¢å’Œå±•ç¤ºç”Ÿäº§æ‰¹æ¬¡åˆ—è¡¨ï¼Œæ”¯æŒç­›é€‰ï¼ˆçŠ¶æ€ã€æ—¥æœŸï¼‰å’Œæœç´¢ï¼ˆæ‰¹æ¬¡å·ã€äº§å“åï¼‰ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/BatchListScreen.tsx</code> - æ‰¹æ¬¡åˆ—è¡¨ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - åŠ å·¥APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProcessingController.java</code> - æ‰¹æ¬¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/ProcessingBatchService.java</code> - æ‰¹æ¬¡æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/ProcessingBatchRepository.java</code> - æ‰¹æ¬¡ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/ProcessingBatch.java</code> - æ‰¹æ¬¡å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/processing/batches</code> - è·å–æ‰¹æ¬¡åˆ—è¡¨</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/batches/search</code> - æœç´¢æ‰¹æ¬¡</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>processing_batch</code> - ç”Ÿäº§æ‰¹æ¬¡è¡¨</li>
                        <li><code>product_type</code> - äº§å“ç±»å‹è¡¨ï¼ˆå…³è”æŸ¥è¯¢ï¼‰</li>
                    </ul>
                </div>

                <h5 id="section-9-3-1-2">9.3.1.2 æ‰¹æ¬¡åˆ›å»ºï¼ˆCreate Batchï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h5>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šåˆ›å»ºæ–°çš„ç”Ÿäº§æ‰¹æ¬¡ï¼Œè‡ªåŠ¨ç”Ÿæˆæ‰¹æ¬¡å·ï¼ˆæ ¼å¼ï¼šFISH_YYYY_NNNï¼‰ï¼Œå…³è”ç”Ÿäº§è®¡åˆ’ï¼Œè®°å½•è´Ÿè´£äººå’Œé¢„æœŸäº§é‡ã€‚
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼š<br>
                            <strong>è¯·æ±‚å‚æ•°</strong>ï¼ˆPOST /api/mobile/{factoryId}/processing/batchesï¼‰ï¼š<br>
                            â€¢ <code>productTypeId</code>: string - äº§å“ç±»å‹IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>productionPlanId</code>: string - ç”Ÿäº§è®¡åˆ’IDï¼ˆé€‰å¡«ï¼Œå…³è”è®¡åˆ’ï¼‰<br>
                            â€¢ <code>plannedQuantity</code>: number - è®¡åˆ’äº§é‡ï¼ˆå¿…å¡«ï¼Œå•ä½ï¼škgï¼‰<br>
                            â€¢ <code>responsibleUserId</code>: string - è´Ÿè´£äººç”¨æˆ·IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>expectedStartDate</code>: string - é¢„è®¡å¼€å§‹æ—¥æœŸï¼ˆå¿…å¡«ï¼ŒISO 8601æ ¼å¼ï¼‰<br>
                            â€¢ <code>expectedEndDate</code>: string - é¢„è®¡ç»“æŸæ—¥æœŸï¼ˆé€‰å¡«ï¼‰<br>
                            â€¢ <code>notes</code>: string - å¤‡æ³¨ï¼ˆé€‰å¡«ï¼Œæœ€å¤š500å­—ç¬¦ï¼‰<br><br>

                            <strong>å“åº”å‚æ•°</strong>ï¼š<br>
                            â€¢ <code>batchId</code>: string - æ–°åˆ›å»ºçš„æ‰¹æ¬¡ID<br>
                            â€¢ <code>batchNumber</code>: string - è‡ªåŠ¨ç”Ÿæˆçš„æ‰¹æ¬¡å·ï¼ˆå¦‚ï¼šFISH_2025_001ï¼‰<br>
                            â€¢ <code>status</code>: "pending" - åˆå§‹çŠ¶æ€<br>
                            â€¢ <code>createdAt</code>: string - åˆ›å»ºæ—¶é—´<br>
                            â€¢ <code>traceabilityCode</code>: string - æº¯æºç ï¼ˆç”¨äºäºŒç»´ç ç”Ÿæˆï¼‰
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/CreateBatchScreen.tsx</code> - æ‰¹æ¬¡åˆ›å»ºç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/ProductTypeSelector.tsx</code> - äº§å“ç±»å‹é€‰æ‹©å™¨</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProcessingController.java</code> - æ‰¹æ¬¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/ProcessingBatchService.java</code> - æ‰¹æ¬¡åˆ›å»ºæœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/BatchNumberGeneratorService.java</code> - æ‰¹æ¬¡å·ç”ŸæˆæœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/ProductionPlanRepository.java</code> - ç”Ÿäº§è®¡åˆ’ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/ProductionPlan.java</code> - ç”Ÿäº§è®¡åˆ’å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>POST /api/mobile/{factoryId}/processing/batches</code> - åˆ›å»ºæ‰¹æ¬¡</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/generate-batch-number</code> - ç”Ÿæˆæ‰¹æ¬¡å·</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>processing_batch</code> - æ–°æ‰¹æ¬¡è®°å½•</li>
                        <li><code>production_plan</code> - å…³è”ç”Ÿäº§è®¡åˆ’</li>
                    </ul>
                </div>

                <h5 id="section-9-3-1-3">9.3.1.3 æ‰¹æ¬¡è¯¦æƒ…ï¼ˆBatch Detailï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h5>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šæŸ¥çœ‹æ‰¹æ¬¡å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸºæœ¬ä¿¡æ¯ã€åŸææ–™æ¶ˆè€—ã€è´¨æ£€è®°å½•ã€æˆæœ¬åˆ†æã€æ“ä½œæ—¥å¿—ã€‚æ”¯æŒæ‰¹æ¬¡çŠ¶æ€æ›´æ–°ï¼ˆå¼€å§‹ç”Ÿäº§ã€å®Œæˆç”Ÿäº§ï¼‰ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/BatchDetailScreen.tsx</code> - æ‰¹æ¬¡è¯¦æƒ…ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/MaterialConsumptionList.tsx</code> - åŸææ–™æ¶ˆè€—åˆ—è¡¨</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/QualityRecordList.tsx</code> - è´¨æ£€è®°å½•åˆ—è¡¨</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProcessingController.java</code> - æ‰¹æ¬¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/ProcessingBatchService.java</code> - æ‰¹æ¬¡è¯¦æƒ…æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/MaterialBatch.java</code> - åŸææ–™æ‰¹æ¬¡å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/QualityInspection.java</code> - è´¨æ£€è®°å½•å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/processing/batches/{batchId}</code> - è·å–æ‰¹æ¬¡è¯¦æƒ…</li>
                        <li><code>PUT /api/mobile/{factoryId}/processing/batches/{batchId}/start</code> - å¼€å§‹ç”Ÿäº§</li>
                        <li><code>PUT /api/mobile/{factoryId}/processing/batches/{batchId}/complete</code> - å®Œæˆç”Ÿäº§</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong> <span style="color: #667eea; font-weight: 600;">âœ¨ æ›´æ–°äº 2025-11-05</span>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>processing_batches</code> - æ‰¹æ¬¡ä¸»è¡¨ âœ… ä¼˜åŒ–ç‰ˆ
                            <ul style="margin-top: 8px; color: #555;">
                                <li>ğŸ“Š <strong>æ ¸å¿ƒå­—æ®µ</strong>: batch_number, product_name, quantity, unit, start_time, end_time, status</li>
                                <li>ğŸ’° <strong>æˆæœ¬å­—æ®µ</strong>: material_cost, labor_cost, equipment_cost, other_cost, total_cost</li>
                                <li>ğŸ”— <strong>å…³è”å…³ç³»</strong>: Factory, User (supervisor), BatchWorkSession, BatchEquipmentUsage</li>
                                <li>ğŸ“ <strong>çŠ¶æ€ç®¡ç†</strong>: pending, processing, completed, cancelled</li>
                            </ul>
                        </li>
                        <li><code>production_batches</code> - ç”Ÿäº§æ‰¹æ¬¡è¡¨ âœ… ä¼ä¸šç‰ˆï¼ˆæ›´æ–°äº 2025-11-05 13:30ï¼‰
                            <ul style="margin-top: 8px; color: #555;">
                                <li>ğŸ“Š <strong>ç”Ÿäº§å­—æ®µ</strong>: batch_number, production_plan_id, product_type_id, planned_quantity, actual_quantity, good_quantity, defect_quantity</li>
                                <li>ğŸ­ <strong>ç”Ÿäº§çº¿å­—æ®µ</strong>: equipment_id, equipment_name, supervisor_id, supervisor_name, worker_count, work_duration_minutes</li>
                                <li>ğŸ’° <strong>æˆæœ¬å­—æ®µ</strong>: material_cost, labor_cost, equipment_cost, other_cost, total_cost, unit_cost</li>
                                <li>ğŸ“ˆ <strong>æŒ‡æ ‡å­—æ®µ</strong>: yield_rate (è‰¯å“ç‡), efficiency (æ•ˆç‡)</li>
                                <li>ğŸ¯ <strong>è´¨é‡çŠ¶æ€</strong>: PENDING_INSPECTION, PASSED, FAILED, PARTIAL_PASS</li>
                                <li>ğŸ”§ <strong>è‡ªåŠ¨è®¡ç®—</strong>: calculateMetrics() æ–¹æ³•è‡ªåŠ¨è®¡ç®—æ€»æˆæœ¬ã€å•ä½æˆæœ¬ã€è‰¯å“ç‡ã€æ•ˆç‡</li>
                                <li>ğŸ“ˆ <strong>æ•°æ®åº“ç´¢å¼•</strong>: factory_id, batch_number, status, production_plan_id</li>
                            </ul>
                        </li>
                        <li><code>batch_work_sessions</code> - æ‰¹æ¬¡å·¥ä½œä¼šè¯å…³è” âœ… ä¼˜åŒ–ç‰ˆï¼ˆæ›´æ–°äº 2025-11-05 13:40ï¼‰
                            <ul style="margin-top: 8px; color: #555;">
                                <li>ğŸ“Š <strong>æ ¸å¿ƒå­—æ®µ</strong>: batch_id (Long), work_session_id, employee_id, work_minutes, labor_cost</li>
                                <li>ğŸ”— <strong>å…³è”å…³ç³»</strong>: ProcessingBatch, EmployeeWorkSession, User</li>
                                <li>ğŸ“ˆ <strong>ç´¢å¼•</strong>: batch_id, work_session_id</li>
                            </ul>
                        </li>
                        <li><code>batch_equipment_usage</code> - æ‰¹æ¬¡è®¾å¤‡ä½¿ç”¨è®°å½• âœ… ä¼˜åŒ–ç‰ˆï¼ˆæ›´æ–°äº 2025-11-05 13:40ï¼‰
                            <ul style="margin-top: 8px; color: #555;">
                                <li>ğŸ“Š <strong>æ ¸å¿ƒå­—æ®µ</strong>: batch_id (Long), equipment_id, start_time, end_time, usage_hours, power_consumption, equipment_cost</li>
                                <li>ğŸ”— <strong>å…³è”å…³ç³»</strong>: ProcessingBatch, FactoryEquipment</li>
                                <li>ğŸ“ˆ <strong>ç´¢å¼•</strong>: batch_id, equipment_id</li>
                            </ul>
                        </li>
                        <li><code>material_batches</code> - åŸææ–™æ‰¹æ¬¡ï¼ˆæ¶ˆè€—è®°å½•ï¼‰</li>
                        <li><code>quality_inspection</code> - è´¨æ£€è®°å½•</li>
                    </ul>
                </div>

                <h4>9.3.2 åŸææ–™ç®¡ç†ï¼ˆMaterial Managementï¼‰</h4>

                <h5 id="section-9-3-2-1">9.3.2.1 åŸææ–™å…¥åº“ï¼ˆMaterial Receiptï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h5>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šè®°å½•åŸææ–™å…¥åº“ä¿¡æ¯ï¼Œæ‰«æä¾›åº”å•†äºŒç»´ç è·å–ä¾›åº”å•†ä¿¡æ¯ï¼Œè®°å½•åŸææ–™ç±»å‹ã€æ•°é‡ã€å•ä»·ã€ç…§ç‰‡ï¼Œè‡ªåŠ¨ç”ŸæˆåŸææ–™æ‰¹æ¬¡å·ã€‚
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼š<br>
                            <strong>è¯·æ±‚å‚æ•°</strong>ï¼ˆPOST /api/mobile/{factoryId}/processing/material-receiptï¼‰ï¼š<br>
                            â€¢ <code>supplierId</code>: string - ä¾›åº”å•†IDï¼ˆå¿…å¡«ï¼Œå¯æ‰«ç è·å–ï¼‰<br>
                            â€¢ <code>materialTypeId</code>: string - åŸææ–™ç±»å‹IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>quantity</code>: number - å…¥åº“æ•°é‡ï¼ˆå¿…å¡«ï¼Œå•ä½ï¼škgï¼‰<br>
                            â€¢ <code>unitPrice</code>: number - å•ä»·ï¼ˆå¿…å¡«ï¼Œå•ä½ï¼šå…ƒ/kgï¼‰<br>
                            â€¢ <code>receiptDate</code>: string - å…¥åº“æ—¥æœŸï¼ˆå¿…å¡«ï¼ŒISO 8601æ ¼å¼ï¼‰<br>
                            â€¢ <code>expiryDate</code>: string - ä¿è´¨æœŸï¼ˆé€‰å¡«ï¼‰<br>
                            â€¢ <code>qualityCertificate</code>: string - è´¨æ£€è¯ä¹¦URLï¼ˆé€‰å¡«ï¼‰<br>
                            â€¢ <code>photos</code>: string[] - åŸææ–™ç…§ç‰‡URLsï¼ˆé€‰å¡«ï¼Œæœ€å¤š5å¼ ï¼‰<br>
                            â€¢ <code>notes</code>: string - å¤‡æ³¨ï¼ˆé€‰å¡«ï¼‰<br><br>

                            <strong>å“åº”å‚æ•°</strong>ï¼š<br>
                            â€¢ <code>materialBatchId</code>: string - åŸææ–™æ‰¹æ¬¡ID<br>
                            â€¢ <code>batchNumber</code>: string - æ‰¹æ¬¡å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰<br>
                            â€¢ <code>totalCost</code>: number - æ€»æˆæœ¬ï¼ˆquantity Ã— unitPriceï¼‰<br>
                            â€¢ <code>remainingQuantity</code>: number - å‰©ä½™æ•°é‡ï¼ˆåˆå§‹ç­‰äºquantityï¼‰<br>
                            â€¢ <code>status</code>: "in_stock" - åˆå§‹çŠ¶æ€
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/MaterialReceiptScreen.tsx</code> - å…¥åº“ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/MaterialTypeSelector.tsx</code> - åŸææ–™ç±»å‹é€‰æ‹©å™¨</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/SupplierScanner.tsx</code> - ä¾›åº”å•†æ‰«ç ç»„ä»¶</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/materialApiClient.ts</code> - åŸææ–™APIå®¢æˆ·ç«¯</li>
                        <li><code>frontend/CretasFoodTrace/src/hooks/useCamera.ts</code> - ç›¸æœºHookï¼ˆæ‹ç…§ï¼‰</li>
                        <li><code>frontend/CretasFoodTrace/src/hooks/useQRScanner.ts</code> - äºŒç»´ç æ‰«æHook</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/MaterialBatchController.java</code> - åŸææ–™æ‰¹æ¬¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialBatchService.java</code> - åŸææ–™æ‰¹æ¬¡æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialReceiptService.java</code> - å…¥åº“æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/SupplierService.java</code> - ä¾›åº”å•†æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/MaterialBatchRepository.java</code> - åŸææ–™æ‰¹æ¬¡ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/SupplierRepository.java</code> - ä¾›åº”å•†ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/MaterialBatch.java</code> - åŸææ–™æ‰¹æ¬¡å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/Supplier.java</code> - ä¾›åº”å•†å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>POST /api/mobile/{factoryId}/processing/material-receipt</code> - åŸææ–™å…¥åº“</li>
                        <li><code>GET /api/mobile/{factoryId}/suppliers/{supplierId}</code> - è·å–ä¾›åº”å•†ä¿¡æ¯ï¼ˆæ‰«ç ï¼‰</li>
                        <li><code>POST /api/mobile/upload/mobile</code> - ä¸Šä¼ åŸææ–™ç…§ç‰‡</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>material_batch</code> - åŸææ–™æ‰¹æ¬¡è¡¨ï¼ˆå…¥åº“è®°å½•ï¼‰</li>
                        <li><code>supplier</code> - ä¾›åº”å•†è¡¨</li>
                        <li><code>raw_material_type</code> - åŸææ–™ç±»å‹è¡¨</li>
                    </ul>
                </div>

                <h5 id="section-9-3-2-2">9.3.2.2 åŸææ–™æ‰¹æ¬¡ç®¡ç†ï¼ˆMaterial Batch Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h5>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šæŸ¥çœ‹å’Œç®¡ç†åŸææ–™æ‰¹æ¬¡ï¼ŒåŒ…æ‹¬åº“å­˜æŸ¥è¯¢ã€æ¶ˆè€—è®°å½•ã€æ‰¹æ¬¡è¯¦æƒ…ã€åº“å­˜é¢„è­¦ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/MaterialBatchManagementScreen.tsx</code> - æ‰¹æ¬¡ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/materialApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/MaterialBatchController.java</code> - æ‰¹æ¬¡æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialBatchService.java</code> - æ‰¹æ¬¡æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/MaterialBatchRepository.java</code> - æ‰¹æ¬¡ä»“åº“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/processing/material-batches</code> - è·å–æ‰¹æ¬¡åˆ—è¡¨</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/material-batches/{id}</code> - è·å–æ‰¹æ¬¡è¯¦æƒ…</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/material-inventory</code> - åº“å­˜æŸ¥è¯¢</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong> <span style="color: #667eea; font-weight: 600;">âœ¨ æ›´æ–°äº 2025-11-05</span>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>material_batches</code> - åŸææ–™æ‰¹æ¬¡è¡¨ âœ… ä¼˜åŒ–ç‰ˆ
                            <ul style="margin-top: 8px; color: #555;">
                                <li>ğŸ“Š <strong>æ ¸å¿ƒå­—æ®µ</strong>: receipt_quantity, used_quantity, reserved_quantity, unit_price</li>
                                <li>ğŸ”¢ <strong>è®¡ç®—å±æ€§</strong> (@Transient): getCurrentQuantity(), getTotalPrice(), getTotalWeight()</li>
                                <li>ğŸ“ˆ <strong>æ•°æ®åº“ç´¢å¼•</strong>: factory_id, status, expire_date, material_type_id</li>
                                <li>ğŸ”— <strong>å…³è”å…³ç³»</strong>: Factory, RawMaterialType, Supplier, MaterialConsumption, MaterialBatchAdjustment, ProductionPlanBatchUsage</li>
                                <li>ğŸ“ <strong>çŠ¶æ€ç®¡ç†</strong>: AVAILABLE, IN_USE, EXPIRED, DEPLETED (MaterialBatchStatusæšä¸¾)</li>
                            </ul>
                        </li>
                        <li><code>raw_material_type</code> - åŸææ–™ç±»å‹è¡¨</li>
                        <li><code>material_consumption</code> - åŸææ–™æ¶ˆè€—è®°å½•ï¼ˆæ–°å¢å…³è”ï¼‰</li>
                        <li><code>material_batch_adjustment</code> - æ‰¹æ¬¡è°ƒæ•´è®°å½•ï¼ˆæ–°å¢å…³è”ï¼‰</li>
                        <li><code>production_plan_batch_usage</code> - ç”Ÿäº§è®¡åˆ’æ‰¹æ¬¡ä½¿ç”¨ï¼ˆæ–°å¢å…³è”ï¼‰</li>
                    </ul>
                </div>

                <h4 id="section-9-3-3">9.3.3 ç”Ÿäº§è®¡åˆ’ï¼ˆProduction Planningï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šåˆ›å»ºå’Œç®¡ç†ç”Ÿäº§è®¡åˆ’ï¼ŒåŒ…æ‹¬è®¡åˆ’åç§°ã€äº§å“ç±»å‹ã€è®¡åˆ’æ•°é‡ã€å¼€å§‹/ç»“æŸæ—¥æœŸã€è´Ÿè´£äººæŒ‡æ´¾ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/ProductionPlanManagementScreen.tsx</code> - ç”Ÿäº§è®¡åˆ’ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProductionPlanController.java</code> - ç”Ÿäº§è®¡åˆ’æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/ProductionPlanService.java</code> - ç”Ÿäº§è®¡åˆ’æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/ProductionPlanRepository.java</code> - ç”Ÿäº§è®¡åˆ’ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/ProductionPlan.java</code> - ç”Ÿäº§è®¡åˆ’å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/processing/production-plans</code> - è·å–è®¡åˆ’åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/processing/production-plans</code> - åˆ›å»ºè®¡åˆ’</li>
                        <li><code>PUT /api/mobile/{factoryId}/processing/production-plans/{id}</code> - æ›´æ–°è®¡åˆ’</li>
                        <li><code>DELETE /api/mobile/{factoryId}/processing/production-plans/{id}</code> - åˆ é™¤è®¡åˆ’</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>production_plan</code> - ç”Ÿäº§è®¡åˆ’è¡¨</li>
                        <li><code>product_type</code> - äº§å“ç±»å‹è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-3-4">9.3.4 è´¨æ£€ç®¡ç†ï¼ˆQuality Inspectionï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šè®°å½•å’Œç®¡ç†äº§å“è´¨æ£€ä¿¡æ¯ï¼ŒåŒ…æ‹¬è´¨æ£€é¡¹ç›®ã€æ£€æµ‹ç»“æœã€è´¨æ£€ç…§ç‰‡ã€ä¸åˆæ ¼åŸå› ã€‚æ”¯æŒæ‰¹æ¬¡è´¨æ£€å†å²æŸ¥è¯¢ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/QualityInspectionListScreen.tsx</code> - è´¨æ£€åˆ—è¡¨ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/QualityInspectionForm.tsx</code> - è´¨æ£€è¡¨å•ç»„ä»¶</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProcessingController.java</code> - è´¨æ£€æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/QualityInspectionService.java</code> - è´¨æ£€æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/QualityInspectionRepository.java</code> - è´¨æ£€ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/QualityInspection.java</code> - è´¨æ£€å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/processing/quality-inspections</code> - è·å–è´¨æ£€åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/processing/quality-inspections</code> - åˆ›å»ºè´¨æ£€è®°å½•</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/batches/{batchId}/quality-inspections</code> - æ‰¹æ¬¡è´¨æ£€å†å²</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>quality_inspection</code> - è´¨æ£€è®°å½•è¡¨</li>
                        <li><code>processing_batch</code> - å…³è”æ‰¹æ¬¡è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-3-5">9.3.5 æˆæœ¬åˆ†æï¼ˆCost Analysisï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç”Ÿäº§æˆæœ¬åˆ†æä¸ç»¼åˆä»ªè¡¨æ¿ã€‚åŒ…æ‹¬ç”Ÿäº§æ¦‚è§ˆï¼ˆæ‰¹æ¬¡ç»Ÿè®¡ã€åœ¨å²—äººæ•°ã€è´¨æ£€æ•°æ®ï¼‰ã€ç”Ÿäº§ç»Ÿè®¡ï¼ˆå¤šç»´åº¦ï¼štoday/week/monthï¼‰ã€è´¨é‡ä»ªè¡¨ç›˜ï¼ˆåˆæ ¼ç‡ã€è¶‹åŠ¿ï¼‰ã€è®¾å¤‡ä»ªè¡¨ç›˜ï¼ˆè®¾å¤‡çŠ¶æ€ï¼‰ã€æ‰¹æ¬¡æˆæœ¬åˆ†æã€æˆæœ¬é‡ç®—ç­‰åŠŸèƒ½ã€‚<span style="color: #667eea; font-weight: 600;"> âœ¨ æ–°å¢Dashboardç«¯ç‚¹äº 2025-11-04</span>
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/CostAnalysisDashboard/index.tsx</code> - æˆæœ¬åˆ†æä¸»ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/CostAnalysisDashboard/CostOverviewCard.tsx</code> - æˆæœ¬æ€»è§ˆå¡ç‰‡</li>
                        <li><code>frontend/CretasFoodTrace/src/screens/processing/CostAnalysisDashboard/CostTrendChart.tsx</code> - æˆæœ¬è¶‹åŠ¿å›¾</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProcessingController.java</code> - æˆæœ¬åˆ†ææ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/CostAnalysisService.java</code> - æˆæœ¬åˆ†ææœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialCostCalculator.java</code> - åŸææ–™æˆæœ¬è®¡ç®—</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/LaborCostCalculator.java</code> - äººå·¥æˆæœ¬è®¡ç®—</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AICostAnalysis.java</code> - AIæˆæœ¬åˆ†æå®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼ˆæ›´æ–°äº 2025-11-04ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><strong>Dashboardä»ªè¡¨æ¿æ¥å£</strong> âœ¨ æ–°å¢:</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/dashboard/overview</code> - ç”Ÿäº§æ¦‚è§ˆï¼ˆæ€»æ‰¹æ¬¡ã€è¿›è¡Œä¸­ã€å®Œæˆã€è´¨æ£€ã€å‘Šè­¦ã€åœ¨å²—äººæ•°ï¼‰</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/dashboard/production</code> - ç”Ÿäº§ç»Ÿè®¡ï¼ˆæ”¯æŒtoday/week/monthç»´åº¦ï¼‰</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/dashboard/quality</code> - è´¨é‡ä»ªè¡¨ç›˜ï¼ˆè´¨é‡ç»Ÿè®¡å’Œè¶‹åŠ¿ï¼‰</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/dashboard/equipment</code> - è®¾å¤‡ä»ªè¡¨ç›˜ï¼ˆè®¾å¤‡çŠ¶æ€ç»Ÿè®¡ï¼‰</li>
                        <li><strong>æ‰¹æ¬¡æˆæœ¬æ¥å£</strong>:</li>
                        <li><code>GET /api/mobile/{factoryId}/processing/batches/{batchId}/cost-analysis</code> - æ‰¹æ¬¡æˆæœ¬åˆ†æ</li>
                        <li><code>POST /api/mobile/{factoryId}/processing/batches/{batchId}/recalculate-cost</code> - é‡æ–°è®¡ç®—æˆæœ¬</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>processing_batch</code> - æ‰¹æ¬¡è¡¨ï¼ˆæˆæœ¬æ•°æ®ï¼‰</li>
                        <li><code>material_batch</code> - åŸææ–™æ‰¹æ¬¡ï¼ˆåŸæ–™æˆæœ¬ï¼‰</li>
                        <li><code>employee_work_session</code> - å·¥ä½œä¼šè¯ï¼ˆäººå·¥æˆæœ¬ï¼‰</li>
                        <li><code>ai_cost_analysis</code> - AIæˆæœ¬åˆ†æè¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-3-6">9.3.6 AIæ™ºèƒ½åˆ†æï¼ˆDeepSeek Integrationï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šé›†æˆDeepSeekå¤§æ¨¡å‹è¿›è¡Œæ™ºèƒ½æˆæœ¬åˆ†æã€ç”Ÿäº§å»ºè®®ã€å¼‚å¸¸æ£€æµ‹ã€‚åŒ…æ‹¬æ‰¹æ¬¡æˆæœ¬åˆ†æã€æ—¶é—´èŒƒå›´åˆ†æã€å¯¹æ¯”åˆ†æã€é…é¢ç®¡ç†ã€å¯¹è¯å†å²ã€æŠ¥å‘Šç”Ÿæˆç­‰ä¼ä¸šçº§AIåŠŸèƒ½ã€‚âœ¨ <strong style="color: #667eea;">v2.0.0 å‡çº§äº 2025-11-04</strong>
                    </p>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ é‡è¦å‚æ•°</strong>ï¼ˆv2.0.0ï¼‰ï¼š<br>
                            <strong>æ‰¹æ¬¡æˆæœ¬åˆ†æè¯·æ±‚</strong>ï¼ˆPOST /api/mobile/{factoryId}/ai/analysis/cost/batchï¼‰ï¼š<br>
                            â€¢ <code>batchId</code>: string - æ‰¹æ¬¡IDï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>question</code>: string - ç”¨æˆ·è¿½é—®ï¼ˆé€‰å¡«ï¼Œç”¨äºfollow-upå¯¹è¯ï¼‰<br>
                            â€¢ <code>sessionId</code>: string - ä¼šè¯IDï¼ˆé€‰å¡«ï¼Œç”¨äºç»§ç»­å¯¹è¯ï¼‰<br>
                            â€¢ <code>analysisType</code>: "default" | "followup" | "comprehensive" - åˆ†æç±»å‹<br>
                            &nbsp;&nbsp;â”œâ”€ <strong>default</strong>: é¦–æ¬¡åˆ†æï¼Œæ¶ˆè€—é…é¢<br>
                            &nbsp;&nbsp;â”œâ”€ <strong>followup</strong>: è¿½é—®å¯¹è¯ï¼Œå°‘é‡æ¶ˆè€—é…é¢<br>
                            &nbsp;&nbsp;â””â”€ <strong>comprehensive</strong>: å†å²ç»¼åˆæŠ¥å‘Šï¼Œè¾ƒå¤šæ¶ˆè€—é…é¢<br><br>

                            <strong>å“åº”å‚æ•°</strong>ï¼š<br>
                            â€¢ <code>reportId</code>: Long - æŠ¥å‘ŠID<br>
                            â€¢ <code>sessionId</code>: String - ä¼šè¯IDï¼ˆç”¨äºåç»­è¿½é—®ï¼‰<br>
                            â€¢ <code>analysis</code>: String - AIåˆ†æç»“æœï¼ˆä¸­æ–‡ï¼Œç»“æ„åŒ–Markdownï¼‰<br>
                            â€¢ <code>success</code>: Boolean - åˆ†ææ˜¯å¦æˆåŠŸ<br>
                            â€¢ <code>quotaInfo</code>: object - é…é¢ä¿¡æ¯<br>
                            &nbsp;&nbsp;â”œâ”€ <code>remaining</code>: BigDecimal - å‰©ä½™é…é¢ï¼ˆå…ƒï¼‰<br>
                            &nbsp;&nbsp;â”œâ”€ <code>used</code>: BigDecimal - å·²ä½¿ç”¨é…é¢ï¼ˆå…ƒï¼‰<br>
                            &nbsp;&nbsp;â””â”€ <code>limit</code>: BigDecimal - é…é¢ä¸Šé™ï¼ˆå…ƒï¼‰<br>
                            â€¢ <code>tokensUsed</code>: Integer - æœ¬æ¬¡æ¶ˆè€—tokenæ•°<br>
                            â€¢ <code>cost</code>: BigDecimal - æœ¬æ¬¡è°ƒç”¨æˆæœ¬ï¼ˆå…ƒï¼‰<br>
                            â€¢ <code>generatedAt</code>: LocalDateTime - ç”Ÿæˆæ—¶é—´<br>
                            â€¢ <code>fromCache</code>: Boolean - æ˜¯å¦æ¥è‡ªç¼“å­˜<br><br>

                            <strong>âš ï¸ é…é¢é™åˆ¶ä¸æˆæœ¬æ§åˆ¶</strong>ï¼š<br>
                            â€¢ ç›®æ ‡æˆæœ¬ï¼š<strong>&lt;Â¥30/æœˆ/å·¥å‚</strong>ï¼ˆå‘¨é…é¢åˆ¶åº¦ï¼‰<br>
                            â€¢ æ™ºèƒ½ç¼“å­˜ï¼šç›¸ä¼¼æŸ¥è¯¢5åˆ†é’Ÿå†…ç¼“å­˜å‘½ä¸­ç‡>60%<br>
                            â€¢ é…é¢ä¸è¶³ï¼šè‡ªåŠ¨é˜»æ­¢è°ƒç”¨ï¼Œæç¤ºç”¨æˆ·<br>
                            â€¢ å®¡è®¡è¿½è¸ªï¼šæ‰€æœ‰AIæ“ä½œå®Œæ•´è®°å½•åˆ°ai_audit_logè¡¨
                        </p>
                    </div>

                    <div class="highlight-box" style="background: #f0fff4; border-left: 4px solid #22c55e; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ æ—¶é—´èŒƒå›´åˆ†æå‚æ•°</strong>ï¼ˆv2.0.0 æ–°å¢ï¼‰ï¼š<br>
                            <strong>è¯·æ±‚</strong>ï¼ˆPOST /api/mobile/{factoryId}/ai/analysis/cost/time-rangeï¼‰ï¼š<br>
                            â€¢ <code>startDate</code>: LocalDate - å¼€å§‹æ—¥æœŸï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>endDate</code>: LocalDate - ç»“æŸæ—¥æœŸï¼ˆå¿…å¡«ï¼‰<br>
                            â€¢ <code>dimension</code>: String - åˆ†æç»´åº¦ï¼ˆé€‰å¡«ï¼š"daily"/"weekly"/"monthly"ï¼‰<br>
                            â€¢ <code>question</code>: String - è‡ªå®šä¹‰é—®é¢˜ï¼ˆé€‰å¡«ï¼Œç”¨äºé’ˆå¯¹æ€§åˆ†æï¼‰<br><br>

                            <strong>ç‰¹æ€§</strong>ï¼š<br>
                            â€¢ æ¶ˆè€—é…é¢ï¼š<strong>2æ¬¡</strong>ï¼ˆåˆ†æå¤šæ‰¹æ¬¡èšåˆæ•°æ®ï¼‰<br>
                            â€¢ ç¼“å­˜ç­–ç•¥ï¼š<strong>7å¤©</strong>ï¼ˆåŸºäºæ—¶é—´èŒƒå›´+ç»´åº¦ï¼‰<br>
                            â€¢ æ•°æ®æ¥æºï¼šæ—¶é—´æ®µå†…æ‰€æœ‰æ‰¹æ¬¡æˆæœ¬æ•°æ®<br>
                            â€¢ AIè¾“å‡ºï¼šç»“æ„åŒ–Markdownï¼ŒåŒ…å«è¶‹åŠ¿åˆ†æã€å¼‚å¸¸æ£€æµ‹ã€ä¼˜åŒ–å»ºè®®
                        </p>
                    </div>

                    <div class="highlight-box" style="background: #fef3c7; border-left: 4px solid #f59e0b; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ æ‰¹æ¬¡å¯¹æ¯”åˆ†æå‚æ•°</strong>ï¼ˆv2.0.0 æ–°å¢ï¼‰ï¼š<br>
                            <strong>è¯·æ±‚</strong>ï¼ˆPOST /api/mobile/{factoryId}/ai/analysis/cost/compareï¼‰ï¼š<br>
                            â€¢ <code>batchIds</code>: List&lt;Long&gt; - æ‰¹æ¬¡IDåˆ—è¡¨ï¼ˆå¿…å¡«ï¼Œ2-5ä¸ªæ‰¹æ¬¡ï¼‰<br>
                            â€¢ <code>question</code>: String - å¯¹æ¯”é‡ç‚¹ï¼ˆé€‰å¡«ï¼Œå¦‚"å“ªä¸ªæ‰¹æ¬¡æˆæœ¬æœ€ä½"ï¼‰<br><br>

                            <strong>ç‰¹æ€§</strong>ï¼š<br>
                            â€¢ æ¶ˆè€—é…é¢ï¼š<strong>3æ¬¡</strong>ï¼ˆå¯¹æ¯”åˆ†æå¤æ‚åº¦é«˜ï¼‰<br>
                            â€¢ ç¼“å­˜ç­–ç•¥ï¼š<strong>7å¤©</strong>ï¼ˆåŸºäºæ‰¹æ¬¡IDç»„åˆï¼‰<br>
                            â€¢ æ•°æ®æ ¼å¼ï¼šè¡¨æ ¼å¯¹æ¯”ï¼ˆæˆæœ¬ã€æ•ˆç‡ã€è´¨é‡ç­‰å¤šç»´åº¦ï¼‰<br>
                            â€¢ å‚æ•°éªŒè¯ï¼šæœ€å°‘2ä¸ªæ‰¹æ¬¡ï¼Œæœ€å¤š5ä¸ªæ‰¹æ¬¡<br>
                            â€¢ AIè¾“å‡ºï¼šå¯¹æ¯”è¡¨æ ¼ + å·®å¼‚åˆ†æ + æœ€ä¼˜æ‰¹æ¬¡æ¨è
                        </p>
                    </div>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/main/HomeScreen.tsx</code> - é¦–é¡µAIåˆ†æå…¥å£</li>
                        <li><code>frontend/CretasFoodTrace/src/components/dashboard/AIAnalysisCard.tsx</code> - AIåˆ†æå¡ç‰‡</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/processingApiClient.ts</code> - APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/AIController.java</code> - AIç»Ÿä¸€æ¥å£æ§åˆ¶å™¨ï¼ˆv2.0.0ï¼Œæœ€æ–°æ›´æ–°äº2025-11-05ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AIEnterpriseService.java</code> - ä¼ä¸šçº§AIæœåŠ¡ï¼ˆé…é¢ç®¡ç†ã€ç¼“å­˜ã€å®¡è®¡ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AIAnalysisService.java</code> - åŸºç¡€AIåˆ†ææœåŠ¡ï¼ˆDeepSeekè°ƒç”¨ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/FactoryAIService.java</code> - å·¥å‚çº§AIæœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AIReportScheduler.java</code> - AIæŠ¥å‘Šå®šæ—¶ç”Ÿæˆå™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIAuditLog.java</code> - AIå®¡è®¡æ—¥å¿—å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIQuotaUsage.java</code> - AIé…é¢ä½¿ç”¨å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIUsageLog.java</code> - AIä½¿ç”¨æ—¥å¿—å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIAnalysisResult.java</code> - AIåˆ†æç»“æœå®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIQuotaUsageRepository.java</code> - AIé…é¢ä½¿ç”¨ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIAuditLogRepository.java</code> - AIå®¡è®¡æ—¥å¿—ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIUsageLogRepository.java</code> - AIä½¿ç”¨æ—¥å¿—ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIAnalysisResultRepository.java</code> - AIåˆ†æç»“æœä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/AIRequestDTO.java</code> - AIè¯·æ±‚DTO</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/AIResponseDTO.java</code> - AIå“åº”DTO</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼ˆv2.0.0 ç»Ÿä¸€è·¯å¾„ç»“æ„ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><strong>æˆæœ¬åˆ†ææ¥å£</strong>ï¼š</li>
                        <li><code>POST /api/mobile/{factoryId}/ai/analysis/cost/batch</code> - AIæ‰¹æ¬¡æˆæœ¬åˆ†æï¼ˆæ”¯æŒé»˜è®¤åˆ†æã€follow-upå¯¹è¯ã€å†å²ç»¼åˆæŠ¥å‘Šï¼‰</li>
                        <li><code>POST /api/mobile/{factoryId}/ai/analysis/cost/time-range</code> - AIæ—¶é—´èŒƒå›´æˆæœ¬åˆ†æï¼ˆæ”¯æŒæ—¥/å‘¨/æœˆç»´åº¦ï¼Œç¼“å­˜7å¤©ï¼Œæ¶ˆè€—2æ¬¡é…é¢ï¼‰âœ… å·²å®ç°</li>
                        <li><code>POST /api/mobile/{factoryId}/ai/analysis/cost/compare</code> - AIæ‰¹æ¬¡å¯¹æ¯”åˆ†æï¼ˆ2-5ä¸ªæ‰¹æ¬¡ï¼Œè¡¨æ ¼å¯¹æ¯”ï¼Œæ¶ˆè€—3æ¬¡é…é¢ï¼‰âœ… å·²å®ç°</li>
                        <li><strong>é…é¢ç®¡ç†æ¥å£</strong>ï¼š</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/quota</code> - æŸ¥è¯¢AIé…é¢ä¿¡æ¯</li>
                        <li><code>PUT /api/mobile/{factoryId}/ai/quota</code> - æ›´æ–°AIé…é¢ï¼ˆå¹³å°ç®¡ç†å‘˜ï¼‰</li>
                        <li><strong>å¯¹è¯ç®¡ç†æ¥å£</strong>ï¼š</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/conversations/{sessionId}</code> - è·å–AIå¯¹è¯å†å²</li>
                        <li><code>DELETE /api/mobile/{factoryId}/ai/conversations/{sessionId}</code> - å…³é—­AIå¯¹è¯ä¼šè¯</li>
                        <li><strong>æŠ¥å‘Šç®¡ç†æ¥å£</strong>ï¼š</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/reports</code> - è·å–AIæŠ¥å‘Šåˆ—è¡¨ï¼ˆæ”¯æŒç±»å‹å’Œæ—¶é—´ç­›é€‰ï¼‰</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/reports/{reportId}</code> - è·å–AIæŠ¥å‘Šè¯¦æƒ…</li>
                        <li><code>POST /api/mobile/{factoryId}/ai/reports/generate</code> - ç”ŸæˆAIæŠ¥å‘Šï¼ˆæ‰‹åŠ¨è§¦å‘ï¼‰</li>
                        <li><strong>å¥åº·æ£€æŸ¥æ¥å£</strong>ï¼š</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/health</code> - AIæœåŠ¡å¥åº·æ£€æŸ¥</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼ˆv2.0.0 ä¼ä¸šçº§æ¶æ„ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>ai_analysis_result</code> - AIåˆ†æç»“æœè¡¨ï¼ˆå­˜å‚¨åˆ†æå†…å®¹ã€sessionIdã€reportIdï¼‰</li>
                        <li><code>ai_quota_usage</code> - AIé…é¢ä½¿ç”¨è¡¨ï¼ˆå·¥å‚çº§é…é¢ç®¡ç†ã€å‰©ä½™é¢åº¦è¿½è¸ªï¼‰</li>
                        <li><code>ai_usage_log</code> - AIä½¿ç”¨æ—¥å¿—è¡¨ï¼ˆè®°å½•æ¯æ¬¡APIè°ƒç”¨ã€tokenæ¶ˆè€—ã€æˆæœ¬ï¼‰</li>
                        <li><code>ai_audit_log</code> - AIå®¡è®¡æ—¥å¿—è¡¨ï¼ˆå®Œæ•´å®¡è®¡è·Ÿè¸ªã€ç”¨æˆ·æ“ä½œè®°å½•ï¼‰</li>
                        <li><code>factory_settings</code> - å·¥å‚è®¾ç½®è¡¨ï¼ˆAIé…é¢é…ç½®ã€å¯ç”¨çŠ¶æ€ï¼‰</li>
                    </ul>

                    <p><strong>å¤–éƒ¨æœåŠ¡ä¸é›†æˆ</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><strong>DeepSeek API</strong> - ç›´æ¥ä»Spring Bootåç«¯è°ƒç”¨ï¼Œæ— éœ€ç‹¬ç«‹PythonæœåŠ¡</li>
                        <li><strong>Redisç¼“å­˜</strong> - AIåˆ†æç»“æœæ™ºèƒ½ç¼“å­˜ï¼ˆ5åˆ†é’Ÿï¼Œç›¸ä¼¼æŸ¥è¯¢ç¼“å­˜å‘½ä¸­ç‡>60%ï¼‰</li>
                        <li><strong>å®šæ—¶ä»»åŠ¡</strong> - å‘¨æŠ¥/æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆï¼ˆAIReportSchedulerï¼‰</li>
                        <li><strong>å®¡è®¡æ—¥å¿—</strong> - æ‰€æœ‰AIæ“ä½œå®Œæ•´å®¡è®¡è·Ÿè¸ªï¼ˆç¬¦åˆä¼ä¸šåˆè§„è¦æ±‚ï¼‰</li>
                    </ul>

                    <p><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼ˆv2.0.0 ä¼ä¸šçº§å‡çº§ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li>âœ… <strong>é…é¢ç®¡ç†</strong>ï¼šå·¥å‚çº§AIé…é¢åˆ†é…ã€ä½¿ç”¨è¿½è¸ªã€è¶…é¢å‘Šè­¦</li>
                        <li>âœ… <strong>æ™ºèƒ½ç¼“å­˜</strong>ï¼šç›¸ä¼¼æŸ¥è¯¢ç¼“å­˜ï¼Œæ˜¾è‘—é™ä½APIè°ƒç”¨æˆæœ¬ï¼ˆç›®æ ‡ï¼šæœˆæˆæœ¬<Â¥30ï¼‰</li>
                        <li>âœ… <strong>å¯¹è¯å†å²</strong>ï¼šæ”¯æŒfollow-upè¿½é—®ï¼Œæ— éœ€é‡å¤å‘é€æ‰¹æ¬¡æ•°æ®</li>
                        <li>âœ… <strong>æŠ¥å‘Šç³»ç»Ÿ</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆå‘¨æŠ¥/æœˆæŠ¥ï¼Œæ‰‹åŠ¨è§¦å‘ç»¼åˆåˆ†ææŠ¥å‘Š</li>
                        <li>âœ… <strong>å®¡è®¡è¿½è¸ª</strong>ï¼šå®Œæ•´çš„AIä½¿ç”¨å®¡è®¡æ—¥å¿—ï¼Œè®°å½•ç”¨æˆ·ã€æ—¶é—´ã€æˆæœ¬ã€tokenæ¶ˆè€—</li>
                        <li>âœ… <strong>å¥åº·ç›‘æ§</strong>ï¼šå®æ—¶ç›‘æ§DeepSeek APIå¯ç”¨æ€§å’Œå“åº”æ—¶é—´</li>
                    </ul>

                    <p><strong>é…é¢æ¶ˆè€—è§„åˆ™</strong>ï¼ˆv2.0.0ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li>ğŸ”¹ <strong>æ‰¹æ¬¡æˆæœ¬åˆ†æ</strong>ï¼šæ¶ˆè€— <code>1æ¬¡é…é¢</code> (follow-upè¿½é—®æ¶ˆè€—æ›´å°‘)</li>
                        <li>ğŸ”¹ <strong>æ—¶é—´èŒƒå›´åˆ†æ</strong>ï¼šæ¶ˆè€— <code>2æ¬¡é…é¢</code> (åˆ†æå¤šä¸ªæ‰¹æ¬¡çš„èšåˆæ•°æ®)</li>
                        <li>ğŸ”¹ <strong>æ‰¹æ¬¡å¯¹æ¯”åˆ†æ</strong>ï¼šæ¶ˆè€— <code>3æ¬¡é…é¢</code> (å¯¹æ¯”2-5ä¸ªæ‰¹æ¬¡ï¼Œå¤æ‚åº¦è¾ƒé«˜)</li>
                        <li>ğŸ”¹ <strong>ç¼“å­˜å‘½ä¸­</strong>ï¼š<code>0æ¬¡é…é¢</code> (7å¤©ç¼“å­˜æœ‰æ•ˆæœŸï¼ŒåŒæ ·æŸ¥è¯¢å…è´¹)</li>
                        <li>ğŸ”¹ <strong>å‘¨æŠ¥/æœˆæŠ¥</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆï¼Œä¸æ¶ˆè€—é…é¢ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</li>
                    </ul>

                    <p><strong>å®ç°çŠ¶æ€</strong>ï¼ˆæ›´æ–°äº 2025-11-05ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li>âœ… <strong>æ‰¹æ¬¡æˆæœ¬åˆ†æ</strong>ï¼šå®Œæ•´å®ç°ï¼ˆå«ç¼“å­˜ã€é…é¢ç®¡ç†ã€follow-upå¯¹è¯ï¼‰</li>
                        <li>âœ… <strong>æ—¶é—´èŒƒå›´æˆæœ¬åˆ†æ</strong>ï¼šå®Œæ•´å®ç°ï¼ˆæ”¯æŒè‡ªå®šä¹‰æ—¶é—´æ®µã€ç»´åº¦åˆ†æã€æ™ºèƒ½ç¼“å­˜ï¼‰</li>
                        <li>âœ… <strong>æ‰¹æ¬¡å¯¹æ¯”åˆ†æ</strong>ï¼šå®Œæ•´å®ç°ï¼ˆ2-5æ‰¹æ¬¡å¯¹æ¯”ã€è¡¨æ ¼æ ¼å¼ã€ç¼“å­˜ä¼˜åŒ–ï¼‰</li>
                        <li>âœ… <strong>é…é¢ç®¡ç†</strong>ï¼šå®Œæ•´å®ç°ï¼ˆå·¥å‚çº§é…é¢ã€ä½¿ç”¨è¿½è¸ªã€å¹³å°ç®¡ç†ï¼‰</li>
                        <li>âœ… <strong>å¯¹è¯å†å²</strong>ï¼šå®Œæ•´å®ç°ï¼ˆä¼šè¯ç®¡ç†ã€å†å²æŸ¥è¯¢ã€ä¼šè¯å…³é—­ï¼‰</li>
                        <li>âœ… <strong>æŠ¥å‘Šç®¡ç†</strong>ï¼šå®Œæ•´å®ç°ï¼ˆåˆ—è¡¨æŸ¥è¯¢ã€è¯¦æƒ…æŸ¥çœ‹ã€æ‰‹åŠ¨ç”Ÿæˆï¼‰</li>
                        <li>âœ… <strong>å¥åº·æ£€æŸ¥</strong>ï¼šå®Œæ•´å®ç°ï¼ˆDeepSeek APIå¯ç”¨æ€§ç›‘æ§ï¼‰</li>
                        <li>â³ <strong>å‘¨æŠ¥/æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šå®šæ—¶ä»»åŠ¡å·²é…ç½®ï¼ˆAIReportSchedulerï¼‰</li>
                    </ul>
                </div>

                <h3>9.4 åŸºç¡€æ•°æ®ç®¡ç†æ¨¡å—ï¼ˆMaster Data Managementï¼‰</h3>

                <h4 id="section-9-4-1">9.4.1 äº§å“ç±»å‹ç®¡ç†ï¼ˆProduct Type Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†äº§å“ç±»å‹åŸºç¡€æ•°æ®ï¼ŒåŒ…æ‹¬äº§å“åç§°ã€ç¼–ç ã€æè¿°ã€å¯ç”¨çŠ¶æ€ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/ManagementScreen.tsx</code> - ç®¡ç†ä¸»ç•Œé¢ï¼ˆåŒ…å«äº§å“ç±»å‹ï¼‰</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/systemApiClient.ts</code> - ç³»ç»ŸAPIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/ProductTypeController.java</code> - äº§å“ç±»å‹æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/ProductTypeService.java</code> - äº§å“ç±»å‹æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/ProductTypeRepository.java</code> - äº§å“ç±»å‹ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/ProductType.java</code> - äº§å“ç±»å‹å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/product-types</code> - è·å–äº§å“ç±»å‹åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/product-types</code> - åˆ›å»ºäº§å“ç±»å‹</li>
                        <li><code>PUT /api/mobile/{factoryId}/product-types/{id}</code> - æ›´æ–°äº§å“ç±»å‹</li>
                        <li><code>DELETE /api/mobile/{factoryId}/product-types/{id}</code> - åˆ é™¤äº§å“ç±»å‹</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>product_type</code> - äº§å“ç±»å‹è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-2">9.4.2 åŸææ–™ç±»å‹ç®¡ç†ï¼ˆMaterial Type Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†åŸææ–™ç±»å‹åŸºç¡€æ•°æ®ï¼ŒåŒ…æ‹¬åŸææ–™åç§°ã€å•ä½ã€è§„æ ¼ã€å®‰å…¨åº“å­˜é˜ˆå€¼ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/MaterialTypeManagementScreen.tsx</code> - åŸææ–™ç±»å‹ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/materialTypeApiClient.ts</code> - åŸææ–™ç±»å‹APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/RawMaterialTypeController.java</code> - åŸææ–™ç±»å‹æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialTypeService.java</code> - åŸææ–™ç±»å‹æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/RawMaterialTypeRepository.java</code> - åŸææ–™ç±»å‹ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/RawMaterialType.java</code> - åŸææ–™ç±»å‹å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/material-types</code> - è·å–åŸææ–™ç±»å‹åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/material-types</code> - åˆ›å»ºåŸææ–™ç±»å‹</li>
                        <li><code>PUT /api/mobile/{factoryId}/material-types/{id}</code> - æ›´æ–°åŸææ–™ç±»å‹</li>
                        <li><code>DELETE /api/mobile/{factoryId}/material-types/{id}</code> - åˆ é™¤åŸææ–™ç±»å‹</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>raw_material_type</code> - åŸææ–™ç±»å‹è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-3">9.4.3 å·¥ç§ç®¡ç†ï¼ˆWork Type Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†å·¥ç§åŸºç¡€æ•°æ®ï¼ŒåŒ…æ‹¬å·¥ç§åç§°ã€æè¿°ã€å°æ—¶å·¥èµ„ã€è®¡ä»¶å·¥èµ„ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/WorkTypeManagementScreen.tsx</code> - å·¥ç§ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/workTypeApiClient.ts</code> - å·¥ç§APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/WorkTypeController.java</code> - å·¥ç§æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/WorkTypeService.java</code> - å·¥ç§æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/WorkTypeRepository.java</code> - å·¥ç§ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/WorkType.java</code> - å·¥ç§å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/work-types</code> - è·å–å·¥ç§åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/work-types</code> - åˆ›å»ºå·¥ç§</li>
                        <li><code>PUT /api/mobile/{factoryId}/work-types/{id}</code> - æ›´æ–°å·¥ç§</li>
                        <li><code>DELETE /api/mobile/{factoryId}/work-types/{id}</code> - åˆ é™¤å·¥ç§</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>work_type</code> - å·¥ç§è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-4">9.4.4 ä¾›åº”å•†ç®¡ç†ï¼ˆSupplier Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†ä¾›åº”å•†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¾›åº”å•†åç§°ã€è”ç³»äººã€ç”µè¯ã€åœ°å€ã€äºŒç»´ç ç”Ÿæˆã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/SupplierManagementScreen.tsx</code> - ä¾›åº”å•†ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/systemApiClient.ts</code> - ç³»ç»ŸAPIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/SupplierController.java</code> - ä¾›åº”å•†æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/SupplierService.java</code> - ä¾›åº”å•†æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/SupplierRepository.java</code> - ä¾›åº”å•†ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/Supplier.java</code> - ä¾›åº”å•†å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/suppliers</code> - è·å–ä¾›åº”å•†åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/suppliers</code> - åˆ›å»ºä¾›åº”å•†</li>
                        <li><code>PUT /api/mobile/{factoryId}/suppliers/{id}</code> - æ›´æ–°ä¾›åº”å•†</li>
                        <li><code>DELETE /api/mobile/{factoryId}/suppliers/{id}</code> - åˆ é™¤ä¾›åº”å•†</li>
                        <li><code>GET /api/mobile/{factoryId}/suppliers/{id}/qrcode</code> - ç”Ÿæˆä¾›åº”å•†äºŒç»´ç </li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>supplier</code> - ä¾›åº”å•†è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-5">9.4.5 å®¢æˆ·ç®¡ç†ï¼ˆCustomer Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†å®¢æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®¢æˆ·åç§°ã€è”ç³»äººã€ç”µè¯ã€åœ°å€ã€å®¢æˆ·ç±»å‹ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/CustomerManagementScreen.tsx</code> - å®¢æˆ·ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/systemApiClient.ts</code> - ç³»ç»ŸAPIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/CustomerController.java</code> - å®¢æˆ·æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/CustomerService.java</code> - å®¢æˆ·æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/CustomerRepository.java</code> - å®¢æˆ·ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/Customer.java</code> - å®¢æˆ·å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/customers</code> - è·å–å®¢æˆ·åˆ—è¡¨</li>
                        <li><code>POST /api/mobile/{factoryId}/customers</code> - åˆ›å»ºå®¢æˆ·</li>
                        <li><code>PUT /api/mobile/{factoryId}/customers/{id}</code> - æ›´æ–°å®¢æˆ·</li>
                        <li><code>DELETE /api/mobile/{factoryId}/customers/{id}</code> - åˆ é™¤å®¢æˆ·</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>customer</code> - å®¢æˆ·è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-6">9.4.6 ç”¨æˆ·ç®¡ç†ï¼ˆUser Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šç®¡ç†å·¥å‚ç”¨æˆ·ï¼ŒåŒ…æ‹¬ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘ã€è§’è‰²åˆ†é…ï¼ˆ8çº§RBACï¼‰ã€éƒ¨é—¨ç®¡ç†ã€è´¦å·å¯ç”¨/ç¦ç”¨ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/UserManagementScreen.tsx</code> - ç”¨æˆ·ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/userApiClient.ts</code> - ç”¨æˆ·APIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/UserController.java</code> - ç”¨æˆ·æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/UserService.java</code> - ç”¨æˆ·æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/UserRoleService.java</code> - è§’è‰²ç®¡ç†æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/UserRepository.java</code> - ç”¨æˆ·ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/User.java</code> - ç”¨æˆ·å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/UserRoleHistory.java</code> - è§’è‰²å˜æ›´å†å²å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/users</code> - è·å–ç”¨æˆ·åˆ—è¡¨</li>
                        <li><code>GET /api/mobile/{factoryId}/users/{id}</code> - è·å–ç”¨æˆ·è¯¦æƒ…</li>
                        <li><code>PUT /api/mobile/{factoryId}/users/{id}</code> - æ›´æ–°ç”¨æˆ·ä¿¡æ¯</li>
                        <li><code>PUT /api/mobile/{factoryId}/users/{id}/role</code> - ä¿®æ”¹ç”¨æˆ·è§’è‰²</li>
                        <li><code>PUT /api/mobile/{factoryId}/users/{id}/status</code> - å¯ç”¨/ç¦ç”¨ç”¨æˆ·</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>user</code> - ç”¨æˆ·è¡¨</li>
                        <li><code>user_role_history</code> - è§’è‰²å˜æ›´å†å²è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-4-7">9.4.7 åŸææ–™è§„æ ¼é…ç½®ç®¡ç†ï¼ˆMaterial Spec Configurationï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šåŠ¨æ€é…ç½®ä¸åŒå·¥å‚çš„åŸææ–™è§„æ ¼é€‰é¡¹ï¼Œæ”¯æŒå¤šç»´åº¦è§„æ ¼ï¼ˆç­‰çº§ã€é‡é‡ã€æ¥æºåœ°ã€åŠ å·¥æ–¹å¼ç­‰ï¼‰ã€å·¥å‚çº§åˆ«ä¸ªæ€§åŒ–é…ç½®ã€é»˜è®¤è§„æ ¼é‡ç½®åŠŸèƒ½ã€‚âœ¨ <strong style="color: #667eea;">æ–°å¢äº 2025-11-04</strong>
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/management/MaterialSpecManagementScreen.tsx</code> - è§„æ ¼é…ç½®ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/materialSpecApiClient.ts</code> - è§„æ ¼é…ç½®APIå®¢æˆ·ç«¯</li>
                        <li><code>frontend/CretasFoodTrace/src/components/processing/MaterialTypeSelector.tsx</code> - è§„æ ¼é€‰æ‹©ç»„ä»¶</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/MaterialSpecConfigController.java</code> - è§„æ ¼é…ç½®æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/MaterialSpecConfigService.java</code> - è§„æ ¼é…ç½®æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/MaterialSpecConfigRepository.java</code> - è§„æ ¼é…ç½®ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/MaterialSpecConfig.java</code> - è§„æ ¼é…ç½®å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/mobile/{factoryId}/material-spec-config</code> - è·å–å·¥å‚è§„æ ¼é…ç½®ï¼ˆå«æ‰€æœ‰ç±»åˆ«ï¼‰</li>
                        <li><code>GET /api/mobile/{factoryId}/material-spec-config/{category}</code> - è·å–ç‰¹å®šç±»åˆ«è§„æ ¼é…ç½®</li>
                        <li><code>PUT /api/mobile/{factoryId}/material-spec-config/{category}</code> - æ›´æ–°ç‰¹å®šç±»åˆ«è§„æ ¼é…ç½®</li>
                        <li><code>DELETE /api/mobile/{factoryId}/material-spec-config/{category}</code> - é‡ç½®ä¸ºé»˜è®¤è§„æ ¼</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>material_spec_config</code> - åŸææ–™è§„æ ¼é…ç½®è¡¨ï¼ˆå­—æ®µï¼šid, factory_id, category, spec_options, is_default, created_at, updated_atï¼‰</li>
                    </ul>

                    <div class="highlight-box" style="background: #f0f7ff; border-left: 4px solid #3b82f6; margin: 15px 0;">
                        <p style="margin: 0; padding: 15px; line-height: 2;">
                            <strong>ğŸ”‘ è§„æ ¼ç±»åˆ«ï¼ˆCategoryï¼‰</strong>ï¼š<br>
                            â€¢ <code>grade</code> - ç­‰çº§ï¼ˆå¦‚ï¼šç‰¹çº§ã€ä¸€çº§ã€äºŒçº§ï¼‰<br>
                            â€¢ <code>weight_range</code> - é‡é‡èŒƒå›´ï¼ˆå¦‚ï¼š3ä¸¤ä»¥ä¸‹ã€3-4ä¸¤ã€4ä¸¤ä»¥ä¸Šï¼‰<br>
                            â€¢ <code>origin</code> - æ¥æºåœ°ï¼ˆå¦‚ï¼šæœ¬åœ°ã€è¿›å£ã€æœ‰æœºï¼‰<br>
                            â€¢ <code>processing_method</code> - åŠ å·¥æ–¹å¼ï¼ˆå¦‚ï¼šé²œæ´»ã€å†·å†»ã€åŠ å·¥ï¼‰<br>
                            â€¢ <code>packaging</code> - åŒ…è£…æ–¹å¼ï¼ˆå¦‚ï¼šæ•£è£…ã€è¢‹è£…ã€ç›’è£…ï¼‰<br><br>

                            <strong>ğŸ’¡ ä½¿ç”¨åœºæ™¯</strong>ï¼š<br>
                            1. ä¸åŒå·¥å‚å¯æ ¹æ®å®é™…æƒ…å†µè‡ªå®šä¹‰è§„æ ¼é€‰é¡¹<br>
                            2. åŸææ–™å…¥åº“æ—¶å¯é€‰æ‹©é€‚åˆçš„è§„æ ¼<br>
                            3. æ”¯æŒåç»­æŒ‰è§„æ ¼åˆ†ç±»ç»Ÿè®¡å’Œåˆ†æ<br>
                            4. å¯éšæ—¶é‡ç½®ä¸ºç³»ç»Ÿé»˜è®¤è§„æ ¼é…ç½®
                        </p>
                    </div>
                </div>

                <h3>9.5 å¹³å°ç®¡ç†æ¨¡å—ï¼ˆPlatform Managementï¼‰</h3>

                <h4 id="section-9-5-1">9.5.1 å·¥å‚ç®¡ç†ï¼ˆFactory Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šå¹³å°ç®¡ç†å‘˜ç®¡ç†å·¥å‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬å·¥å‚åˆ›å»ºã€ç¼–è¾‘ã€å·¥å‚IDç”Ÿæˆï¼ˆåŸºäºè¡Œä¸š+åœ°åŒºç¼–ç ï¼‰ã€å·¥å‚çŠ¶æ€ç®¡ç†ã€‚
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/platform/FactoryManagementScreen.tsx</code> - å·¥å‚ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/systemApiClient.ts</code> - ç³»ç»ŸAPIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/platform/PlatformFactoryController.java</code> - å·¥å‚ç®¡ç†æ§åˆ¶å™¨</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/FactoryService.java</code> - å·¥å‚æœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/FactoryIdGeneratorService.java</code> - å·¥å‚IDç”ŸæˆæœåŠ¡</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/FactoryRepository.java</code> - å·¥å‚ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/Factory.java</code> - å·¥å‚å®ä½“</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>GET /api/platform/factories</code> - è·å–å·¥å‚åˆ—è¡¨ï¼ˆå¹³å°ç®¡ç†å‘˜ï¼‰</li>
                        <li><code>POST /api/platform/factories</code> - åˆ›å»ºå·¥å‚</li>
                        <li><code>PUT /api/platform/factories/{factoryId}</code> - æ›´æ–°å·¥å‚ä¿¡æ¯</li>
                        <li><code>PUT /api/platform/factories/{factoryId}/status</code> - ä¿®æ”¹å·¥å‚çŠ¶æ€</li>
                        <li><code>GET /api/platform/factories/generate-id</code> - ç”Ÿæˆå·¥å‚ID</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>factory</code> - å·¥å‚è¡¨</li>
                        <li><code>factory_settings</code> - å·¥å‚è®¾ç½®è¡¨</li>
                    </ul>
                </div>

                <h4 id="section-9-5-2">9.5.2 AIé…é¢ç®¡ç†ï¼ˆAI Quota Managementï¼‰ <a href="#chapter9-toc" style="float: right; font-size: 0.75em; color: #667eea; text-decoration: none; padding: 5px 12px; border: 1px solid #667eea; border-radius: 4px; transition: all 0.3s; background: white;">â†‘ å›åˆ°ç›®å½•</a></h4>
                <div class="feature-item">
                    <p style="color: #333; font-size: 1.05em; line-height: 2;">
                        <strong>åŠŸèƒ½æè¿°</strong>ï¼šå¹³å°ç®¡ç†å‘˜ç®¡ç†å„å·¥å‚çš„AIåˆ†æé…é¢ï¼ŒåŒ…æ‹¬é…é¢è®¾ç½®ã€ä½¿ç”¨é‡ç›‘æ§ã€å¹³å°çº§ç»Ÿè®¡ã€å·¥å‚é…é¢æŸ¥è¯¢ã€‚<span style="color: #667eea; font-weight: 600;"> v2.0.0 å‡çº§äº 2025-11-04</span>
                    </p>

                    <p><strong>å‰ç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>frontend/CretasFoodTrace/src/screens/platform/AIQuotaManagementScreen.tsx</code> - AIé…é¢ç®¡ç†ç•Œé¢</li>
                        <li><code>frontend/CretasFoodTrace/src/services/api/systemApiClient.ts</code> - ç³»ç»ŸAPIå®¢æˆ·ç«¯</li>
                    </ul>

                    <p><strong>åç«¯æ–‡ä»¶</strong>ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>backend/src/main/java/com/cretas/aims/controller/PlatformController.java</code> - å¹³å°ç®¡ç†æ§åˆ¶å™¨ï¼ˆåŒ…å«AIé…é¢ç®¡ç†ï¼Œv2.0.0ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/controller/AIController.java</code> - AIç»Ÿä¸€æ¥å£æ§åˆ¶å™¨ï¼ˆå·¥å‚çº§é…é¢æŸ¥è¯¢ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/PlatformService.java</code> - å¹³å°æœåŠ¡ï¼ˆé…é¢ç®¡ç†ä¸šåŠ¡é€»è¾‘ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/service/AIEnterpriseService.java</code> - ä¼ä¸šçº§AIæœåŠ¡ï¼ˆé…é¢éªŒè¯å’Œæ‰£å‡ï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIQuotaUsage.java</code> - AIé…é¢ä½¿ç”¨å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/AIUsageLog.java</code> - AIä½¿ç”¨æ—¥å¿—å®ä½“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/entity/FactorySettings.java</code> - å·¥å‚è®¾ç½®å®ä½“ï¼ˆAIé…é¢å­—æ®µï¼‰</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIQuotaUsageRepository.java</code> - AIé…é¢ä½¿ç”¨ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/repository/AIUsageLogRepository.java</code> - AIä½¿ç”¨æ—¥å¿—ä»“åº“</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/platform/FactoryAIQuotaDTO.java</code> - å·¥å‚AIé…é¢DTO</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/platform/UpdateAIQuotaRequest.java</code> - æ›´æ–°é…é¢è¯·æ±‚DTO</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/platform/PlatformAIUsageStatsDTO.java</code> - å¹³å°AIä½¿ç”¨ç»Ÿè®¡DTO</li>
                        <li><code>backend/src/main/java/com/cretas/aims/dto/factory/FactoryAIUsageDTO.java</code> - å·¥å‚AIä½¿ç”¨DTO</li>
                    </ul>

                    <p><strong>APIç«¯ç‚¹</strong>ï¼ˆv2.0.0 å¹³å°çº§ä¸å·¥å‚çº§åˆ†ç¦»ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><strong>å¹³å°ç®¡ç†å‘˜æ¥å£</strong>ï¼ˆ/api/platformï¼‰ï¼š</li>
                        <li><code>GET /api/platform/ai-quota</code> - è·å–æ‰€æœ‰å·¥å‚AIé…é¢è®¾ç½®å’Œå†å²è°ƒç”¨ç»Ÿè®¡</li>
                        <li><code>PUT /api/platform/ai-quota/{factoryId}</code> - æ›´æ–°æŒ‡å®šå·¥å‚çš„AIé…é¢ï¼ˆå‘¨é…é¢ï¼‰</li>
                        <li><code>GET /api/platform/ai-usage-stats</code> - è·å–å¹³å°çº§åˆ«AIä½¿ç”¨ç»Ÿè®¡æ•°æ®</li>
                        <li><strong>å·¥å‚ç”¨æˆ·æ¥å£</strong>ï¼ˆ/api/mobile/{factoryId}/aiï¼‰ï¼š</li>
                        <li><code>GET /api/mobile/{factoryId}/ai/quota</code> - å·¥å‚ç”¨æˆ·æŸ¥è¯¢è‡ªå·±å·¥å‚çš„é…é¢ä¿¡æ¯ï¼ˆä½¿ç”¨æƒ…å†µã€å‰©ä½™é¢åº¦ã€ä½¿ç”¨è®°å½•ï¼‰</li>
                    </ul>

                    <p><strong>æ•°æ®åº“è¡¨</strong>ï¼ˆv2.0.0 ä¸9.3.6å…±äº«ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li><code>factory_settings</code> - å·¥å‚è®¾ç½®è¡¨ï¼ˆai_quota_limitå­—æ®µã€ai_enabledå¯ç”¨çŠ¶æ€ï¼‰</li>
                        <li><code>ai_quota_usage</code> - AIé…é¢ä½¿ç”¨è¡¨ï¼ˆå·¥å‚çº§å‘¨é…é¢ç®¡ç†ã€å‰©ä½™é¢åº¦è¿½è¸ªï¼‰</li>
                        <li><code>ai_usage_log</code> - AIä½¿ç”¨æ—¥å¿—è¡¨ï¼ˆæ¯æ¬¡è°ƒç”¨è®°å½•ã€tokenæ¶ˆè€—ã€æˆæœ¬ç»Ÿè®¡ï¼‰</li>
                        <li><code>ai_audit_log</code> - AIå®¡è®¡æ—¥å¿—è¡¨ï¼ˆå®Œæ•´å®¡è®¡è·Ÿè¸ªã€å¹³å°çº§ç›‘æ§ï¼‰</li>
                    </ul>

                    <p><strong>é…é¢ç®¡ç†ç‰¹æ€§</strong>ï¼ˆv2.0.0ï¼‰ï¼š</p>
                    <ul style="line-height: 2;">
                        <li>âœ… <strong>å‘¨é…é¢åˆ¶åº¦</strong>ï¼šæ¯å‘¨é‡ç½®ï¼Œçµæ´»çš„é…é¢åˆ†é…ç­–ç•¥</li>
                        <li>âœ… <strong>å®æ—¶ç›‘æ§</strong>ï¼šå¹³å°ç®¡ç†å‘˜å¯æŸ¥çœ‹æ‰€æœ‰å·¥å‚çš„é…é¢ä½¿ç”¨æƒ…å†µ</li>
                        <li>âœ… <strong>ä½¿ç”¨ç»Ÿè®¡</strong>ï¼šè¯¦ç»†çš„å¹³å°çº§å’Œå·¥å‚çº§AIä½¿ç”¨ç»Ÿè®¡</li>
                        <li>âœ… <strong>æƒé™åˆ†ç¦»</strong>ï¼šå¹³å°ç®¡ç†å‘˜è®¾ç½®é…é¢ï¼Œå·¥å‚ç”¨æˆ·æŸ¥è¯¢è‡ªå·±å·¥å‚çš„é…é¢</li>
                        <li>âœ… <strong>è¶…é¢æ§åˆ¶</strong>ï¼šé…é¢ä¸è¶³æ—¶è‡ªåŠ¨é˜»æ­¢AIè°ƒç”¨ï¼Œæç¤ºç”¨æˆ·</li>
                    </ul>
                </div>

                <h3>9.6 æ–‡ä»¶å‘½åè§„èŒƒæ€»ç»“</h3>

                <div class="info-box">
                    <h4>å‰ç«¯æ–‡ä»¶å‘½åè§„èŒƒï¼ˆReact Native + TypeScriptï¼‰</h4>
                    <ul style="line-height: 2;">
                        <li><strong>Screenç»„ä»¶</strong>ï¼šPascalCase + "Screen"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>EnhancedLoginScreen.tsx</code>, <code>BatchDetailScreen.tsx</code>
                        </li>
                        <li><strong>UIç»„ä»¶</strong>ï¼šPascalCaseå‘½å
                            <br>ç¤ºä¾‹ï¼š<code>MaterialTypeSelector.tsx</code>, <code>QualityRecordList.tsx</code>
                        </li>
                        <li><strong>APIå®¢æˆ·ç«¯</strong>ï¼šcamelCase + "ApiClient"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>processingApiClient.ts</code>, <code>authService.ts</code>
                        </li>
                        <li><strong>StoreçŠ¶æ€ç®¡ç†</strong>ï¼šcamelCase + "Store"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>authStore.ts</code>, <code>permissionStore.ts</code>
                        </li>
                        <li><strong>Hooks</strong>ï¼šcamelCase + "use"å‰ç¼€
                            <br>ç¤ºä¾‹ï¼š<code>useRegister.ts</code>, <code>useCamera.ts</code>
                        </li>
                        <li><strong>ç±»å‹å®šä¹‰</strong>ï¼šcamelCaseå‘½å
                            <br>ç¤ºä¾‹ï¼š<code>auth.ts</code>, <code>processing.ts</code>
                        </li>
                    </ul>
                </div>

                <div class="info-box" style="margin-top: 20px;">
                    <h4>åç«¯æ–‡ä»¶å‘½åè§„èŒƒï¼ˆSpring Boot + Javaï¼‰</h4>
                    <ul style="line-height: 2;">
                        <li><strong>Controlleræ§åˆ¶å™¨</strong>ï¼šPascalCase + "Controller"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>SystemController.java</code>, <code>ProcessingController.java</code>
                        </li>
                        <li><strong>ServiceæœåŠ¡</strong>ï¼šPascalCase + "Service"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>AuthService.java</code>, <code>ProcessingBatchService.java</code>
                        </li>
                        <li><strong>Repositoryä»“åº“</strong>ï¼šPascalCase + "Repository"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>UserRepository.java</code>, <code>ProcessingBatchRepository.java</code>
                        </li>
                        <li><strong>Entityå®ä½“</strong>ï¼šPascalCaseå‘½åï¼ˆå¯¹åº”æ•°æ®åº“è¡¨ï¼‰
                            <br>ç¤ºä¾‹ï¼š<code>User.java</code>, <code>ProcessingBatch.java</code>, <code>MaterialBatch.java</code>
                        </li>
                        <li><strong>å·¥å…·ç±»</strong>ï¼šPascalCase + "Util"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>JwtUtil.java</code>, <code>GeoLocationUtil.java</code>
                        </li>
                        <li><strong>é…ç½®ç±»</strong>ï¼šPascalCase + "Config"åç¼€
                            <br>ç¤ºä¾‹ï¼š<code>SecurityConfig.java</code>, <code>RedisConfig.java</code>
                        </li>
                    </ul>
                </div>

                <div class="warning-box" style="margin-top: 20px;">
                    <h4>âš ï¸ é‡è¦è¯´æ˜</h4>
                    <p style="line-height: 2;">
                        1. <strong>å¤šç§Ÿæˆ·éš”ç¦»</strong>ï¼šæ‰€æœ‰å·¥å‚ç›¸å…³APIç«¯ç‚¹å¿…é¡»åŒ…å« <code>{factoryId}</code> è·¯å¾„å‚æ•°ï¼Œç¡®ä¿æ•°æ®éš”ç¦»ã€‚<br>
                        2. <strong>æƒé™éªŒè¯</strong>ï¼šæ‰€æœ‰APIæ¥å£éƒ½éœ€è¦JWT TokenéªŒè¯ï¼ŒControlleræ–¹æ³•éœ€è¦æ·»åŠ  <code>@RequirePermission</code> æ³¨è§£ã€‚<br>
                        3. <strong>APIç‰ˆæœ¬ç®¡ç†</strong>ï¼šç§»åŠ¨ç«¯APIç»Ÿä¸€ä½¿ç”¨ <code>/api/mobile/*</code> å‰ç¼€ï¼Œå¹³å°ç®¡ç†APIä½¿ç”¨ <code>/api/platform/*</code> å‰ç¼€ã€‚<br>
                        4. <strong>æ–‡ä»¶è·¯å¾„çº¦å®š</strong>ï¼š
                        <ul>
                            <li>å‰ç«¯ï¼š<code>frontend/CretasFoodTrace/src/</code> ä¸ºæ ¹ç›®å½•</li>
                            <li>åç«¯ï¼š<code>backend/src/main/java/com/cretas/aims/</code> ä¸ºæ ¹ç›®å½•ï¼ˆSpring Boot + Java 11 + JPAï¼‰</li>
                            <li>åç«¯å®é™…ä½ç½®ï¼š<code>/Users/jietaoxie/Downloads/cretas-backend-system-main/</code></li>
                        </ul>
                        5. <strong>æ•°æ®åº“è¡¨å‘½å</strong>ï¼šé‡‡ç”¨snake_caseï¼ˆå°å†™+ä¸‹åˆ’çº¿ï¼‰ï¼Œå¦‚ <code>processing_batch</code>, <code>employee_work_session</code>ã€‚<br>
                        6. <strong>æ‰¹æ¬¡å·æ ¼å¼</strong>ï¼šç”Ÿäº§æ‰¹æ¬¡å·æ ¼å¼ä¸º <code>FISH_YYYY_NNN</code>ï¼ˆå¦‚ï¼šFISH_2025_001ï¼‰ï¼Œç”±åç«¯è‡ªåŠ¨ç”Ÿæˆã€‚
                    </p>
                </div>
            </section>


            <!-- æ–‡æ¡£å¯¼èˆª -->
            <div style="background: #f8f9fa; padding: 30px; border-radius: 8px; text-align: center; margin-top: 50px;">
                <h3 style="border: none; padding: 0; margin-bottom: 20px;">ğŸ“š å®Œæ•´PRDæ–‡æ¡£å¯¼èˆª</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <a href="./MRD-ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ-å¸‚åœºéœ€æ±‚æ–‡æ¡£-v4.0.html" style="background: white; border: 2px solid #667eea; color: #667eea; padding: 20px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s; display: block;">
                        ç¬¬1-2ç« ï¼šå¸‚åœºéœ€æ±‚æ–‡æ¡£ï¼ˆMRDï¼‰
                    </a>
                    <a href="./PRD-æŠ€æœ¯æ¶æ„ä¸ç³»ç»Ÿè®¾è®¡-v1.0.html" style="background: white; border: 2px solid #667eea; color: #667eea; padding: 20px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s; display: block;">
                        ç¬¬3-8ç« ï¼šæŠ€æœ¯æ¶æ„ä¸ç³»ç»Ÿè®¾è®¡
                    </a>
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        ç¬¬9ç« ï¼šåŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„ï¼ˆå½“å‰ï¼‰
                    </div>
                    <a href="./PRD-ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ-å®Œæ•´ç‰ˆ.md" style="background: white; border: 2px solid #667eea; color: #667eea; padding: 20px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s; display: block;">
                        å®Œæ•´ç‰ˆPRDï¼ˆMarkdownï¼‰
                    </a>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2025 ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ | åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„æ–‡æ¡£ v1.0</p>
            <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.8;">æœ¬æ–‡æ¡£ç”±æŠ€æœ¯æ¶æ„æ–‡æ¡£ç¬¬9ç« ç‹¬ç«‹è€Œæ¥</p>
        </div>
    </div>
</body>
</html>
