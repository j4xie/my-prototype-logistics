<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ - å®Œæ•´ä¸šåŠ¡æµç¨‹ä¸ç•Œé¢è®¾è®¡ v5.0</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism@1.29.0/themes/prism-tomorrow.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 20px 0;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 2px solid #f0f0f0;
            margin-bottom: 20px;
        }

        .sidebar-header h1 {
            font-size: 16px;
            color: #2c3e50;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .sidebar-header p {
            font-size: 12px;
            color: #888;
        }

        .sidebar-search {
            padding: 0 15px 15px;
            margin-bottom: 15px;
        }

        .sidebar-search input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
            font-family: inherit;
        }

        .sidebar-search input:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .sidebar-nav {
            padding: 0;
        }

        .sidebar-nav-item {
            display: block;
            padding: 10px 20px;
            color: #555;
            text-decoration: none;
            font-size: 13px;
            border-left: 3px solid transparent;
            transition: all 0.2s;
            cursor: pointer;
        }

        .sidebar-nav-item:hover {
            background: #f5f5f5;
            color: #2c3e50;
        }

        .sidebar-nav-item.active {
            background: #ecf0f6;
            color: #4a90e2;
            border-left-color: #4a90e2;
            font-weight: 600;
        }

        .sidebar-nav-item.level-2 {
            padding-left: 40px;
            font-size: 12px;
            opacity: 0.7;
        }

        /* Main Content */
        .content {
            margin-left: 280px;
            padding: 40px 50px;
            background: white;
            flex: 1;
        }

        /* Header */
        .doc-header {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }

        .doc-header h1 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .doc-meta {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 15px;
            font-size: 13px;
            color: #888;
        }

        .doc-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-info { background: #d1ecf1; color: #0c5460; }

        /* Headings */
        h1 { font-size: 28px; margin-top: 40px; margin-bottom: 20px; color: #2c3e50; font-weight: 700; padding-top: 10px; border-top: 2px solid #e0e0e0; }
        h2 { font-size: 22px; margin-top: 35px; margin-bottom: 15px; color: #34495e; font-weight: 600; padding-bottom: 10px; border-bottom: 1px solid #e0e0e0; }
        h3 { font-size: 18px; margin-top: 25px; margin-bottom: 12px; color: #555; font-weight: 600; }
        h4 { font-size: 15px; margin-top: 18px; margin-bottom: 10px; color: #666; font-weight: 600; }
        h5 { font-size: 14px; margin-top: 15px; margin-bottom: 8px; color: #777; font-weight: 600; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            overflow-x: auto;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        tr:hover {
            background: #f9f9f9;
        }

        /* Code Blocks */
        pre {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 13px;
            line-height: 1.5;
        }

        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        /* Lists */
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 8px 0;
        }

        /* Blockquotes */
        blockquote {
            border-left: 4px solid #667eea;
            padding: 12px 20px;
            background: #f5f7fa;
            margin: 20px 0;
            border-radius: 4px;
        }

        blockquote p {
            margin: 0;
            font-size: 14px;
            color: #666;
        }

        /* Status Indicators */
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin: 0 3px;
        }

        .status-complete { background: #d4edda; color: #155724; }
        .status-inprogress { background: #fff3cd; color: #856404; }
        .status-planned { background: #d1ecf1; color: #0c5460; }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #888;
        }

        .breadcrumb a {
            color: #4a90e2;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 40px;
            height: 40px;
            background: #4a90e2;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 999;
        }

        .back-to-top.show {
            opacity: 1;
        }

        .back-to-top:hover {
            background: #2970d4;
        }

        /* ASCII Art */
        .ascii-art {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            line-height: 1.4;
            margin: 15px 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }

            .content {
                margin-left: 240px;
                padding: 30px 40px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }

            .content {
                margin-left: 0;
                padding: 20px;
            }

            .doc-header h1 {
                font-size: 24px;
            }

            h1 { font-size: 20px; }
            h2 { font-size: 18px; }
            h3 { font-size: 16px; }
        }

        /* Print Styles */
        @media print {
            .sidebar, .back-to-top {
                display: none;
            }

            .content {
                margin-left: 0;
            }

            table {
                page-break-inside: avoid;
            }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .mt-2 { margin-top: 15px; }
        .mb-2 { margin-bottom: 15px; }
        .p-2 { padding: 15px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>ğŸ“‘ æ–‡æ¡£å¯¼èˆª</h1>
                <p>v5.0 å®Œæ•´ä¸šåŠ¡æµç¨‹</p>
            </div>
            <div class="sidebar-search">
                <input type="text" id="searchInput" placeholder="æœç´¢...">
            </div>
            <nav class="sidebar-nav" id="sidebarNav">
                <div class="sidebar-nav-section">ä¸»è¦å†…å®¹</div>
                <a href="#ç¬¬1ç« -äº§å“æ¦‚è¿°" class="sidebar-nav-item" data-section="ç¬¬1ç« -äº§å“æ¦‚è¿°">äº§å“æ¦‚è¿°</a>
                <a href="#ç¬¬2ç« -ç³»ç»Ÿæ¶æ„æ€»è§ˆ" class="sidebar-nav-item" data-section="ç¬¬2ç« -ç³»ç»Ÿæ¶æ„æ€»è§ˆ">ç³»ç»Ÿæ¶æ„æ€»è§ˆ</a>
                <a href="#ç¬¬3ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹" class="sidebar-nav-item" data-section="ç¬¬3ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹">æ ¸å¿ƒä¸šåŠ¡æµç¨‹</a>
                <a href="#ç¬¬4ç« -æ•°æ®æ¨¡å‹ä¸å…³ç³»" class="sidebar-nav-item" data-section="ç¬¬4ç« -æ•°æ®æ¨¡å‹ä¸å…³ç³»">æ•°æ®æ¨¡å‹ä¸å…³ç³»</a>
                <a href="#ç¬¬5ç« -æƒé™ç®¡ç†ä½“ç³»" class="sidebar-nav-item" data-section="ç¬¬5ç« -æƒé™ç®¡ç†ä½“ç³»">æƒé™ç®¡ç†ä½“ç³»</a>
                <a href="#ç¬¬6ç« -æ ¸å¿ƒé¡µé¢ç•Œé¢è®¾è®¡" class="sidebar-nav-item" data-section="ç¬¬6ç« -æ ¸å¿ƒé¡µé¢ç•Œé¢è®¾è®¡">æ ¸å¿ƒé¡µé¢è®¾è®¡</a>
                <a href="#ç¬¬7ç« -apiè§„èŒƒä¸é›†æˆ" class="sidebar-nav-item" data-section="ç¬¬7ç« -apiè§„èŒƒä¸é›†æˆ">APIè§„èŒƒä¸é›†æˆ</a>
                <a href="#ç¬¬8ç« -å®ç°çŠ¶æ€æ€»è§ˆ" class="sidebar-nav-item" data-section="ç¬¬8ç« -å®ç°çŠ¶æ€æ€»è§ˆ">å®ç°çŠ¶æ€æ€»è§ˆ</a>

                <div class="sidebar-nav-section">æ¨èé˜…è¯»</div>
                <a href="#æ¨èé˜…è¯»" class="sidebar-nav-item" data-section="æ¨èé˜…è¯»">æ¨èæ–‡æ¡£</a>
                <a href="../QUICK_START.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ QUICK_START</a>
                <a href="../INTEGRATION_TEST_GUIDE.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ é›†æˆæµ‹è¯•æŒ‡å—</a>
                <a href="../IMPLEMENTATION_SUMMARY.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ å®ç°æ€»ç»“</a>
                <a href="../COMPLETION_REPORT.md" class="sidebar-nav-item" style="opacity: 0.7;">â†’ å®ŒæˆæŠ¥å‘Š</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="doc-header">
                <h1>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿ - å®Œæ•´ä¸šåŠ¡æµç¨‹ä¸ç•Œé¢è®¾è®¡</h1>
                <div class="doc-meta">
                    <div class="doc-meta-item">
                        <strong>ç‰ˆæœ¬:</strong> <span class="badge badge-info">v5.0</span>
                    </div>
                    <div class="doc-meta-item">
                        <strong>ç±»å‹:</strong> <span class="badge badge-success">ä¸šåŠ¡æµç¨‹å®Œæ•´ç‰ˆ</span>
                    </div>
                    <div class="doc-meta-item">
                        <strong>æ›´æ–°æ—¶é—´:</strong> 2025-11-21
                    </div>
                </div>
            </div>

            <!-- Section: æ¨èé˜…è¯» -->
            <section id="æ¨èé˜…è¯»" style="background: #f0f7ff; padding: 20px; border-left: 4px solid #4a90e2; margin-bottom: 30px; border-radius: 4px;">
                <h2 style="margin-top: 0;">ğŸ“š æ¨èé˜…è¯»</h2>
                <p style="margin-bottom: 15px; color: #555;">æœ¬æ–‡æ˜¯å®Œæ•´ä¸šåŠ¡æµç¨‹å’Œç•Œé¢è®¾è®¡æ–‡æ¡£ã€‚å¦‚æœæ‚¨æ˜¯æ–°äººåŠ å…¥é¡¹ç›®ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºé˜…è¯»ï¼š</p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div style="background: white; padding: 15px; border-radius: 4px; border: 1px solid #ddd;">
                        <h4 style="margin-top: 0; color: #4a90e2;">1ï¸âƒ£ QUICK_START.md</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 10px;">5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼Œäº†è§£å¦‚ä½•å¯åŠ¨æ‰€æœ‰æœåŠ¡</p>
                        <a href="../QUICK_START.md" style="color: #4a90e2; text-decoration: none; font-weight: 500;">æŸ¥çœ‹æ–‡æ¡£ â†’</a>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 4px; border: 1px solid #ddd;">
                        <h4 style="margin-top: 0; color: #4a90e2;">2ï¸âƒ£ INTEGRATION_TEST_GUIDE.md</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 10px;">å®Œæ•´é›†æˆæµ‹è¯•æŒ‡å—ï¼ŒéªŒè¯ç³»ç»Ÿå„æ¨¡å—å·¥ä½œçŠ¶æ€</p>
                        <a href="../INTEGRATION_TEST_GUIDE.md" style="color: #4a90e2; text-decoration: none; font-weight: 500;">æŸ¥çœ‹æ–‡æ¡£ â†’</a>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 4px; border: 1px solid #ddd;">
                        <h4 style="margin-top: 0; color: #4a90e2;">3ï¸âƒ£ IMPLEMENTATION_SUMMARY.md</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 10px;">è¯¦ç»†æŠ€æœ¯æ€»ç»“ï¼Œäº†è§£åç«¯å®ç°ç»†èŠ‚å’Œæ¶æ„</p>
                        <a href="../IMPLEMENTATION_SUMMARY.md" style="color: #4a90e2; text-decoration: none; font-weight: 500;">æŸ¥çœ‹æ–‡æ¡£ â†’</a>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 4px; border: 1px solid #ddd;">
                        <h4 style="margin-top: 0; color: #4a90e2;">4ï¸âƒ£ COMPLETION_REPORT.md</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 10px;">é¡¹ç›®å®ŒæˆæŠ¥å‘Šï¼Œäº†è§£ç³»ç»Ÿæ•´ä½“ç°çŠ¶å’Œè´¨é‡æŒ‡æ ‡</p>
                        <a href="../COMPLETION_REPORT.md" style="color: #4a90e2; text-decoration: none; font-weight: 500;">æŸ¥çœ‹æ–‡æ¡£ â†’</a>
                    </div>
                </div>
                <p style="margin-top: 15px; font-size: 13px; color: #888; border-top: 1px solid #e0e0e0; padding-top: 15px;">
                    ğŸ’¡ æç¤ºï¼šå¦‚éœ€å¿«é€ŸæŸ¥æ‰¾APIç«¯ç‚¹å’Œæ–‡ä»¶æ˜ å°„ï¼Œè¯·å‚è€ƒ <strong>PRD-åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„-v3.0-æŠ€æœ¯é€ŸæŸ¥.md</strong>
                </p>
            </section>

            <!-- Section: äº§å“æ¦‚è¿° -->
            <section id="ç¬¬1ç« -äº§å“æ¦‚è¿°">
                <h2>ç¬¬1ç«  äº§å“æ¦‚è¿°</h2>

                <h3>1.1 äº§å“å®šä½</h3>
                <p>ç™½å©çºªé£Ÿå“æº¯æºç³»ç»Ÿæ˜¯ä¸€ä¸ª<strong>AIé©±åŠ¨çš„æ™ºèƒ½ç”Ÿäº§ç®¡ç†ç³»ç»Ÿ</strong>ï¼Œä¸“ä¸ºä¸­å°é£Ÿå“ä¼ä¸šè®¾è®¡ã€‚æ ¸å¿ƒä»·å€¼æ˜¯é€šè¿‡<strong>ç§»åŠ¨ä¼˜å…ˆçš„è®¾è®¡</strong> + <strong>DeepSeek AIæ™ºèƒ½åˆ†æ</strong> + <strong>å…¨é“¾è·¯æ•°æ®è¿½æº¯</strong>ï¼Œå¸®åŠ©å·¥å‚å®ç°<strong>é™æœ¬å¢æ•ˆ</strong>å’Œ<strong>æº¯æºé€æ˜</strong>ã€‚</p>

                <h3>1.2 æ ¸å¿ƒç‰¹è‰²</h3>

                <h4>ğŸ¤– AIæ›¿ä»£æ•°æ®åˆ†æå¸ˆ</h4>
                <ul>
                    <li><strong>DeepSeekå¤§è¯­è¨€æ¨¡å‹</strong> é›†æˆ</li>
                    <li><strong>5ç»´æ·±åº¦æˆæœ¬åˆ†æ</strong>ï¼šåŸæ–™ã€äººå·¥ã€è®¾å¤‡ã€æ•ˆç‡ã€é¢„æµ‹</li>
                    <li><strong>æ™ºèƒ½ä¼˜åŒ–å»ºè®®</strong>ï¼šç›´æ¥ç»™å‡ºé™æœ¬æ–¹æ¡ˆ</li>
                    <li><strong>å¹´çœæˆæœ¬</strong>ï¼š12-36ä¸‡ï¼ˆæ›¿ä»£åˆ†æå¸ˆï¼‰</li>
                </ul>

                <h4>ğŸ“± æç®€ç§»åŠ¨ç«¯è®¾è®¡</h4>
                <ul>
                    <li><strong>å°å­¦å­¦å†ä¹Ÿèƒ½ç”¨</strong> - å¤§æŒ‰é’®ã€å›¾æ ‡åŒ–ã€å°‘æ–‡å­—</li>
                    <li><strong>éšæ—¶éšåœ°æ“ä½œ</strong> - æ‰“å¡ã€è®°å½•ã€æ‹ç…§ã€æ‰«ç </li>
                    <li><strong>10åˆ†é’Ÿä¸Šæ‰‹</strong> - åŸ¹è®­æˆæœ¬æ¥è¿‘é›¶</li>
                </ul>

                <h4>ğŸ’° ä½æˆæœ¬SaaSæ¨¡å¼</h4>
                <ul>
                    <li><strong>å¿«é€Ÿä¸Šçº¿</strong>ï¼š1-2å‘¨ï¼ˆvsä¼ ç»Ÿç³»ç»Ÿ6-12ä¸ªæœˆï¼‰</li>
                    <li><strong>æŒ‰éœ€ä»˜è´¹</strong>ï¼šæœˆ/å¹´è®¢é˜…åˆ¶</li>
                    <li><strong>é™ä½90%åˆå§‹æŠ•å…¥</strong>ï¼šæ— éœ€ç¡¬ä»¶ã€å®šåˆ¶å¼€å‘</li>
                </ul>

                <h4>ğŸ” å…¨é“¾è·¯æ•°æ®è¿½æº¯</h4>
                <ul>
                    <li><strong>ä»åŸæ–™åˆ°æˆå“</strong> çš„å®Œæ•´æº¯æºé“¾æ¡</li>
                    <li><strong>ç§’çº§è¿½æº¯</strong>ï¼šè¾“å…¥æ‰¹æ¬¡å· â†’ å®Œæ•´ä¿¡æ¯</li>
                    <li><strong>å¯è§†åŒ–é“¾è·¯å›¾</strong> - æ¶‰åŠäººå‘˜ã€è®¾å¤‡ã€å·¥åºã€è´¨æ£€</li>
                </ul>

                <h3>1.3 ç›®æ ‡ç”¨æˆ·</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ç”¨æˆ·</th>
                            <th>å®šä½</th>
                            <th>æ ¸å¿ƒä»»åŠ¡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>å¹³å°ç®¡ç†å‘˜</strong></td>
                            <td>å¹³å°è¿è¥ï¼ˆ2-5äººï¼‰</td>
                            <td>ç®¡ç†æ‰€æœ‰å·¥å‚ã€é…ç½®ç³»ç»Ÿ</td>
                        </tr>
                        <tr>
                            <td><strong>å·¥å‚è¶…çº§ç®¡ç†å‘˜</strong></td>
                            <td>å‚é•¿ï¼ˆæ¯å‚1-2äººï¼‰</td>
                            <td>ç”Ÿäº§è®¡åˆ’ã€æˆæœ¬æ§åˆ¶</td>
                        </tr>
                        <tr>
                            <td><strong>éƒ¨é—¨ç®¡ç†å‘˜</strong></td>
                            <td>éƒ¨é—¨ä¸»ç®¡ï¼ˆæ¯å‚3-5äººï¼‰</td>
                            <td>éƒ¨é—¨ç”Ÿäº§ã€å‘˜å·¥ç®¡ç†</td>
                        </tr>
                        <tr>
                            <td><strong>ä¸€çº¿æ“ä½œå‘˜</strong></td>
                            <td>å‘˜å·¥ï¼ˆæ¯å‚10-50äººï¼‰</td>
                            <td>æ‰“å¡ã€æ‹ç…§ã€è®°å½•ã€è´¨æ£€</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Section: ç³»ç»Ÿæ¶æ„ -->
            <section id="ç¬¬2ç« -ç³»ç»Ÿæ¶æ„æ€»è§ˆ">
                <h2>ç¬¬2ç«  ç³»ç»Ÿæ¶æ„æ€»è§ˆ</h2>

                <h3>2.1 ç³»ç»Ÿæ¶æ„å›¾</h3>
                <div class="ascii-art">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   React Native App (Expo 53+)               â”‚
â”‚         Android / iOS (ç§»åŠ¨ä¼˜å…ˆï¼Œè·¨å¹³å°)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    HTTPS (10010)
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot API Gateway (10010)               â”‚
â”‚         Java 11 + Spring Boot 2.7.15 + Spring Security      â”‚
â”‚                     JWT è®¤è¯ä¸­é—´ä»¶                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¸šåŠ¡å±‚     â”‚  â”‚   AIæœåŠ¡     â”‚  â”‚  æ–‡ä»¶æœåŠ¡    â”‚
â”‚ (Service)   â”‚  â”‚ (DeepSeek)   â”‚  â”‚  (å›¾ç‰‡å¤„ç†)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                  â”‚
       â–¼                 â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MySQL æ•°æ®åº“ (43ä¸ªå®ä½“è¡¨)           â”‚
â”‚       Spring Data JPA + Hibernate ORM           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Redis ç¼“å­˜ (Token + AI)              â”‚
â”‚          Tokenå­˜å‚¨ã€AIåˆ†æç¼“å­˜ (5åˆ†é’ŸTTL)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

                <h3>2.2 æŠ€æœ¯æ ˆ</h3>
                <table>
                    <thead>
                        <tr>
                            <th>å±‚çº§</th>
                            <th>å‰ç«¯ (React Native)</th>
                            <th>åç«¯ (Spring Boot)</th>
                            <th>æ•°æ®å±‚</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>æ¡†æ¶</strong></td>
                            <td>Expo 53+</td>
                            <td>Spring Boot 2.7.15</td>
                            <td>MySQL 8+</td>
                        </tr>
                        <tr>
                            <td><strong>è¯­è¨€</strong></td>
                            <td>TypeScript</td>
                            <td>Java 11</td>
                            <td>SQL</td>
                        </tr>
                        <tr>
                            <td><strong>è·¯ç”±</strong></td>
                            <td>React Navigation 7+</td>
                            <td>Spring MVC</td>
                            <td>Spring Data JPA</td>
                        </tr>
                        <tr>
                            <td><strong>çŠ¶æ€ç®¡ç†</strong></td>
                            <td>Zustand</td>
                            <td>Spring Session</td>
                            <td>Hibernate ORM</td>
                        </tr>
                        <tr>
                            <td><strong>è®¤è¯</strong></td>
                            <td>JWT (æœ¬åœ°å­˜å‚¨)</td>
                            <td>Spring Security + JWT</td>
                            <td>Redis</td>
                        </tr>
                    </tbody>
                </table>

                <h3>2.3 ç³»ç»Ÿéƒ¨ç½²æ¶æ„</h3>
                <div class="ascii-art">ç”¨æˆ·ï¼ˆå·¥å‚/å¹³å°ï¼‰
    â”‚
    â–¼
Expoåº”ç”¨ (Android APK / iOS IPA)
    â”‚ (HTTPS 139.196.165.140:10010)
    â–¼
å®å¡”é¢æ¿ (BT-Panel) - æœåŠ¡å™¨ç®¡ç†
    â”‚
    â”œâ”€ Spring Boot JAR (10010)
    â”‚  â””â”€ /www/wwwroot/cretas/cretas-backend-system-1.0.0.jar
    â”‚
    â”œâ”€ MySQL æ•°æ®åº“ (3306)
    â”‚  â””â”€ cretas_db
    â”‚
    â””â”€ Redis ç¼“å­˜
       â””â”€ æœ¬åœ°æˆ–äº‘æœåŠ¡</div>
            </section>

            <!-- Section: æ ¸å¿ƒä¸šåŠ¡æµç¨‹ -->
            <section id="ç¬¬3ç« -æ ¸å¿ƒä¸šåŠ¡æµç¨‹">
                <h2>ç¬¬3ç«  æ ¸å¿ƒä¸šåŠ¡æµç¨‹</h2>

                <h3>3.1 ç»Ÿä¸€ç™»å½•ä¸æƒé™è·¯ç”±æµç¨‹</h3>

                <h4>åºåˆ—å›¾</h4>
                <div class="ascii-art">ç”¨æˆ·                    App                  API              DB
 â”‚                      â”‚                    â”‚               â”‚
 â”œâ”€è¾“å…¥ç”¨æˆ·åå¯†ç â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚               â”‚
 â”‚                      â”œâ”€POST /unified-loginâ”€>               â”‚
 â”‚                      â”‚                    â”œâ”€æŸ¥è¯¢User/PlatformAdmin
 â”‚                      â”‚                    â”‚               <â”€
 â”‚                      â”‚                    â”œâ”€BCryptéªŒè¯å¯†ç 
 â”‚                      â”‚                    â”‚
 â”‚                      â”‚<â”€ç”ŸæˆJWT Tokenâ”€â”€â”€â”€â”¤
 â”‚                      â”‚                    â”‚
 â”‚<â”€æ˜¾ç¤ºç™»å½•æˆåŠŸâ”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
 â”‚                      â”œâ”€å­˜å‚¨Tokenåˆ°SecureStore
 â”‚                      â”œâ”€æ›´æ–°authStore (Zustand)
 â”‚                      â”‚
 â”‚                      â”œâ”€æ ¹æ®userTypeè·³è½¬
 â”‚                      â”‚  platform_admin â†’ PlatformDashboard
 â”‚                      â”‚  factory_user â†’ HomeScreen</div>

                <h4>Tokenç®¡ç†ç­–ç•¥</h4>
                <pre><code class="language-plaintext">AccessToken (24å°æ—¶)
  â”œâ”€ å­˜å‚¨ä½ç½®ï¼šSecureStore (ç¡¬ä»¶åŠ å¯†)
  â””â”€ ä½¿ç”¨åœºæ™¯ï¼šæ‰€æœ‰APIè¯·æ±‚

RefreshToken (7å¤©)
  â”œâ”€ å­˜å‚¨ä½ç½®ï¼šSecureStore
  â””â”€ ä½¿ç”¨åœºæ™¯ï¼šaccessTokenè¿‡æœŸæ—¶åˆ·æ–°

TempToken (10åˆ†é’Ÿ)
  â”œâ”€ å­˜å‚¨ä½ç½®ï¼šå†…å­˜
  â””â”€ ä½¿ç”¨åœºæ™¯ï¼šæ³¨å†Œæµç¨‹ä¸­ä¸´æ—¶èº«ä»½éªŒè¯

DeviceToken (è®¾å¤‡æ ‡è¯†)
  â”œâ”€ å­˜å‚¨ä½ç½®ï¼šæ•°æ®åº“
  â””â”€ ä½¿ç”¨åœºæ™¯ï¼šè®¾å¤‡ç»‘å®šã€æ¿€æ´»</code></pre>

                <h3>3.2 å‘˜å·¥æ‰“å¡ä¸å·¥æ—¶è®¡ç®—æµç¨‹</h3>

                <h4>æ‰“å¡çŠ¶æ€æœº</h4>
                <div class="ascii-art">      æœªæ‰“å¡
        â”‚
        â”œâ”€[ä¸Šç­æ‰“å¡]â”€â”€â–¶ å·²ä¸Šç­
        â”‚              â”‚
        â”‚              â”œâ”€[å¼€å§‹ä¼‘æ¯]â”€â”€â–¶ ä¼‘æ¯ä¸­
        â”‚              â”‚               â”‚
        â”‚              â”‚               â””â”€[ç»“æŸä¼‘æ¯]â”€â”€â–¶ å·²ä¸Šç­
        â”‚              â”‚
        â”‚              â””â”€[ä¸‹ç­æ‰“å¡]â”€â”€â–¶ å·²ä¸‹ç­
        â”‚                              â”‚
        â”‚                              â””â”€[ç³»ç»Ÿè®¡ç®—]â”€â”€â–¶ å·²ç»“ç®—
        â”‚
        â””â”€[å†æ¬¡ä¸Šç­]â”€â”€â”€â”€â–¶ å·²ä¸Šç­ (åŠ ç­)</div>

                <h4>å·¥æ—¶è®¡ç®—å…¬å¼</h4>
                <pre><code class="language-plaintext">å·¥ä½œæ—¶é•¿ = ä¸‹ç­æ—¶é—´ - ä¸Šç­æ—¶é—´ - åˆä¼‘æ—¶é—´(1å°æ—¶)

ä¾‹å¦‚ï¼š
  ä¸Šç­ï¼š08:30
  ä¼‘æ¯ï¼š12:00-13:00 (1å°æ—¶)
  ä¸‹ç­ï¼š17:30

  å·¥ä½œæ—¶é•¿ = 17:30 - 08:30 - 1:00 = 8å°æ—¶

åŠ ç­è®¡ç®—ï¼š
  if (å·¥ä½œæ—¶é•¿ > 8å°æ—¶) {
    åŠ ç­æ—¶é•¿ = å·¥ä½œæ—¶é•¿ - 8å°æ—¶
  }

å‘¨å·¥æ—¶ = æœ¬å‘¨æ‰€æœ‰æ—¥å·¥æ—¶ä¹‹å’Œ
æœˆå·¥æ—¶ = æœ¬æœˆæ‰€æœ‰æ—¥å·¥æ—¶ä¹‹å’Œ</code></pre>

                <h3>3.3 ç”Ÿäº§æ‰¹æ¬¡å…¨ç”Ÿå‘½å‘¨æœŸæµç¨‹</h3>

                <h4>æ‰¹æ¬¡çŠ¶æ€æµè½¬</h4>
                <div class="ascii-art">åˆ›å»ºæ‰¹æ¬¡ (planning)
  â”‚
  â”œâ”€ ç³»ç»Ÿè‡ªåŠ¨ï¼š
  â”‚  â”œâ”€ æ£€æŸ¥åŸæ–™åº“å­˜ (FIFOæ¨è)
  â”‚  â”œâ”€ é¢„ä¼°äº§å‡ºé‡ (è½¬æ¢ç‡)
  â”‚  â””â”€ é¢„ä¼°æˆæœ¬ (å†å²æ•°æ®)
  â”‚
  â”œâ”€[å¼€å§‹ç”Ÿäº§]
  â”‚  â”‚
  â”‚  â–¼
  â”‚ è¿›è¡Œä¸­ (in_progress)
  â”‚  â”‚
  â”‚  â”œâ”€ æ¯æ—¥æ·»åŠ äº§é‡è®°å½•
  â”‚  â”‚  â”œâ”€ å½“æ—¥äº§é‡
  â”‚  â”‚  â”œâ”€ æ¶ˆè€—åŸæ–™
  â”‚  â”‚  â”œâ”€ è®¾å¤‡è¿è¡ŒçŠ¶æ€
  â”‚  â”‚  â””â”€ å‘˜å·¥å·¥æ—¶
  â”‚  â”‚
  â”‚  â”œâ”€ æŒç»­7-30å¤©ï¼ˆå–å†³äºäº§å“ï¼‰
  â”‚  â”‚
  â”‚  â”œâ”€[å®Œæˆç”Ÿäº§]
  â”‚  â”‚  â”‚
  â”‚  â”‚  â–¼
  â”‚  â”‚ è´¨æ£€ä¸­ (quality_check)
  â”‚  â”‚  â”‚
  â”‚  â”‚  â”œâ”€ è´¨æ£€å‘˜æäº¤è´¨æ£€ç»“æœ
  â”‚  â”‚  â”‚  â”œâ”€ æ–°é²œåº¦è¯„åˆ†
  â”‚  â”‚  â”‚  â”œâ”€ å¤–è§‚è¯„åˆ†
  â”‚  â”‚  â”‚  â”œâ”€ æ°”å‘³è¯„åˆ†
  â”‚  â”‚  â”‚  â””â”€ ç»¼åˆè¯„åˆ†
  â”‚  â”‚  â”‚
  â”‚  â”‚  â”œâ”€[è´¨æ£€é€šè¿‡]
  â”‚  â”‚  â”‚  â”‚
  â”‚  â”‚  â”‚  â–¼
  â”‚  â”‚  â”‚ å·²å®Œæˆ (completed)
  â”‚  â”‚  â”‚  â”‚
  â”‚  â”‚  â”‚  â””â”€ ç³»ç»Ÿè‡ªåŠ¨ï¼š
  â”‚  â”‚  â”‚     â”œâ”€ è®¡ç®—æœ€ç»ˆæˆæœ¬
  â”‚  â”‚  â”‚     â”œâ”€ æ›´æ–°åº“å­˜
  â”‚  â”‚  â”‚     â”œâ”€ ç”Ÿæˆæˆæœ¬æŠ¥å‘Š
  â”‚  â”‚  â”‚     â””â”€ å¯è§¦å‘AIåˆ†æ
  â”‚  â”‚  â”‚
  â”‚  â”‚  â””â”€[è´¨æ£€ä¸åˆæ ¼]
  â”‚  â”‚     â”‚
  â”‚  â”‚     â–¼
  â”‚  â”‚    å¤±è´¥ (failed)
  â”‚  â”‚
  â”‚  â””â”€[æš‚åœç”Ÿäº§]
  â”‚     â”‚
  â”‚     â–¼
  â”‚    æš‚åœ (paused)
  â”‚
  â””â”€[å–æ¶ˆç”Ÿäº§]
     â”‚
     â–¼
    å·²å–æ¶ˆ (cancelled)</div>

                <h4>æˆæœ¬è‡ªåŠ¨è®¡ç®—</h4>
                <pre><code class="language-plaintext">batchå®Œæˆæ—¶è‡ªåŠ¨æ‰§è¡Œï¼š

1ï¸âƒ£ åŸææ–™æˆæœ¬
   materialCost = Î£(æ¶ˆè€—æ•°é‡ Ã— å•ä»·)

2ï¸âƒ£ äººå·¥æˆæœ¬
   laborCost = Î£(å‘˜å·¥å·¥æ—¶ Ã— æ—¶è–ª)
   æ—¶è–ª = æœˆè–ª / å·¥ä½œæ—¶æ•° Ã— 60

3ï¸âƒ£ è®¾å¤‡æˆæœ¬
   equipmentCost = Î£(ä½¿ç”¨æ—¶é•¿ Ã— æŠ˜æ—§ç‡)

4ï¸âƒ£ æ€»æˆæœ¬
   totalCost = materialCost + laborCost + equipmentCost
   unitCost = totalCost / å®é™…äº§é‡</code></pre>

                <h3>3.4 FIFOåŸææ–™ç®¡ç†æµç¨‹</h3>

                <h4>FIFOç®—æ³•</h4>
                <pre><code class="language-plaintext">åœºæ™¯ï¼šéœ€è¦2000g çŒªè‚‰ï¼Œå½“å‰åº“å­˜ï¼š

æ‰¹æ¬¡1: 2000g, å…¥åº“2025-10-01, åˆ°æœŸ2025-10-08 (æ–°é²œ)
æ‰¹æ¬¡2: 1500g, å…¥åº“2025-10-03, åˆ°æœŸ2025-10-10 (æ–°é²œ)
æ‰¹æ¬¡3: 3000g, å…¥åº“2025-10-05, åˆ°æœŸ2026-01-05 (å†·å†»)

FIFOæ¨èè¿‡ç¨‹ï¼š
  1. æŒ‰å…¥åº“æ—¶é—´æ’åºï¼šæ‰¹æ¬¡1 < æ‰¹æ¬¡2 < æ‰¹æ¬¡3
  2. æ£€æŸ¥åˆ°æœŸæ—¥æœŸï¼šæ‰¹æ¬¡1æœ€æ—©åˆ°æœŸ(10-08)
  3. æ¨èï¼šä½¿ç”¨æ‰¹æ¬¡1 (2000gï¼Œè¶³é‡)

å¦‚æœå…¨éƒ¨ä½¿ç”¨å®Œï¼š
  ä½¿ç”¨æ‰¹æ¬¡3 (å†·å†»çŒªè‚‰)</code></pre>

                <h4>åº“å­˜é¢„è­¦æœºåˆ¶</h4>
                <pre><code class="language-plaintext">å…¥åº“æ—¶è®°å½•åˆ°æœŸæ—¥æœŸ
  â”‚
  â–¼
ç³»ç»Ÿæ¯å°æ—¶æ‰«æä¸€æ¬¡
  â”‚
  â”œâ”€ 3å¤©å†…åˆ°æœŸ â†’ é»„è‰²é¢„è­¦
  â”œâ”€ 1å¤©å†…åˆ°æœŸ â†’ æ©™è‰²é¢„è­¦
  â””â”€ å½“å¤©åˆ°æœŸ â†’ çº¢è‰²è­¦æŠ¥

      â”‚
      â–¼
  æ˜¾ç¤ºåœ¨åº“å­˜ç®¡ç†é¡µé¢
  æé†’é‡‡è´­å’Œç”Ÿäº§

      â”‚
      â–¼
  æ”¯æŒæ“ä½œï¼š
  â”œâ”€ æ–°é²œâ†’å†·å†» (å»¶é•¿ä¿è´¨æœŸ)
  â”œâ”€ ä¼˜å…ˆä½¿ç”¨ (ç«‹å³æ¶ˆè€—)
  â””â”€ æŠ¥åºŸå¤„ç† (æˆæœ¬è®¡å…¥)</code></pre>

                <h3>3.5 AIæˆæœ¬åˆ†æä¸ä¼˜åŒ–å»ºè®®æµç¨‹</h3>

                <h4>AIåˆ†ææµç¨‹</h4>
                <div class="ascii-art">ç”¨æˆ·ç‚¹å‡»"AIåˆ†æ"æŒ‰é’®
  â”‚
  â–¼
ç”ŸæˆCache Key (MD5(batchId + question))
  â”‚
  â”œâ”€ ç¼“å­˜å‘½ä¸­ï¼Ÿ
  â”‚  â””â”€ æ˜¯ â†’ ç›´æ¥è¿”å›ç¼“å­˜ç»“æœï¼ˆä¸æ¶ˆè€—é…é¢ï¼‰
  â”‚
  â”œâ”€ ç¼“å­˜æœªå‘½ä¸­
  â”‚  â”‚
  â”‚  â”œâ”€ æ£€æŸ¥æœ¬å‘¨AIé…é¢
  â”‚  â”‚  â””â”€ å‰©ä½™é…é¢ > 0ï¼Ÿ
  â”‚  â”‚     â””â”€ å¦ â†’ æç¤º"é…é¢å·²ç”¨å®Œ"
  â”‚  â”‚
  â”‚  â”œâ”€ æŸ¥è¯¢æ‰¹æ¬¡å®Œæ•´æ•°æ®
  â”‚  â”‚
  â”‚  â”œâ”€ æ„é€ AI Prompt
  â”‚  â”‚
  â”‚  â”œâ”€ è°ƒç”¨ DeepSeek API
  â”‚  â”‚
  â”‚  â”œâ”€ æ¶ˆè€—é…é¢ -1
  â”‚  â”‚
  â”‚  â”œâ”€ ä¿å­˜åˆ†æç»“æœåˆ°æ•°æ®åº“
  â”‚  â”‚
  â”‚  â”œâ”€ ç¼“å­˜ç»“æœ (Redis, TTL 5åˆ†é’Ÿ)
  â”‚  â”‚
  â”‚  â””â”€ è¿”å›ç»™å‰ç«¯
  â”‚
  â–¼
å‰ç«¯å±•ç¤º AI åˆ†ææŠ¥å‘Š</div>
            </section>

            <!-- Section: æ•°æ®æ¨¡å‹ -->
            <section id="ç¬¬4ç« -æ•°æ®æ¨¡å‹ä¸å…³ç³»">
                <h2>ç¬¬4ç«  æ•°æ®æ¨¡å‹ä¸å…³ç³»</h2>

                <h3>4.1 æ ¸å¿ƒå®ä½“å…³ç³»å›¾</h3>
                <div class="ascii-art">Factory (å·¥å‚)
  â”œâ”€ 1:N â†’ User (å‘˜å·¥)
  â”œâ”€ 1:N â†’ Department (éƒ¨é—¨)
  â”œâ”€ 1:N â†’ ProcessingBatch (ç”Ÿäº§æ‰¹æ¬¡)
  â”œâ”€ 1:N â†’ MaterialBatch (åŸææ–™æ‰¹æ¬¡)
  â””â”€ 1:N â†’ Equipment (è®¾å¤‡)

User (å‘˜å·¥)
  â”œâ”€ 1:N â†’ TimeClockRecord (æ‰“å¡è®°å½•)
  â”œâ”€ 1:N â†’ BatchWorkSession (ç”Ÿäº§å·¥æ—¶)
  â””â”€ 1:N â†’ QualityInspection (è´¨æ£€)

ProcessingBatch (ç”Ÿäº§æ‰¹æ¬¡)
  â”œâ”€ N:1 â†’ MaterialType (åŸæ–™ç±»å‹)
  â”œâ”€ 1:N â†’ MaterialConsumption (åŸæ–™æ¶ˆè€—)
  â”œâ”€ 1:N â†’ BatchWorkSession (å·¥æ—¶è®°å½•)
  â”œâ”€ 1:N â†’ BatchEquipmentUsage (è®¾å¤‡ä½¿ç”¨)
  â”œâ”€ 1:N â†’ QualityInspection (è´¨æ£€)
  â””â”€ 1:N â†’ AIAnalysisResult (AIåˆ†æ)

Equipment (è®¾å¤‡)
  â”œâ”€ 1:N â†’ BatchEquipmentUsage (ä½¿ç”¨è®°å½•)
  â”œâ”€ 1:N â†’ EquipmentAlert (å‘Šè­¦)
  â””â”€ 1:N â†’ EquipmentMaintenance (ç»´æŠ¤è®°å½•)</div>

                <h3>4.2 å…³é”®æ•°æ®å®ä½“</h3>

                <h4>ProcessingBatch (ç”Ÿäº§æ‰¹æ¬¡)</h4>
                <pre><code class="language-sql">CREATE TABLE processing_batches (
  id VARCHAR(50) PRIMARY KEY,
  batch_number VARCHAR(50) UNIQUE NOT NULL,
  product_name VARCHAR(100),
  quantity DECIMAL(10,2),
  status VARCHAR(30),

  -- æˆæœ¬å­—æ®µ
  material_cost DECIMAL(12,2),
  labor_cost DECIMAL(12,2),
  equipment_cost DECIMAL(12,2),
  total_cost DECIMAL(12,2),

  start_time TIMESTAMP,
  end_time TIMESTAMP,
  created_at TIMESTAMP,
  FOREIGN KEY (supervisor_id) REFERENCES users(id)
);</code></pre>

                <h4>MaterialBatch (åŸææ–™æ‰¹æ¬¡)</h4>
                <pre><code class="language-sql">CREATE TABLE material_batches (
  id VARCHAR(50) PRIMARY KEY,
  batch_number VARCHAR(50) UNIQUE NOT NULL,
  quantity DECIMAL(10,2),
  expiry_date DATE,
  storage_type VARCHAR(30),
  status VARCHAR(30),
  FOREIGN KEY (material_type_id) REFERENCES material_types(id),
  FOREIGN KEY (supplier_id) REFERENCES suppliers(id)
);</code></pre>

                <h4>TimeClockRecord (æ‰“å¡è®°å½•)</h4>
                <pre><code class="language-sql">CREATE TABLE time_clock_records (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  clock_in_time TIMESTAMP,
  clock_out_time TIMESTAMP,
  work_minutes INT,
  location VARCHAR(100),
  status VARCHAR(30),
  FOREIGN KEY (user_id) REFERENCES users(id)
);</code></pre>
            </section>

            <!-- Section: æƒé™ç®¡ç† -->
            <section id="ç¬¬5ç« -æƒé™ç®¡ç†ä½“ç³»">
                <h2>ç¬¬5ç«  æƒé™ç®¡ç†ä½“ç³»</h2>

                <h3>5.1 7è§’è‰²æƒé™çŸ©é˜µ</h3>
                <table style="font-size: 12px;">
                    <thead>
                        <tr>
                            <th>æƒé™ç±»åˆ«</th>
                            <th>super_admin</th>
                            <th>platform_admin</th>
                            <th>factory_super</th>
                            <th>factory_admin</th>
                            <th>dept_admin</th>
                            <th>supervisor</th>
                            <th>operator</th>
                            <th>viewer</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>å¹³å°ç®¡ç†</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td><strong>ç”¨æˆ·ç®¡ç†</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td><strong>ç”Ÿäº§ç®¡ç†</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td><strong>è´¨é‡æ£€éªŒ</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td><strong>åº“å­˜ç®¡ç†</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td><strong>AIåˆ†æ</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td><strong>æ‰“å¡</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td><strong>æŠ¥è¡¨å¯¼å‡º</strong></td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                            <td>âŒ</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Section: æ ¸å¿ƒé¡µé¢è®¾è®¡ -->
            <section id="ç¬¬6ç« -æ ¸å¿ƒé¡µé¢ç•Œé¢è®¾è®¡">
                <h2>ç¬¬6ç«  æ ¸å¿ƒé¡µé¢ç•Œé¢è®¾è®¡</h2>

                <h3>6.1 ç™»å½•é¡µé¢ (EnhancedLoginScreen)</h3>

                <p><strong>é¡µé¢åŠŸèƒ½</strong>:</p>
                <ul>
                    <li>ç”¨æˆ·å/å¯†ç è¾“å…¥</li>
                    <li>ç”Ÿç‰©è¯†åˆ«ç™»å½•ï¼ˆå¯é€‰ï¼‰</li>
                    <li>è®°ä½å¯†ç é€‰é¡¹</li>
                    <li>å¿˜è®°å¯†ç é“¾æ¥</li>
                </ul>

                <h3>6.2 ç”Ÿäº§ä»ªè¡¨æ¿ (ProcessingDashboard)</h3>

                <p><strong>æ ¸å¿ƒå†…å®¹</strong>:</p>
                <ul>
                    <li>ğŸ“Š ä»Šæ—¥æ•°æ®å¡ç‰‡ï¼šè¿›è¡Œä¸­æ‰¹æ¬¡ã€å®Œæˆæ‰¹æ¬¡ã€å¾…è´¨æ£€ã€è®¾å¤‡å‘Šè­¦</li>
                    <li>ğŸš¨ æœ€è¿‘å‘Šè­¦ï¼šçº¢è‰²æ ‡é¢˜ï¼Œæ”¯æŒå¿«é€Ÿæ“ä½œ</li>
                    <li>ğŸ“‹ è¿›è¡Œä¸­çš„æ‰¹æ¬¡ï¼šæ˜¾ç¤ºè¿›åº¦å’Œæ¶ˆè€—æƒ…å†µ</li>
                    <li>å¿«æ·æ“ä½œæŒ‰é’®ï¼šåˆ›å»ºæ‰¹æ¬¡ã€æŸ¥çœ‹æ‰¹æ¬¡ã€æˆæœ¬åˆ†æã€AIåŠ©æ‰‹</li>
                </ul>

                <h3>6.3 æ‰“å¡é¡µé¢ (TimeClockScreen)</h3>

                <p><strong>æ ¸å¿ƒå†…å®¹</strong>:</p>
                <ul>
                    <li>å½“å‰çŠ¶æ€æ˜¾ç¤º</li>
                    <li>å¤§æŒ‰é’®ï¼šä¸Šç­/ä¸‹ç­æ‰“å¡</li>
                    <li>ğŸ“ ä½ç½®éªŒè¯ï¼ˆè·ç¦»å·¥å‚ï¼‰</li>
                    <li>ğŸ“¸ æ‹æ‘„æ‰“å¡ç…§ç‰‡</li>
                    <li>ğŸ‘¤ ç”Ÿç‰©è¯†åˆ«éªŒè¯</li>
                    <li>ğŸ“Š ä»Šæ—¥/å‘¨/æœˆå·¥æ—¶ç»Ÿè®¡</li>
                    <li>ğŸ“‹ æ‰“å¡è®°å½•åˆ—è¡¨</li>
                </ul>

                <h3>6.4 æ‰¹æ¬¡è¯¦æƒ…é¡µ (BatchDetailScreen)</h3>

                <p><strong>æ ¸å¿ƒå†…å®¹</strong>:</p>
                <ul>
                    <li>ğŸ“¦ åŸºæœ¬ä¿¡æ¯ï¼šæ‰¹æ¬¡å·ã€äº§å“ã€æ•°é‡ã€çŠ¶æ€ã€è¿›åº¦</li>
                    <li>ğŸ’° æˆæœ¬åˆ†æï¼šåŸæ–™/äººå·¥/è®¾å¤‡æˆæœ¬å æ¯”</li>
                    <li>ğŸ“ˆ äº§é‡è®°å½•ï¼šæœ€è¿‘å‡ å¤©çš„äº§é‡</li>
                    <li>ğŸ‘¥ å‚ä¸äººå‘˜ï¼šåˆ—è¡¨åŠå·¥æ—¶</li>
                    <li>ğŸ”§ è®¾å¤‡ä½¿ç”¨ï¼šè®¾å¤‡åŠä½¿ç”¨æ—¶é•¿</li>
                    <li>âœ… è´¨æ£€è®°å½•ï¼šè´¨æ£€çŠ¶æ€</li>
                </ul>

                <h3>6.5 æˆæœ¬åˆ†æé¡µ (CostAnalysisDashboard)</h3>

                <p><strong>æ ¸å¿ƒå†…å®¹</strong>:</p>
                <ul>
                    <li>ğŸ“Š 4ç»´æˆæœ¬å æ¯”ï¼ˆé¥¼å›¾ï¼‰</li>
                    <li>ğŸ’¡ AIæ™ºèƒ½è­¦å‘Šå’Œå»ºè®®</li>
                    <li>è¯¦ç»†æˆæœ¬åˆ†è§£è¡¨</li>
                    <li>å•ä½æˆæœ¬ vs ç›®æ ‡æˆæœ¬å¯¹æ¯”</li>
                    <li>AIåˆ†ææŒ‰é’®</li>
                </ul>
            </section>

            <!-- Section: APIè§„èŒƒ -->
            <section id="ç¬¬7ç« -apiè§„èŒƒä¸é›†æˆ">
                <h2>ç¬¬7ç«  APIè§„èŒƒä¸é›†æˆ</h2>

                <h3>7.1 ç»Ÿä¸€APIå“åº”æ ¼å¼</h3>
                <pre><code class="language-json">{
  "code": 200,
  "message": "æˆåŠŸ",
  "data": {
    // å®é™…ä¸šåŠ¡æ•°æ®
  },
  "timestamp": 1637467200000
}</code></pre>

                <p><strong>çŠ¶æ€ç </strong>:</p>
                <ul>
                    <li><code>200</code> - æˆåŠŸ</li>
                    <li><code>400</code> - å‚æ•°é”™è¯¯</li>
                    <li><code>401</code> - æœªè®¤è¯</li>
                    <li><code>403</code> - æƒé™ä¸è¶³</li>
                    <li><code>404</code> - èµ„æºä¸å­˜åœ¨</li>
                    <li><code>500</code> - æœåŠ¡å™¨é”™è¯¯</li>
                </ul>

                <h3>7.2 è®¤è¯è§„èŒƒ</h3>
                <p><strong>è¯·æ±‚å¤´</strong>:</p>
                <pre><code class="language-plaintext">Authorization: Bearer &lt;accessToken&gt;
X-Device-Id: &lt;deviceId&gt;
X-Factory-Id: &lt;factoryId&gt;</code></pre>

                <h3>7.3 åˆ†é¡µæŸ¥è¯¢è§„èŒƒ</h3>
                <p><strong>è¯·æ±‚å‚æ•°</strong>:</p>
                <pre><code class="language-json">{
  "page": 0,
  "pageSize": 20,
  "sort": "createdAt,desc"
}</code></pre>
            </section>

            <!-- Section: å®ç°çŠ¶æ€ -->
            <section id="ç¬¬8ç« -å®ç°çŠ¶æ€æ€»è§ˆ">
                <h2>ç¬¬8ç«  å®ç°çŠ¶æ€æ€»è§ˆ</h2>

                <h3>8.1 æ¨¡å—å®Œæˆåº¦ç»Ÿè®¡</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ¨¡å—</th>
                            <th>å‰ç«¯é¡µé¢</th>
                            <th>åç«¯API</th>
                            <th>å®Œæˆåº¦</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>è®¤è¯ä¸æˆæƒ</td>
                            <td>3</td>
                            <td>37</td>
                            <td><span class="status-badge status-complete">âœ… 95%</span></td>
                            <td>åŸºæœ¬å®Œæˆï¼Œä¸¤é˜¶æ®µæ³¨å†Œå¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>è€ƒå‹¤æ‰“å¡</td>
                            <td>5</td>
                            <td>30</td>
                            <td><span class="status-badge status-complete">âœ… 90%</span></td>
                            <td>åŸºæœ¬å®Œæˆï¼Œå†å²æŸ¥è¯¢å¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>ç”Ÿäº§åŠ å·¥</td>
                            <td>25</td>
                            <td>50</td>
                            <td><span class="status-badge status-inprogress">ğŸ”¨ 85%</span></td>
                            <td>AIè¯¦æƒ…é¡µå¾…å®Œå–„ï¼Œè®¾å¤‡é›†æˆå¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>AIæˆæœ¬åˆ†æ</td>
                            <td>5</td>
                            <td>12</td>
                            <td><span class="status-badge status-complete">âœ… 95%</span></td>
                            <td>åŸºæœ¬å®Œæˆï¼Œåªéœ€UIä¼˜åŒ–</td>
                        </tr>
                        <tr>
                            <td>è®¾å¤‡ç®¡ç†</td>
                            <td>4</td>
                            <td>26</td>
                            <td><span class="status-badge status-complete">âœ… 90%</span></td>
                            <td>åŸºæœ¬å®Œæˆï¼Œå‘Šè­¦é€»è¾‘å¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>è´¨é‡æ£€éªŒ</td>
                            <td>3</td>
                            <td>5</td>
                            <td><span class="status-badge status-inprogress">ğŸ”¨ 70%</span></td>
                            <td>åˆ›å»ºè´¨æ£€ã€è¯¦æƒ…é¡µå¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>åŸºç¡€æ•°æ®ç®¡ç†</td>
                            <td>14</td>
                            <td>å¤šä¸ª</td>
                            <td><span class="status-badge status-complete">âœ… 90%</span></td>
                            <td>CRUDå·²å®Œæˆï¼Œå¯¼å…¥å¯¼å‡ºå¾…å®Œæˆ</td>
                        </tr>
                        <tr>
                            <td>å¹³å°ç®¡ç†</td>
                            <td>3</td>
                            <td>12</td>
                            <td><span class="status-badge status-complete">âœ… 85%</span></td>
                            <td>åŸºæœ¬å®Œæˆï¼Œä»ªè¡¨æ¿å¾…å®Œå–„</td>
                        </tr>
                        <tr>
                            <td>æŠ¥è¡¨åˆ†æ</td>
                            <td>12</td>
                            <td>20</td>
                            <td><span class="status-badge status-inprogress">ğŸ”¨ 80%</span></td>
                            <td>5ä¸ªæŠ¥è¡¨å®Œæˆï¼Œæ•ˆç‡æŠ¥è¡¨å¾…å®Œæˆ</td>
                        </tr>
                    </tbody>
                </table>

                <h3>8.2 Phase 3å¾…å®Œæˆï¼ˆ2-3å‘¨ï¼‰</h3>

                <h4>P0çº§ï¼ˆç´§æ€¥ï¼Œ2å°æ—¶ï¼‰</h4>
                <ul>
                    <li>[ ] è®¾å¤‡ç›‘æ§é›†æˆåˆ°å¯¼èˆª</li>
                </ul>

                <h4>P1çº§ï¼ˆæ ¸å¿ƒï¼Œ3-4å¤©ï¼‰</h4>
                <ul>
                    <li>[ ] AIæ™ºèƒ½åˆ†æè¯¦æƒ…é¡µå®Œå–„</li>
                    <li>[ ] è´¨æ£€å®Œæ•´æµç¨‹</li>
                    <li>[ ] æˆæœ¬å¯¹æ¯”åˆ†æé¡µé¢</li>
                    <li>[ ] è®¾å¤‡å‘Šè­¦ç³»ç»Ÿ</li>
                    <li>[ ] åº“å­˜FIFOæ¨èAPI</li>
                </ul>

                <h4>P2çº§ï¼ˆè¾…åŠ©ï¼Œ5-7å¤©ï¼‰</h4>
                <ul>
                    <li>[ ] ä¸¤é˜¶æ®µç”¨æˆ·æ³¨å†Œ</li>
                    <li>[ ] æ•°æ®æŠ¥è¡¨å¯¼å‡º</li>
                    <li>[ ] æ‰“å¡å†å²æŸ¥è¯¢</li>
                    <li>[ ] å·¥å‚è®¾ç½®é¡µé¢</li>
                </ul>

                <h3>8.3 Phase 4-5è§„åˆ’è·¯çº¿å›¾</h3>

                <h4>Phase 4 (2025 Q2-Q3): æ¨ªå‘æ‰©å±•</h4>
                <ul>
                    <li>å…»æ®–æ¨¡å—</li>
                    <li>ç‰©æµæ¨¡å—</li>
                    <li>æº¯æºæ¨¡å—</li>
                    <li>é”€å”®æ¨¡å—</li>
                </ul>

                <h4>Phase 5 (2025ä¸‹åŠå¹´): å¹³å°åŒ–ç”Ÿæ€</h4>
                <ul>
                    <li>Webç®¡ç†åå°</li>
                    <li>é«˜çº§AIåŠŸèƒ½</li>
                    <li>äº§ä¸šäº’è”ç½‘å¹³å°</li>
                </ul>
            </section>

            <!-- Footer -->
            <footer style="margin-top: 60px; padding-top: 30px; border-top: 1px solid #e0e0e0; color: #888; font-size: 13px;">
                <p><strong>æ–‡æ¡£ç»´æŠ¤:</strong></p>
                <ul style="margin-top: 10px;">
                    <li>ç‰ˆæœ¬: v5.0</li>
                    <li>æœ€åæ›´æ–°: 2025-11-21</li>
                    <li>æ›´æ–°é¢‘ç‡: åŠŸèƒ½å‘å¸ƒåæˆ–æœˆåº¦æ›´æ–°</li>
                    <li>ç»´æŠ¤å›¢é˜Ÿ: æ¶æ„ + äº§å“</li>
                </ul>
                <p style="margin-top: 20px;"><strong>ç›¸å…³æ–‡æ¡£:</strong></p>
                <ul>
                    <li><a href="./PRD-åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„-v3.0.html">åŠŸèƒ½ä¸æ–‡ä»¶æ˜ å°„-v3.0</a></li>
                    <li><a href="./BUSINESS_LOGIC_OVERVIEW.md">ä¸šåŠ¡é€»è¾‘æ€»è§ˆ</a></li>
                    <li><a href="./PENDING_FEATURES_TODO.md">å¾…å®ç°åŠŸèƒ½æ¸…å•</a></li>
                </ul>
            </footer>
        </main>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘</div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/prism@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prism@1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prism@1.29.0/components/prism-json.min.js"></script>
    <script>
        // Sidebar Navigation Active State
        const navItems = document.querySelectorAll('.sidebar-nav-item');
        const sections = document.querySelectorAll('section');

        function updateActiveNav() {
            const scrollPosition = window.scrollY + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;

                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    navItems.forEach(item => item.classList.remove('active'));
                    const activeItem = document.querySelector(`[data-section="${section.id}"]`);
                    if (activeItem) {
                        activeItem.classList.add('active');
                    }
                }
            });
        }

        // Back to Top Button
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            updateActiveNav();
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('keyup', () => {
            const query = searchInput.value.toLowerCase();
            navItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(query) ? 'block' : 'none';
            });
        });

        // Initial active state
        updateActiveNav();
    </script>
</body>
</html>