# Phase 3 åŠŸèƒ½å®Œå–„è®¡åˆ’ - è¯¦ç»†å¼€å‘æŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-26
**ç›®æ ‡å®Œæˆæ—¥æœŸ**: 2025-11-23 (4å‘¨)
**å¼€å‘ç­–ç•¥**: ä¼˜å…ˆçº§åˆ†çº§ï¼Œå…ˆå®Œå–„åæ‰©å±•

---

## ğŸ“Š æ¦‚è§ˆ

### ä¼˜å…ˆçº§åˆ†å¸ƒ
- **P0 (ç´§æ€¥ä¿®å¤)**: 1é¡¹ï¼Œ2å°æ—¶
- **P1 (æ ¸å¿ƒåŠŸèƒ½)**: 6é¡¹ï¼Œ3-4å¤©
- **P2 (è¾…åŠ©åŠŸèƒ½)**: 10+é¡¹ï¼Œ5-7å¤©
- **åˆè®¡**: 17+é¡¹ï¼Œçº¦10-12å¤©å·¥ä½œé‡

### å¼€å‘æ—¶é—´è¡¨
```
Week 1: P0 (è®¾å¤‡ç›‘æ§) + P1 (AIåˆ†æ)
Week 2: P1 (è´¨æ£€) + P2 (æ³¨å†Œã€å¯¼å‡º)
Week 3-4: P2 (å…¶ä»–åŠŸèƒ½) + é›†æˆæµ‹è¯•
```

---

## ğŸ”´ P0çº§ä»»åŠ¡ (ç´§æ€¥ä¿®å¤ - 2å°æ—¶)

### Task P0-001: è®¾å¤‡ç›‘æ§é›†æˆ

**ç°çŠ¶**: æ–‡ä»¶å­˜åœ¨ä½†æ— æ³•è®¿é—®
- æ–‡ä»¶: `src/screens/future/EquipmentMonitoringScreen.tsx`
- é—®é¢˜: æœªæ·»åŠ åˆ°å¯¼èˆªå™¨ï¼Œæ— æ³•é€šè¿‡æ­£å¸¸è·¯ç”±è®¿é—®

**ä»»åŠ¡æ¸…å•**:

#### 1. æ–‡ä»¶ç§»åŠ¨ä¸é›†æˆ
```bash
# æ­¥éª¤1: å°†æ–‡ä»¶ç§»åˆ°processingç›®å½•
mv src/screens/future/EquipmentMonitoringScreen.tsx \
   src/screens/processing/EquipmentMonitoringScreen.tsx

# æ­¥éª¤2: æ›´æ–°ProcessingStackNavigatorå¯¼å…¥
# ç¼–è¾‘: src/navigation/ProcessingStackNavigator.tsx
æ·»åŠ : import EquipmentMonitoringScreen from '../screens/processing/EquipmentMonitoringScreen';

# æ­¥éª¤3: æ·»åŠ Stack.Screen
<Stack.Screen
  name="EquipmentMonitoring"
  component={EquipmentMonitoringScreen}
  options={{ title: 'è®¾å¤‡ç›‘æ§' }}
/>

# æ­¥éª¤4: æ›´æ–°ç±»å‹å®šä¹‰
# ç¼–è¾‘: src/types/navigation.ts
ProcessingStackParamList: {
  ...existing,
  EquipmentMonitoring: undefined;
}
```

#### 2. æ·»åŠ å¯¼èˆªå…¥å£
```typescript
// åœ¨ProcessingDashboardä¸­æ·»åŠ å¿«æ·æŒ‰é’®
<Button
  onPress={() => navigation.navigate('EquipmentMonitoring')}
  icon="monitor"
>
  è®¾å¤‡ç›‘æ§
</Button>
```

#### 3. éªŒè¯ä¸æµ‹è¯•
- [ ] æ£€æŸ¥æ–‡ä»¶å¯¼å…¥æ— è¯¯
- [ ] éªŒè¯ç±»å‹å®šä¹‰æ­£ç¡®
- [ ] æµ‹è¯•å¯¼èˆªè·³è½¬
- [ ] ç¡®ä¿æ²¡æœ‰ç¼–è¯‘é”™è¯¯

**é¢„è®¡å·¥ä½œé‡**: 30åˆ†é’Ÿ
**å®Œæˆæ ‡å‡†**: èƒ½å¤Ÿæ­£å¸¸è®¿é—®è®¾å¤‡ç›‘æ§é¡µé¢

---

## ğŸŸ  P1çº§ä»»åŠ¡ (æ ¸å¿ƒåŠŸèƒ½å®Œå–„ - 3-4å¤©)

### Task P1-001: AIæ™ºèƒ½åˆ†æè¯¦æƒ…é¡µ

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 1å¤©
**ä¾èµ–**: CostAnalysisDashboard (å·²å®Œæˆ)
**åç«¯ä¾èµ–**: AIåˆ†æAPI

**éœ€æ±‚æ¦‚è¿°**:
å±•ç¤ºDeepSeek AIå¯¹ç”Ÿäº§æ‰¹æ¬¡çš„5ç»´æ·±åº¦åˆ†æå’Œä¼˜åŒ–å»ºè®®

**åŠŸèƒ½éœ€æ±‚**:

#### 1. é¡µé¢ç»“æ„
```
DeepSeekAnalysisScreen
â”œâ”€ åˆ†ææŠ¥å‘Šå¤´ (æ‰¹æ¬¡å·ã€åˆ†ææ—¶é—´ã€ç½®ä¿¡åº¦)
â”œâ”€ ç»¼åˆè¯„ä»· (æ€»ä½“è¯„åˆ†ã€å»ºè®®ä¼˜å…ˆçº§)
â”œâ”€ 5ç»´æ·±åº¦åˆ†æ
â”‚  â”œâ”€ è½¬æ¢ç‡åˆ†æ
â”‚  â”œâ”€ äººå·¥æˆæœ¬åˆ†æ
â”‚  â”œâ”€ è®¾å¤‡æˆæœ¬åˆ†æ
â”‚  â”œâ”€ åŸæ–™æˆæœ¬åˆ†æ
â”‚  â””â”€ ä¸ªäººæ•ˆç‡åˆ†æ(ML)
â”œâ”€ ä¼˜åŒ–å»ºè®®æ±‡æ€» (3-5æ¡ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åº)
â”œâ”€ æˆæœ¬èŠ‚çœä¼°ç®—
â””â”€ æ“ä½œæŒ‰é’®
   â”œâ”€ é‡‡çº³å»ºè®®
   â”œâ”€ å¯¼å‡ºæŠ¥å‘Š
   â””â”€ åˆ†äº«
```

#### 2. æ•°æ®æ¨¡å‹
```typescript
interface DeepSeekAnalysis {
  id: string;
  batchId: string;
  analysisType: 'cost_optimization';
  model: string;
  analysisText: string;

  analyses: {
    conversionRate: {
      actual: number;
      expected: number;
      evaluation: 'excellent' | 'good' | 'fair' | 'poor';
      suggestion: string;
    };
    laborCost: {
      percentage: number;
      industryAvg: number;
      evaluation: string;
      suggestion: string;
    };
    equipmentCost: {
      depreciation: number;
      maintenance: number;
      consumables: number;
      energy: number;
      suggestions: string[];
    };
    rawMaterialCost: {
      utilization: number;
      wasteRate: number;
      evaluation: string;
    };
    employeeEfficiency: {
      scores: Array<{ employeeId: string; score: number; }>;
      predictions: string[];
    };
  };

  recommendations: Array<{
    priority: 'immediate' | 'high' | 'medium' | 'low';
    title: string;
    description: string;
    estimatedSavings: number;
    implementationTime: string;
    complexity: 'easy' | 'medium' | 'hard';
  }>;

  totalEstimatedSavings: number;
  confidence: number;
  timestamp: Date;
  cached: boolean;
}
```

#### 3. å®ç°æ­¥éª¤

**Step 1: åˆ›å»ºé¡µé¢ç»„ä»¶**
```
æ–‡ä»¶: src/screens/processing/DeepSeekAnalysisScreen.tsx
```

**Step 2: æ·»åŠ å¯¼èˆª**
- åœ¨ProcessingStackNavigatoræ·»åŠ è·¯ç”±
- ä»CostAnalysisDashboardæ·»åŠ è·³è½¬æŒ‰é’®

**Step 3: é›†æˆAPIå®¢æˆ·ç«¯**
```typescript
// è°ƒç”¨: GET /api/mobile/analysis/deepseek/:planId
const analysis = await analysisApiClient.getDeepSeekAnalysis(planId);
```

**Step 4: å®ç°UIç»„ä»¶**
- åˆ†æç»´åº¦å¡ç‰‡ç»„ä»¶
- ä¼˜åŒ–å»ºè®®åˆ—è¡¨ç»„ä»¶
- æˆæœ¬å¯¹æ¯”å›¾è¡¨ç»„ä»¶

**Step 5: æ·»åŠ å¯¼å‡ºåŠŸèƒ½**
- PDFç”Ÿæˆå’Œä¸‹è½½
- æŠ¥å‘Šåˆ†äº«åŠŸèƒ½

#### 4. åç«¯APIéœ€æ±‚
```
GET /api/mobile/analysis/deepseek/:planId

å“åº”ç¤ºä¾‹:
{
  "success": true,
  "data": {
    "id": "analysis_xxx",
    "batchId": "batch_xxx",
    "analyses": {...},
    "recommendations": [...],
    "totalEstimatedSavings": 5044,
    "confidence": 0.92,
    "timestamp": "2025-10-26T10:00:00Z"
  }
}
```

**å®Œæˆæ ‡å‡†**:
- [ ] é¡µé¢åˆ›å»ºå®Œæˆ
- [ ] æ‰€æœ‰APIé›†æˆ
- [ ] UIç¾è§‚å±•ç¤º
- [ ] å¯¼å‡ºåŠŸèƒ½å¯ç”¨
- [ ] æµ‹è¯•é€šè¿‡

---

### Task P1-002: è´¨æ£€å®Œæ•´æµç¨‹

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 2å¤©
**ä¾èµ–**: æ— 

**éœ€æ±‚æ¦‚è¿°**:
å®Œæ•´çš„è´¨æ£€è®°å½•åˆ›å»ºä¸æŸ¥çœ‹åŠŸèƒ½

#### 1. CreateQualityRecordScreen

**åŠŸèƒ½**:
```
â”Œâ”€ è´¨æ£€è¡¨å•
â”œâ”€ å…³è”ä¿¡æ¯
â”‚  â”œâ”€ æ‰¹æ¬¡å· (readonly)
â”‚  â””â”€ äº§å“ç±»å‹ (readonly)
â”œâ”€ è´¨æ£€ä¿¡æ¯
â”‚  â”œâ”€ è´¨æ£€ç±»å‹ * (åŸæ–™/è¿‡ç¨‹/æˆå“)
â”‚  â”œâ”€ è´¨æ£€å‘˜ * (ä¸‹æ‹‰é€‰æ‹©)
â”‚  â”œâ”€ æ£€éªŒæ—¥æœŸ * (è‡ªåŠ¨å¡«å†™ä»Šæ—¥)
â”‚  â””â”€ æ£€éªŒæ—¶é—´ * (è‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´)
â”œâ”€ è´¨æ£€è¯„åˆ†
â”‚  â”œâ”€ æ–°é²œåº¦è¯„åˆ† * (1-5æ˜Ÿ)
â”‚  â”œâ”€ å¤–è§‚è¯„åˆ† * (1-5æ˜Ÿ)
â”‚  â”œâ”€ æ°”å‘³è¯„åˆ† * (1-5æ˜Ÿ)
â”‚  â”œâ”€ å…¶ä»–è¯„åˆ† * (1-5æ˜Ÿ)
â”‚  â””â”€ ç»¼åˆè¯„åˆ† (è‡ªåŠ¨è®¡ç®—)
â”œâ”€ è´¨æ£€ç»“æœ
â”‚  â”œâ”€ è´¨æ£€ç»“è®º * (åˆæ ¼/æ¡ä»¶åˆæ ¼/ä¸åˆæ ¼)
â”‚  â””â”€ ä¸åˆæ ¼åŸå›  (if ä¸åˆæ ¼)
â”œâ”€ ç»†èŠ‚æè¿°
â”‚  â”œâ”€ è´¨æ£€å¤‡æ³¨ * (æ–‡æœ¬)
â”‚  â””â”€ è´¨æ£€ç…§ç‰‡ * (æ”¯æŒå¤šå¼ ä¸Šä¼ )
â””â”€ æ“ä½œæŒ‰é’®
   â”œâ”€ [å–æ¶ˆ] [ä¿å­˜è‰ç¨¿] [æäº¤]
```

**æ•°æ®æ¨¡å‹**:
```typescript
interface QualityRecord {
  id: string;
  batchId: string;
  inspectionType: 'raw_material' | 'process' | 'final_product';
  inspectorId: number;
  inspectionDate: Date;
  inspectionTime: string;

  scores: {
    freshness: number;      // 1-5
    appearance: number;     // 1-5
    smell: number;         // 1-5
    other: number;         // 1-5
    composite: number;     // è‡ªåŠ¨è®¡ç®—å¹³å‡å€¼
  };

  conclusion: 'qualified' | 'conditional' | 'unqualified';
  defectReason?: string;
  notes: string;
  photos: string[];       // ç…§ç‰‡URLæ•°ç»„

  status: 'draft' | 'submitted' | 'reviewed';
  createdAt: Date;
  updatedAt: Date;
}
```

#### 2. QualityInspectionDetailScreen

**åŠŸèƒ½**:
- æ˜¾ç¤ºè´¨æ£€è®°å½•è¯¦æƒ…
- æ”¯æŒä¿®æ”¹(è‰ç¨¿çŠ¶æ€)
- æ˜¾ç¤ºå†å²ç‰ˆæœ¬
- æ”¯æŒåˆ é™¤(è‰ç¨¿çŠ¶æ€)

**æ•°æ®æµ**:
```
QualityInspectionListScreen
  â†“ ç‚¹å‡»é¡¹ç›®
QualityInspectionDetailScreen
  â†“ çŠ¶æ€: draft â†’ [ç¼–è¾‘]
CreateQualityRecordScreen
  â†“ ä¿®æ”¹ä¿¡æ¯
  â†“ [æäº¤]
QualityInspectionDetailScreen (status: submitted)
```

#### 3. APIéœ€æ±‚
```
POST /api/mobile/processing/quality-inspections
è¯·æ±‚:
{
  "batchId": "batch_xxx",
  "inspectionType": "final_product",
  "inspectorId": 1,
  "scores": {
    "freshness": 5,
    "appearance": 4,
    "smell": 5,
    "other": 4
  },
  "conclusion": "qualified",
  "notes": "è´¨é‡è‰¯å¥½",
  "photos": ["url1", "url2"]
}

GET /api/mobile/processing/quality-inspections/:id
è¿”å›: QualityRecord å¯¹è±¡

PUT /api/mobile/processing/quality-inspections/:id
(æ›´æ–°è‰ç¨¿)

DELETE /api/mobile/processing/quality-inspections/:id
(åˆ é™¤è‰ç¨¿)
```

#### 4. å®ç°æ­¥éª¤
- [ ] åˆ›å»ºCreateQualityRecordScreen
- [ ] åˆ›å»ºQualityInspectionDetailScreen
- [ ] å®ç°è¡¨å•éªŒè¯
- [ ] é›†æˆAPIå®¢æˆ·ç«¯
- [ ] æ·»åŠ ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] æ›´æ–°QualityInspectionListScreenè·³è½¬é€»è¾‘
- [ ] æµ‹è¯•å®Œæ•´æµç¨‹

**å®Œæˆæ ‡å‡†**:
- [ ] èƒ½åˆ›å»ºè´¨æ£€è®°å½•
- [ ] èƒ½æŸ¥çœ‹å’Œç¼–è¾‘è®°å½•
- [ ] ç…§ç‰‡ä¸Šä¼ æ­£å¸¸
- [ ] æµç¨‹è½¬æ¢æ­£ç¡®
- [ ] æµ‹è¯•é€šè¿‡

---

### Task P1-003: æˆæœ¬å¯¹æ¯”åˆ†æ

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©
**ä¾èµ–**: CostAnalysisDashboard

**éœ€æ±‚**:
æ˜¾ç¤ºå†å²æ‰¹æ¬¡çš„æˆæœ¬å¯¹æ¯”å’Œæˆæœ¬è¶‹åŠ¿

**é¡µé¢ç»“æ„**:
```
CostComparisonScreen
â”œâ”€ æ—¥æœŸèŒƒå›´ç­›é€‰
â”œâ”€ å¯¹æ¯”è¡¨æ ¼
â”‚  â”œâ”€ æ‰¹æ¬¡å·
â”‚  â”œâ”€ ç”Ÿäº§æ—¥æœŸ
â”‚  â”œâ”€ æ€»æˆæœ¬
â”‚  â”œâ”€ å•ä½æˆæœ¬
â”‚  â”œâ”€ ç›®æ ‡æˆæœ¬
â”‚  â””â”€ åå·®
â”œâ”€ è¶‹åŠ¿å›¾è¡¨
â”‚  â”œâ”€ æˆæœ¬æŠ˜çº¿å›¾
â”‚  â””â”€ åå·®æŸ±çŠ¶å›¾
â””â”€ ç»Ÿè®¡æ•°æ®
   â”œâ”€ å¹³å‡æˆæœ¬
   â”œâ”€ æœ€é«˜/æœ€ä½
   â””â”€ è¶‹åŠ¿åˆ†æ
```

**APIéœ€æ±‚**:
```
GET /api/mobile/processing/cost/comparison?startDate=YYYY-MM-DD&endDate=YYYY-MM-DD
è¿”å›: Array<CostRecord>
```

---

### Task P1-004: è®¾å¤‡å‘Šè­¦ç³»ç»Ÿ

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©

**éœ€æ±‚**: è®¾å¤‡å‘Šè­¦åˆ—è¡¨å’Œå¤„ç†æµç¨‹

**é¡µé¢ç»“æ„**:
```
EquipmentAlertsScreen
â”œâ”€ å‘Šè­¦ç­›é€‰ (çº§åˆ«/çŠ¶æ€)
â”œâ”€ å‘Šè­¦åˆ—è¡¨
â”‚  â”œâ”€ ä¸¥é‡å‘Šè­¦ (çº¢è‰²) - critical
â”‚  â”œâ”€ è­¦å‘Š (é»„è‰²) - warning
â”‚  â””â”€ æç¤º (è“è‰²) - info
â”œâ”€ å‘Šè­¦è¯¦æƒ… (ç‚¹å‡»å±•å¼€)
â”œâ”€ å¤„ç†æµç¨‹
â”‚  â”œâ”€ æ ‡è®°å·²å¤„ç†
â”‚  â””â”€ æ·»åŠ å¤„ç†å¤‡æ³¨
â””â”€ å‘Šè­¦ç»Ÿè®¡
```

---

### Task P1-005: è®¾å¤‡è¯¦æƒ…é¡µ

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©

**éœ€æ±‚**: è®¾å¤‡åŸºæœ¬ä¿¡æ¯ã€å®æ—¶å‚æ•°ã€ç»´æŠ¤è®°å½•

**é¡µé¢ç»“æ„**:
```
EquipmentDetailScreen
â”œâ”€ è®¾å¤‡åŸºæœ¬ä¿¡æ¯
â”œâ”€ å®æ—¶å‚æ•°ç›‘æ§
â”œâ”€ ç»´æŠ¤è®°å½•å†å²
â””â”€ è®¾å¤‡çŠ¶æ€
```

---

### Task P1-006: åº“å­˜åŠŸèƒ½å¢å¼º

**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©
**ä¾èµ–**: MaterialBatchManagementScreen

**éœ€æ±‚**:
åœ¨åº“å­˜ç®¡ç†ä¸­å¢åŠ :
- [ ] FIFOæ¨èæ‰¹æ¬¡æ˜¾ç¤º
- [ ] åˆ°æœŸé¢„è­¦ (3å¤©/1å¤©/å½“å¤©)
- [ ] æ–°é²œè½¬å†»è½¬æ¢åŠŸèƒ½
- [ ] åº“å­˜å®æ—¶æ›´æ–°æ˜¾ç¤º

---

## ğŸŸ¡ P2çº§ä»»åŠ¡ (è¾…åŠ©åŠŸèƒ½ - 5-7å¤©)

### Task P2-001: ç”¨æˆ·æ³¨å†Œæµç¨‹

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 2å¤©
**ä¾èµ–**: æ— 

**ä¸¤é˜¶æ®µæ³¨å†Œæµç¨‹**:

#### Phase One: æ‰‹æœºéªŒè¯
```
RegisterPhaseOneScreen
â”œâ”€ æ‰‹æœºå·è¾“å…¥
â”œâ”€ éªŒè¯ç å‘é€
â”œâ”€ éªŒè¯ç è¾“å…¥ (å€’è®¡æ—¶60ç§’)
â”œâ”€ ç™½åå•æ£€æŸ¥
â””â”€ è·å–tempToken
```

#### Phase Two: å®Œå–„ä¿¡æ¯
```
RegisterPhaseTwoScreen
â”œâ”€ ç”¨æˆ·å *
â”œâ”€ å¯†ç  * (å¼ºåº¦æŒ‡ç¤º)
â”œâ”€ ç¡®è®¤å¯†ç  *
â”œâ”€ å§“å *
â”œâ”€ éƒ¨é—¨ * (ä¸‹æ‹‰é€‰æ‹©)
â”œâ”€ èº«ä»½å·(å¯é€‰)
â””â”€ [å–æ¶ˆ] [æ³¨å†Œ]
```

**APIéœ€æ±‚**:
```
POST /api/mobile/auth/register-phase-one
{
  "phoneNumber": "+8613800000000",
  "verificationType": "registration"
}
è¿”å›: { tempToken, expiresIn }

POST /api/mobile/auth/register-phase-two
{
  "tempToken": "temp_xxx",
  "username": "user123",
  "password": "password123",
  "fullName": "å¼ ä¸‰",
  "department": "processing"
}
è¿”å›: { accessToken, refreshToken }
```

**å®Œæˆæ ‡å‡†**:
- [ ] é¡µé¢åˆ›å»ºå®Œæˆ
- [ ] ç™½åå•æ£€æŸ¥æ­£å¸¸
- [ ] éªŒè¯ç å‘é€ä¸éªŒè¯
- [ ] ç”¨æˆ·åˆ›å»ºæˆåŠŸ
- [ ] è‡ªåŠ¨ç™»å½•

---

### Task P2-002: æ•°æ®æŠ¥è¡¨å¯¼å‡º

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 1.5å¤©

**éœ€æ±‚**: æ”¯æŒExcel/PDFå¯¼å‡ºå¤šç§æŠ¥è¡¨

**é¡µé¢ç»“æ„**:
```
DataExportScreen
â”œâ”€ æŠ¥è¡¨ç±»å‹é€‰æ‹©
â”‚  â”œâ”€ ç”Ÿäº§æŠ¥è¡¨
â”‚  â”œâ”€ æˆæœ¬æŠ¥è¡¨
â”‚  â””â”€ å·¥æ—¶æŠ¥è¡¨
â”œâ”€ æ—¥æœŸèŒƒå›´
â”œâ”€ å¯¼å‡ºæ ¼å¼é€‰æ‹©
â”‚  â”œâ”€ Excel
â”‚  â”œâ”€ PDF
â”‚  â””â”€ CSV
â””â”€ [å¯¼å‡º] æŒ‰é’®
```

**æŠ¥è¡¨å†…å®¹**:
1. **ç”Ÿäº§æŠ¥è¡¨**: æ‰¹æ¬¡å·ã€äº§å“ã€æ¶ˆè€—ã€äº§å‡ºã€è½¬æ¢ç‡ã€çŠ¶æ€
2. **æˆæœ¬æŠ¥è¡¨**: æ‰¹æ¬¡å·ã€æˆæœ¬æ˜ç»†ã€å•ä½æˆæœ¬ã€åå·®ã€è¶…æ”¯é‡‘é¢
3. **å·¥æ—¶æŠ¥è¡¨**: å‘˜å·¥ã€éƒ¨é—¨ã€å·¥ä½œç±»å‹ã€å·¥æ—¶ã€åŠ ç­æ—¶é—´

**APIéœ€æ±‚**:
```
POST /api/mobile/reports/export
{
  "reportType": "production",
  "startDate": "2025-10-01",
  "endDate": "2025-10-26",
  "format": "excel"
}
è¿”å›: { downloadUrl, expiresAt }
```

---

### Task P2-003: æ‰“å¡å†å²æŸ¥è¯¢

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©

**éœ€æ±‚**: æŒ‰æ—¥æœŸæŸ¥è¯¢æ‰“å¡å†å²

**é¡µé¢ç»“æ„**:
```
AttendanceHistoryScreen
â”œâ”€ æ—¥æœŸèŒƒå›´ç­›é€‰
â”œâ”€ æ‰“å¡è®°å½•åˆ—è¡¨
â”‚  â”œâ”€ æ—¥æœŸ
â”‚  â”œâ”€ ä¸Šç­æ—¶é—´
â”‚  â”œâ”€ ä¸‹ç­æ—¶é—´
â”‚  â”œâ”€ å·¥æ—¶
â”‚  â””â”€ å·¥ä½œç±»å‹
â””â”€ [å¯¼å‡º] æŒ‰é’®
```

---

### Task P2-004: å·¥å‚è®¾ç½®

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 1å¤©

**éœ€æ±‚**: å·¥å‚çº§é…ç½®ç®¡ç†

**é¡µé¢ç»“æ„**:
```
FactorySettingsScreen
â”œâ”€ åŸºæœ¬ä¿¡æ¯
â”‚  â”œâ”€ å·¥å‚åç§°
â”‚  â”œâ”€ å·¥å‚åœ°å€
â”‚  â””â”€ è”ç³»æ–¹å¼
â”œâ”€ å·¥ä½œæ—¶é—´é…ç½®
â”‚  â”œâ”€ ä¸Šç­æ—¶é—´
â”‚  â”œâ”€ ä¸‹ç­æ—¶é—´
â”‚  â””â”€ å·¥ä½œæ—¥è®¾ç½®
â”œâ”€ å‡æœŸé…ç½®
â”‚  â”œâ”€ å›½å®¶å‡æœŸ
â”‚  â””â”€ å…¬å¸å‡æœŸ
â””â”€ [ä¿å­˜] æŒ‰é’®
```

---

### Task P2-005: ç”Ÿäº§æ•°æ®åˆ†æå¢å¼º

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 1.5å¤©

**éœ€æ±‚**: å¢å¼ºProcessingDashboardçš„æ•°æ®å±•ç¤º

**æ·»åŠ å†…å®¹**:
- [ ] å‘¨è¶‹åŠ¿åˆ†æå›¾è¡¨
- [ ] æœˆè¶‹åŠ¿åˆ†æå›¾è¡¨
- [ ] å‘˜å·¥æ•ˆç‡æ’å
- [ ] æ‰¹æ¬¡å®Œæˆç‡ç»Ÿè®¡
- [ ] è®¾å¤‡è¿è¡Œç‡ç»Ÿè®¡

---

### Task P2-006: è´¨æ£€ç»Ÿè®¡åˆ†æ

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 1å¤©

**éœ€æ±‚**: è´¨æ£€æ•°æ®åˆ†æ

**é¡µé¢ç»“æ„**:
```
QualityAnalyticsScreen
â”œâ”€ åˆæ ¼ç‡è¶‹åŠ¿å›¾
â”œâ”€ ä¸åˆæ ¼åŸå› åˆ†æ
â”œâ”€ éƒ¨é—¨è´¨é‡æ’å
â””â”€ è´¨æ£€å‘˜æ•ˆç‡æ’å
```

---

### Task P2-007: å‘˜å·¥æ•ˆç‡MLé¢„æµ‹

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©

**éœ€æ±‚**: åœ¨ç®¡ç†æ¨¡å—æ˜¾ç¤ºå‘˜å·¥æ•ˆç‡è¯„åˆ†

**åŠŸèƒ½**:
- [ ] å‘˜å·¥ä¸ªäººæ•ˆç‡è¯„åˆ†
- [ ] MLæ•ˆç‡é¢„æµ‹
- [ ] å¯¹æ ‡è¡Œä¸šå¹³å‡å€¼
- [ ] åŸ¹è®­å»ºè®®

---

### Task P2-008: åº“å­˜ç›˜ç‚¹åŠŸèƒ½

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 0.5å¤©

**éœ€æ±‚**: å®ç‰©ç›˜ç‚¹ä¸ç³»ç»Ÿå¯¹è´¦

**åŠŸèƒ½**:
- [ ] æ‰¹æ¬¡é€‰æ‹©
- [ ] å®ç‰©æ•°é‡è¾“å…¥
- [ ] ç³»ç»Ÿæ•°é‡å¯¹æ¯”
- [ ] å·®å¼‚å¤„ç†

---

### Task P2-009: å¼‚å¸¸é¢„è­¦ç³»ç»Ÿ

**ä¼˜å…ˆçº§**: P2
**é¢„è®¡å·¥ä½œé‡**: 1å¤©

**éœ€æ±‚**: å¤šç»´åº¦å¼‚å¸¸é¢„è­¦

**é¢„è­¦ç±»å‹**:
- [ ] åŸæ–™åˆ°æœŸé¢„è­¦ (3å¤©/1å¤©/å½“å¤©)
- [ ] æˆæœ¬è¶…æ”¯é¢„è­¦ (>5%)
- [ ] è½¬æ¢ç‡å¼‚å¸¸é¢„è­¦ (Â±5%)
- [ ] è®¾å¤‡æ•…éšœé¢„è­¦
- [ ] å‘˜å·¥è¿Ÿåˆ°é¢„è­¦

**å®ç°æ–¹å¼**:
- åœ¨ç›¸å…³é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºé¢„è­¦æ¨ªå¹…
- é¢„è­¦ä¸­å¿ƒç»Ÿä¸€æ˜¾ç¤º
- æ”¯æŒæ¨é€é€šçŸ¥

---

### Task P2-010: å…¶ä»–è¾…åŠ©åŠŸèƒ½

**ä¼˜å…ˆçº§**: P2

1. **å¿˜è®°å¯†ç åŠŸèƒ½** (0.5å¤©)
   - ForgotPasswordScreen
   - æ‰‹æœºéªŒè¯ â†’ é‡ç½®å¯†ç 

2. **æ‰¹æ¬¡ç‰©æµè¿½è¸ª** (0.5å¤©)
   - åœ¨BatchDetailScreenæ·»åŠ ç‰©æµä¿¡æ¯

3. **ç”¨æˆ·åé¦ˆåŠŸèƒ½** (0.5å¤©)
   - FeedbackScreen
   - åé¦ˆæ”¶é›†ä¸æäº¤

---

## ğŸ“… å¼€å‘æ—¶é—´è¡¨

### Week 1 (10æœˆ26æ—¥ - 11æœˆ1æ—¥)
```
Monday-Wednesday: P0 (è®¾å¤‡ç›‘æ§) + P1-001 (AIåˆ†æ)
Thursday-Friday: P1-002 å¼€å§‹ (è´¨æ£€æµç¨‹)
```

### Week 2 (11æœˆ2æ—¥ - 11æœˆ8æ—¥)
```
Monday-Tuesday: P1-002 ç»§ç»­ (è´¨æ£€æµç¨‹)
Wednesday-Friday: P2-001 (æ³¨å†Œæµç¨‹)
```

### Week 3 (11æœˆ9æ—¥ - 11æœˆ15æ—¥)
```
Monday-Wednesday: P2-002 (æ•°æ®å¯¼å‡º)
Thursday-Friday: P2-003~005 (è¾…åŠ©åŠŸèƒ½)
```

### Week 4 (11æœˆ16æ—¥ - 11æœˆ23æ—¥)
```
Monday-Wednesday: P2-006~010 (å…¶ä»–åŠŸèƒ½)
Thursday-Friday: é›†æˆæµ‹è¯• + Bugä¿®å¤
```

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] æ‰€æœ‰P0ä»»åŠ¡å®Œæˆ
- [ ] æ‰€æœ‰P1ä»»åŠ¡å®Œæˆ
- [ ] æ‰€æœ‰P2ä»»åŠ¡å®Œæˆ
- [ ] æ— åŠŸèƒ½æ€§bug
- [ ] APIé›†æˆæ­£ç¡®

### è´¨é‡æ ‡å‡†
- [ ] ä»£ç æ— TypeScripté”™è¯¯
- [ ] UIç¾è§‚å®ç”¨
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾åˆ°è¦æ±‚ (<500ms API, <300ms é¡µé¢åˆ‡æ¢)
- [ ] å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥70%

### æ–‡æ¡£å®Œæ•´
- [ ] å¼€å‘æ–‡æ¡£æ›´æ–°
- [ ] APIæ–‡æ¡£å®Œæ•´
- [ ] ç”¨æˆ·æ“ä½œæŒ‡å—

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- ğŸ“‹ [å®ç°çŠ¶æ€æ€»è§ˆ](./PRD-å®ç°çŠ¶æ€æ€»è§ˆ.md)
- ğŸ“š [ç³»ç»Ÿéœ€æ±‚æ–‡æ¡£ v4.0](./PRD-ç³»ç»Ÿäº§å“éœ€æ±‚æ–‡æ¡£-v4.0.md)
- ğŸ”§ [åç«¯éœ€æ±‚æ¸…å•](../../backend/rn-update-tableandlogic.md)
- ğŸ¯ [å¼€å‘æŒ‡å¼•](../../CLAUDE.md)

---

**æ–‡æ¡£ç»“æŸ**

*æœ¬æ–‡æ¡£ä¸ºPhase 3å¼€å‘çš„è¯¦ç»†æŒ‡å—ï¼Œæ˜ç¡®äº†æ¯é¡¹ä»»åŠ¡çš„éœ€æ±‚ã€å·¥ä½œé‡å’Œå®Œæˆæ ‡å‡†ã€‚åç»­å¯æ ¹æ®å®é™…è¿›åº¦è¿›è¡Œè°ƒæ•´ã€‚*

*æœ€åæ›´æ–°: 2025-10-26*
