# é¡¹ç›®å¤‡ä»½ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ **æ¦‚è¿°**

æœ¬é¡¹ç›®å·²é…ç½®äº†è‡ªåŠ¨åŒ–å¤‡ä»½ç³»ç»Ÿï¼Œæ”¯æŒæ‰‹åŠ¨å¤‡ä»½å’Œå®šæ—¶è‡ªåŠ¨å¤‡ä»½ä¸¤ç§æ¨¡å¼ã€‚

## ğŸ”§ **å¿«é€Ÿä½¿ç”¨**

### **æ‰‹åŠ¨å¤‡ä»½**
```bash
# æ ‡å‡†å¤‡ä»½
npm run backup

# è¯¦ç»†è¾“å‡ºæ¨¡å¼
npm run backup-verbose
```

### **å¤‡ä»½å­˜å‚¨ä½ç½®**
- **ä½ç½®**: é¡¹ç›®æ ¹ç›®å½•ä¸‹
- **å‘½åæ ¼å¼**: `webback-YYYYMMDD-HHMM`
- **ç¤ºä¾‹**: `webback-20250602-0351`
- **ä¿ç•™æ•°é‡**: æœ€å¤š2ä¸ªå¤‡ä»½ï¼ˆè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½ï¼‰

## ğŸ“‚ **å¤‡ä»½å†…å®¹**

### **åŒ…å«çš„æ–‡ä»¶/ç›®å½•**
- âœ… æ‰€æœ‰æºä»£ç  (`src/`, `web-app/`, `web-app-next/`)
- âœ… é…ç½®æ–‡ä»¶ (`.vscode/`, `.cursor/`, `.husky/`)
- âœ… æ–‡æ¡£ (`docs/`, `README.md`, ç­‰)
- âœ… è„šæœ¬ (`scripts/`)
- âœ… é¡¹ç›®é…ç½® (`package.json`, `vercel.json`, ç­‰)
- âœ… é‡æ„ç›¸å…³æ–‡æ¡£ (`refactor/`)

### **æ’é™¤çš„æ–‡ä»¶/ç›®å½•**
- âŒ `node_modules/` (ä¾èµ–åŒ…)
- âŒ `.git/` (Gitå†å²)
- âŒ `.next/`, `dist/`, `build/` (æ„å»ºäº§ç‰©)
- âŒ `coverage/`, `tmp/` (ä¸´æ—¶æ–‡ä»¶)
- âŒ `*.log`, `*.cache` (ç¼“å­˜å’Œæ—¥å¿—)
- âŒ å…¶ä»–å¤‡ä»½ç›®å½• (`webback-*`, `backup-*`)

## â° **å®šæ—¶è‡ªåŠ¨å¤‡ä»½**

### **è®¾ç½®å®šæ—¶å¤‡ä»½**
```powershell
# è®¾ç½®æ¯æ—¥ä¸­åˆ2ç‚¹è‡ªåŠ¨å¤‡ä»½ï¼ˆå½“å‰è®¾ç½®ï¼‰
.\scripts\utils\Setup-DailyBackup.ps1 -BackupTime "14:00"

# è‡ªå®šä¹‰å¤‡ä»½æ—¶é—´ï¼ˆä¾‹å¦‚ä¸Šåˆ9ç‚¹ï¼‰
.\scripts\utils\Setup-DailyBackup.ps1 -BackupTime "09:00"
```

### **ç®¡ç†å®šæ—¶ä»»åŠ¡**
```powershell
# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
Get-ScheduledTask -TaskName "HeiNiu-Project-Daily-Backup"

# åˆ é™¤å®šæ—¶ä»»åŠ¡
.\scripts\utils\Setup-DailyBackup.ps1 -Remove

# æŸ¥çœ‹å¤‡ä»½æ—¥å¿—
Get-Content "scripts\utils\backup.log"
```

## ğŸ“Š **å¤‡ä»½ç»Ÿè®¡**

å…¸å‹å¤‡ä»½ä¿¡æ¯ï¼š
- **æ–‡ä»¶æ•°é‡**: ~820ä¸ªæ–‡ä»¶
- **è·³è¿‡æ–‡ä»¶**: ~75,000ä¸ªæ–‡ä»¶ï¼ˆä¸»è¦æ˜¯node_modulesï¼‰
- **å¤‡ä»½å¤§å°**: ~22MB
- **å¤‡ä»½æ—¶é—´**: ~10-15ç§’

## ğŸ” **å¤‡ä»½éªŒè¯**

### **æ£€æŸ¥å¤‡ä»½**
```powershell
# æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½
dir webback-* | ft Name,CreationTime

# æ£€æŸ¥æœ€æ–°å¤‡ä»½å†…å®¹
dir webback-* | sort CreationTime -Descending | select -First 1 | %{ dir $_.Name }
```

### **æ¢å¤æ–‡ä»¶**
å¦‚éœ€ä»å¤‡ä»½æ¢å¤ç‰¹å®šæ–‡ä»¶ï¼š
```powershell
# ç¤ºä¾‹ï¼šæ¢å¤package.json
copy webback-20250602-0351\package.json .\package.json
```

## ğŸš¨ **æ•…éšœæ’é™¤**

### **å¸¸è§é—®é¢˜**

#### **æƒé™é—®é¢˜**
```powershell
# å¦‚æœé‡åˆ°æ‰§è¡Œç­–ç•¥é—®é¢˜
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

#### **è·¯å¾„é—®é¢˜**
- ç¡®ä¿è„šæœ¬è·¯å¾„æ­£ç¡®ï¼š`scripts\utils\Create-ProjectBackup.ps1`
- ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œå‘½ä»¤

#### **ç©ºé—´ä¸è¶³**
- å¤‡ä»½ä¼šè‡ªåŠ¨ä¿ç•™æœ€å¤š2ä¸ªç‰ˆæœ¬
- æ‰‹åŠ¨æ¸…ç†ï¼š`Remove-Item webback-* -Recurse -Force`

### **æ—¥å¿—æŸ¥çœ‹**
```powershell
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼ˆå¦‚æœè®¾ç½®äº†å®šæ—¶ä»»åŠ¡ï¼‰
Get-Content "scripts\utils\backup.log" -Tail 50
```

## ğŸ”§ **é«˜çº§é…ç½®**

### **ä¿®æ”¹å¤‡ä»½å‚æ•°**
ç¼–è¾‘ `scripts\utils\Create-ProjectBackup.ps1` æ–‡ä»¶ï¼š

```powershell
# ä¿®æ”¹æœ€å¤§å¤‡ä»½æ•°é‡
$MaxBackups = 3  # æ”¹ä¸ºä¿ç•™3ä¸ªå¤‡ä»½

# ä¿®æ”¹å¤‡ä»½å‰ç¼€
$BackupPrefix = "mybackup"  # æ”¹ä¸º mybackup-æ—¶é—´

# æ·»åŠ æ’é™¤é¡¹
$ExcludeDirs += "my-custom-dir"
```

### **è‡ªå®šä¹‰å¤‡ä»½è„šæœ¬**
```powershell
# åªå¤‡ä»½ç‰¹å®šç›®å½•
.\scripts\utils\Create-ProjectBackup.ps1 -MaxBackups 5 -Verbose
```

## ğŸ“‹ **æœ€ä½³å®è·µ**

1. **å®šæœŸæ£€æŸ¥**: æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡å¤‡ä»½æ˜¯å¦æ­£å¸¸
2. **é‡è¦å˜æ›´å‰**: æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡å¤‡ä»½
3. **æµ‹è¯•æ¢å¤**: å®šæœŸæµ‹è¯•ä»å¤‡ä»½æ¢å¤æ–‡ä»¶
4. **ç©ºé—´ç›‘æ§**: æ³¨æ„å¤‡ä»½å ç”¨çš„ç£ç›˜ç©ºé—´
5. **æ—¥å¿—æ£€æŸ¥**: æŸ¥çœ‹å®šæ—¶å¤‡ä»½çš„æ‰§è¡Œæ—¥å¿—

## ğŸ“ **æ”¯æŒ**

å¦‚é‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥PowerShellæ‰§è¡Œç­–ç•¥
2. ç¡®è®¤è„šæœ¬æ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œ
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—è¿›è¡Œè¯Šæ–­
4. æ‰‹åŠ¨è¿è¡Œè„šæœ¬è¿›è¡Œè°ƒè¯•

---

**åˆ›å»ºæ—¶é—´**: 2025-06-02
**æœ€åæ›´æ–°**: 2025-06-02
**ç‰ˆæœ¬**: 1.0.0
